/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e={757:(e,t,n)=>{e.exports=n(666)},679:(e,t,n)=>{"use strict";var r=n(296),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function l(e){return r.isMemo(e)?s:o[e.$$typeof]||i}o[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o[r.Memo]=s;var u=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var s=c(n);h&&(s=s.concat(h(n)));for(var o=l(t),m=l(n),g=0;g<s.length;++g){var v=s[g];if(!(a[v]||r&&r[v]||m&&m[v]||o&&o[v])){var y=d(n,v);try{u(t,v,y)}catch(e){}}}}return t}},103:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,o=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,w=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function A(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case h:case a:case o:case s:case f:return e;default:switch(e=e&&e.$$typeof){case u:case d:case g:case m:case l:return e;default:return t}}case i:return t}}}function E(e){return A(e)===h}t.AsyncMode=c,t.ConcurrentMode=h,t.ContextConsumer=u,t.ContextProvider=l,t.Element=r,t.ForwardRef=d,t.Fragment=a,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=o,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return E(e)||A(e)===c},t.isConcurrentMode=E,t.isContextConsumer=function(e){return A(e)===u},t.isContextProvider=function(e){return A(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return A(e)===d},t.isFragment=function(e){return A(e)===a},t.isLazy=function(e){return A(e)===g},t.isMemo=function(e){return A(e)===m},t.isPortal=function(e){return A(e)===i},t.isProfiler=function(e){return A(e)===o},t.isStrictMode=function(e){return A(e)===s},t.isSuspense=function(e){return A(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===h||e===o||e===s||e===f||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===u||e.$$typeof===d||e.$$typeof===y||e.$$typeof===w||e.$$typeof===b||e.$$typeof===v)},t.typeOf=A},296:(e,t,n)=>{"use strict";e.exports=n(103)},448:(e,t,n)=>{"use strict";var r=n(294),i=n(840);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(o[e]=t,e=0;e<t.length;e++)s.add(t[e])}var c=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,a,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),E=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),C=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,U=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var B=!1;function V(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),a=r.stack.split("\n"),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(1!==s||1!==o)do{if(s--,0>--o||i[s]!==a[o]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=o);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function j(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return V(e.type,!1);case 11:return V(e.type.render,!1);case 1:return V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case k:return"Fragment";case E:return"Portal";case I:return"Profiler";case S:return"StrictMode";case R:return"Suspense";case _:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case x:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return z(e(t))}catch(e){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return U({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function Z(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return U({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function Ae(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,ke=null,Se=null;function Ie(e){if(e=gi(e)){if("function"!=typeof Ee)throw Error(a(280));var t=e.stateNode;t&&(t=yi(t),Ee(e.stateNode,e.type,t))}}function Te(e){ke?Se?Se.push(e):Se=[e]:ke=e}function Ce(){if(ke){var e=ke,t=Se;if(Se=ke=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ne(e,t){return e(t)}function Re(){}var _e=!1;function xe(e,t,n){if(_e)return e(t,n);_e=!0;try{return Ne(e,t,n)}finally{_e=!1,(null!==ke||null!==Se)&&(Re(),Ce())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=yi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var Pe=!1;if(c)try{var De={};Object.defineProperty(De,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ce){Pe=!1}function Le(e,t,n,r,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var Me=!1,Ue=null,Fe=!1,Be=null,Ve={onError:function(e){Me=!0,Ue=e}};function je(e,t,n,r,i,a,s,o,l){Me=!1,Ue=null,Le.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function He(e){if(ze(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return He(i),e;if(s===r)return He(i),t;s=s.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Je=i.unstable_requestPaint,Xe=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null,st=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2,ut=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=268435455&n;if(0!==s){var o=s&~i;0!==o?r=ht(o):0!=(a&=s)&&(r=ht(a))}else 0!=(s=n&~i)?r=ht(s):0!==a&&(r=ht(a));if(0===r)return 0;if(0!==t&&t!==r&&0==(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!=(4194240&a)))return t;if(0!=(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var yt=0;function wt(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var bt,At,Et,kt,St,It=!1,Tt=[],Ct=null,Nt=null,Rt=null,_t=new Map,xt=new Map,Ot=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":_t.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&null!==(t=gi(t))&&At(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=mi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Wt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=gi(n))&&At(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ft(e,t,n){Ut(e)&&n.delete(t)}function Bt(){It=!1,null!==Ct&&Ut(Ct)&&(Ct=null),null!==Nt&&Ut(Nt)&&(Nt=null),null!==Rt&&Ut(Rt)&&(Rt=null),_t.forEach(Ft),xt.forEach(Ft)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function jt(e){function t(t){return Vt(t,e)}if(0<Tt.length){Vt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Vt(Ct,e),null!==Nt&&Vt(Nt,e),null!==Rt&&Vt(Rt,e),_t.forEach(t),xt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Mt(n),null===n.blockedOn&&Ot.shift()}var zt=b.ReactCurrentBatchConfig;function qt(e,t,n,r){var i=yt,a=zt.transition;zt.transition=null;try{yt=1,Kt(e,t,n,r)}finally{yt=i,zt.transition=a}}function Ht(e,t,n,r){var i=yt,a=zt.transition;zt.transition=null;try{yt=4,Kt(e,t,n,r)}finally{yt=i,zt.transition=a}}function Kt(e,t,n,r){var i=Wt(e,t,n,r);if(null===i)zr(e,t,r,Gt,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Lt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Lt(Nt,e,t,n,r,i),!0;case"mouseover":return Rt=Lt(Rt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return _t.set(a,Lt(_t.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,xt.set(a,Lt(xt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var a=gi(i);if(null!==a&&bt(a),null===(a=Wt(e,t,n,r))&&zr(e,t,r,Gt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else zr(e,t,r,null,n)}var Gt=null;function Wt(e,t,n,r){if(Gt=null,null!==(e=mi(e=Ae(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Jt=null,Xt=null;function Zt(){if(Xt)return Xt;var e,t,n=Jt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[a-t];t++);return Xt=i.slice(e,1<t?1-t:void 0)}function $t(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function en(){return!0}function tn(){return!1}function nn(e){function t(t,n,r,i,a){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?en:tn,this.isPropagationStopped=tn,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=en)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=en)},persist:function(){},isPersistent:en}),t}var rn,an,sn,on={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=nn(on),un=U({},on,{view:0,detail:0}),cn=nn(un),hn=U({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(rn=e.screenX-sn.screenX,an=e.screenY-sn.screenY):an=rn=0,sn=e),rn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),dn=nn(hn),fn=nn(U({},hn,{dataTransfer:0})),pn=nn(U({},un,{relatedTarget:0})),mn=nn(U({},on,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=U({},on,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=nn(gn),yn=nn(U({},on,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},An={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=An[e])&&!!t[e]}function kn(){return En}var Sn=U({},un,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=$t(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?bn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?$t(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?$t(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=nn(Sn),Tn=nn(U({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=nn(U({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Nn=nn(U({},on,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=U({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_n=nn(Rn),xn=[9,13,27,32],On=c&&"CompositionEvent"in window,Pn=null;c&&"documentMode"in document&&(Pn=document.documentMode);var Dn=c&&"TextEvent"in window&&!Pn,Ln=c&&(!On||Pn&&8<Pn&&11>=Pn),Mn=String.fromCharCode(32),Un=!1;function Fn(e,t){switch(e){case"keyup":return-1!==xn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1,jn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!jn[e.type]:"textarea"===t}function qn(e,t,n,r){Te(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Kn=null;function Gn(e){Mr(e,0)}function Wn(e){if(W(vi(e)))return e}function Qn(e,t){if("change"===e)return t}var Yn=!1;if(c){var Jn;if(c){var Xn="oninput"in document;if(!Xn){var Zn=document.createElement("div");Zn.setAttribute("oninput","return;"),Xn="function"==typeof Zn.oninput}Jn=Xn}else Jn=!1;Yn=Jn&&(!document.documentMode||9<document.documentMode)}function $n(){Hn&&(Hn.detachEvent("onpropertychange",er),Kn=Hn=null)}function er(e){if("value"===e.propertyName&&Wn(Kn)){var t=[];qn(t,Kn,e,Ae(e)),xe(Gn,t)}}function tr(e,t,n){"focusin"===e?($n(),Kn=n,(Hn=t).attachEvent("onpropertychange",er)):"focusout"===e&&$n()}function nr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Wn(Kn)}function rr(e,t){if("click"===e)return Wn(t)}function ir(e,t){if("input"===e||"change"===e)return Wn(t)}var ar="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function sr(e,t){if(ar(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function or(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=or(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=or(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function cr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function dr(e){var t=cr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ur(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var s=lr(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fr=c&&"documentMode"in document&&11>=document.documentMode,pr=null,mr=null,gr=null,vr=!1;function yr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==pr||pr!==Q(r)||(r="selectionStart"in(r=pr)&&hr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Hr(mr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var br={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Ar={},Er={};function kr(e){if(Ar[e])return Ar[e];if(!br[e])return e;var t,n=br[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return Ar[e]=n[t];return e}c&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);var Sr=kr("animationend"),Ir=kr("animationiteration"),Tr=kr("animationstart"),Cr=kr("transitionend"),Nr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _r(e,t){Nr.set(e,t),l(t,[e])}for(var xr=0;xr<Rr.length;xr++){var Or=Rr[xr];_r(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}_r(Sr,"onAnimationEnd"),_r(Ir,"onAnimationIteration"),_r(Tr,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(Cr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,o,l,u){if(je.apply(this,arguments),Me){if(!Me)throw Error(a(198));var c=Ue;Me=!1,Ue=null,Fe||(Fe=!0,Be=c)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;Lr(i,o,u),a=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;Lr(i,o,u),a=l}}}if(Fe)throw e=Be,Fe=!1,Be=null,e}function Ur(e,t){var n=t[di];void 0===n&&(n=t[di]=new Set);var r=e+"__bubble";n.has(r)||(jr(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),jr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Br]){e[Br]=!0,s.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||Fr(t,!1,e),Fr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Fr("selectionchange",!1,t))}}function jr(e,t,n,r){switch(Qt(t)){case 1:var i=qt;break;case 4:i=Ht;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function zr(e,t,n,r,i){var a=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==o;){if(null===(s=mi(o)))return;if(5===(l=s.tag)||6===l){r=a=s;continue e}o=o.parentNode}}r=r.return}xe((function(){var r=a,i=Ae(n),s=[];e:{var o=Nr.get(e);if(void 0!==o){var l=ln,u=e;switch(e){case"keypress":if(0===$t(n))break e;case"keydown":case"keyup":l=In;break;case"focusin":u="focus",l=pn;break;case"focusout":u="blur",l=pn;break;case"beforeblur":case"afterblur":l=pn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=dn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Cn;break;case Sr:case Ir:case Tr:l=mn;break;case Cr:l=Nn;break;case"scroll":l=cn;break;case"wheel":l=_n;break;case"copy":case"cut":case"paste":l=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var c=0!=(4&t),h=!c&&"scroll"===e,d=c?null!==o?o+"Capture":null:o;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&null!=(m=Oe(p,d))&&c.push(qr(p,m,f))),h)break;p=p.return}0<c.length&&(o=new l(o,u,null,n,i),s.push({event:o,listeners:c}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(u=n.relatedTarget||n.fromElement)||!mi(u)&&!u[hi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?mi(u):null)&&(u!==(h=ze(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=dn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Tn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?o:vi(l),f=null==u?o:vi(u),(o=new c(m,p+"leave",l,n,i)).target=h,o.relatedTarget=f,m=null,mi(i)===r&&((c=new c(d,p+"enter",u,n,i)).target=f,c.relatedTarget=h,m=c),h=m,l&&u)e:{for(d=u,p=0,f=c=l;f;f=Kr(f))p++;for(f=0,m=d;m;m=Kr(m))f++;for(;0<p-f;)c=Kr(c),p--;for(;0<f-p;)d=Kr(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Kr(c),d=Kr(d)}c=null}else c=null;null!==l&&Gr(s,o,l,c,!1),null!==u&&null!==h&&Gr(s,h,u,c,!0)}if("select"===(l=(o=r?vi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Qn;else if(zn(o))if(Yn)g=ir;else{g=nr;var v=tr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=rr);switch(g&&(g=g(e,r))?qn(s,g,n,i):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?vi(r):window,e){case"focusin":(zn(v)||"true"===v.contentEditable)&&(pr=v,mr=r,gr=null);break;case"focusout":gr=mr=pr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,yr(s,n,i);break;case"selectionchange":if(fr)break;case"keydown":case"keyup":yr(s,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Vn?Fn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Ln&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Vn&&(y=Zt()):(Jt="value"in(Yt=i)?Yt.value:Yt.textContent,Vn=!0)),0<(v=Hr(r,w)).length&&(w=new yn(w,e,null,n,i),s.push({event:w,listeners:v}),(y||null!==(y=Bn(n)))&&(w.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Mn);case"textInput":return(e=t.data)===Mn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!On&&Fn(e,t)?(e=Zt(),Xt=Jt=Yt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Hr(r,"onBeforeInput")).length&&(i=new yn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y)}Mr(s,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Oe(e,n))&&r.unshift(qr(e,a,i)),null!=(a=Oe(e,t))&&r.push(qr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var a=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==u&&(o=u,i?null!=(l=Oe(n,a))&&s.unshift(qr(n,l,o)):i||null!=(l=Oe(n,a))&&s.push(qr(n,l,o))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Wr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Yr(e){return("string"==typeof e?e:""+e).replace(Wr,"\n").replace(Qr,"")}function Jr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function Xr(){}var Zr=null;function $r(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ei="function"==typeof setTimeout?setTimeout:void 0,ti="function"==typeof clearTimeout?clearTimeout:void 0,ni="function"==typeof Promise?Promise:void 0,ri="function"==typeof queueMicrotask?queueMicrotask:void 0!==ni?function(e){return ni.resolve(null).then(e).catch(ii)}:ei;function ii(e){setTimeout((function(){throw e}))}function ai(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void jt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);jt(t)}function si(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function oi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var li=Math.random().toString(36).slice(2),ui="__reactFiber$"+li,ci="__reactProps$"+li,hi="__reactContainer$"+li,di="__reactEvents$"+li,fi="__reactListeners$"+li,pi="__reactHandles$"+li;function mi(e){var t=e[ui];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hi]||n[ui]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=oi(e);null!==e;){if(n=e[ui])return n;e=oi(e)}return t}n=(e=n).parentNode}return null}function gi(e){return!(e=e[ui]||e[hi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function vi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function yi(e){return e[ci]||null}var wi=[],bi=-1;function Ai(e){return{current:e}}function Ei(e){0>bi||(e.current=wi[bi],wi[bi]=null,bi--)}function ki(e,t){bi++,wi[bi]=e.current,e.current=t}var Si={},Ii=Ai(Si),Ti=Ai(!1),Ci=Si;function Ni(e,t){var n=e.type.contextTypes;if(!n)return Si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!=e.childContextTypes}function _i(){Ei(Ti),Ei(Ii)}function xi(e,t,n){if(Ii.current!==Si)throw Error(a(168));ki(Ii,t),ki(Ti,n)}function Oi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return U({},n,r)}function Pi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,Ci=Ii.current,ki(Ii,e),ki(Ti,Ti.current),!0}function Di(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Oi(e,t,Ci),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ti),Ei(Ii),ki(Ii,e)):Ei(Ti),ki(Ti,n)}var Li=null,Mi=!1,Ui=!1;function Fi(e){null===Li?Li=[e]:Li.push(e)}function Bi(){if(!Ui&&null!==Li){Ui=!0;var e=0,t=yt;try{var n=Li;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Li=null,Mi=!1}catch(t){throw null!==Li&&(Li=Li.slice(e+1)),We($e,Bi),t}finally{yt=t,Ui=!1}}return null}var Vi=b.ReactCurrentBatchConfig;function ji(e,t){if(e&&e.defaultProps){for(var n in t=U({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var zi=Ai(null),qi=null,Hi=null,Ki=null;function Gi(){Ki=Hi=qi=null}function Wi(e){var t=zi.current;Ei(zi),e._currentValue=t}function Qi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Yi(e,t){qi=e,Ki=Hi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(vo=!0),e.firstContext=null)}function Ji(e){var t=e._currentValue;if(Ki!==e)if(e={context:e,memoizedValue:t,next:null},null===Hi){if(null===qi)throw Error(a(308));Hi=e,qi.dependencies={lanes:0,firstContext:e}}else Hi=Hi.next=e;return t}var Xi=null,Zi=!1;function $i(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ea(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ta(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function na(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==vl&&0!=(1&e.mode)&&0==(2&gl)?(null===(e=n.interleaved)?(t.next=t,null===Xi?Xi=[n]:Xi.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function ra(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function ia(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=s:a=a.next=s,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function aa(e,t,n,r){var i=e.updateQueue;Zi=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,u=l.next;l.next=null,null===s?a=u:s.next=u,s=l;var c=e.alternate;null!==c&&(o=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===o?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l)}if(null!==a){var h=i.baseState;for(s=0,c=u=l=null,o=a;;){var d=o.lane,f=o.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(d=t,f=n,m.tag){case 1:if("function"==typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(d="function"==typeof(p=m.payload)?p.call(f,h,d):p))break e;h=U({},h,d);break e;case 2:Zi=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[o]:d.push(o))}else f={eventTime:f,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(u=c=f,l=h):c=c.next=f,s|=d;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(d=o).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Sl|=s,e.lanes=s,e.memoizedState=h}}function sa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(a(191,i));i.call(r)}}}var oa=(new r.Component).refs;function la(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:U({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ua={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=jl(),i=zl(e),a=ta(r,i);a.payload=t,null!=n&&(a.callback=n),na(e,a),null!==(t=ql(e,i,r))&&ra(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=jl(),i=zl(e),a=ta(r,i);a.tag=1,a.payload=t,null!=n&&(a.callback=n),na(e,a),null!==(t=ql(e,i,r))&&ra(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=jl(),r=zl(e),i=ta(n,r);i.tag=2,null!=t&&(i.callback=t),na(e,i),null!==(t=ql(e,r,n))&&ra(t,e,r)}};function ca(e,t,n,r,i,a,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,s):!(t.prototype&&t.prototype.isPureReactComponent&&sr(n,r)&&sr(i,a))}function ha(e,t,n){var r=!1,i=Si,a=t.contextType;return"object"==typeof a&&null!==a?a=Ji(a):(i=Ri(t)?Ci:Ii.current,a=(r=null!=(r=t.contextTypes))?Ni(e,i):Si),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ua,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function da(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ua.enqueueReplaceState(t,t.state,null)}function fa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=oa,$i(e);var a=t.contextType;"object"==typeof a&&null!==a?i.context=Ji(a):(a=Ri(t)?Ci:Ii.current,i.context=Ni(e,a)),i.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(la(e,t,a,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ua.enqueueReplaceState(i,i.state,null),aa(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}var pa=[],ma=0,ga=null,va=0,ya=[],wa=0,ba=null,Aa=1,Ea="";function ka(e,t){pa[ma++]=va,pa[ma++]=ga,ga=e,va=t}function Sa(e,t,n){ya[wa++]=Aa,ya[wa++]=Ea,ya[wa++]=ba,ba=e;var r=Aa;e=Ea;var i=32-st(r)-1;r&=~(1<<i),n+=1;var a=32-st(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Aa=1<<32-st(t)+i|n<<i|r,Ea=a+e}else Aa=1<<a|n<<i|r,Ea=e}function Ia(e){null!==e.return&&(ka(e,1),Sa(e,1,0))}function Ta(e){for(;e===ga;)ga=pa[--ma],pa[ma]=null,va=pa[--ma],pa[ma]=null;for(;e===ba;)ba=ya[--wa],ya[wa]=null,Ea=ya[--wa],ya[wa]=null,Aa=ya[--wa],ya[wa]=null}var Ca=null,Na=null,Ra=!1,_a=null;function xa(e,t){var n=wu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Oa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Ca=e,Na=si(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Ca=e,Na=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==ba?{id:Aa,overflow:Ea}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=wu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Ca=e,Na=null,!0);default:return!1}}function Pa(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function Da(e){if(Ra){var t=Na;if(t){var n=t;if(!Oa(e,t)){if(Pa(e))throw Error(a(418));t=si(n.nextSibling);var r=Ca;t&&Oa(e,t)?xa(r,n):(e.flags=-4097&e.flags|2,Ra=!1,Ca=e)}}else{if(Pa(e))throw Error(a(418));e.flags=-4097&e.flags|2,Ra=!1,Ca=e}}}function La(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ca=e}function Ma(e){if(e!==Ca)return!1;if(!Ra)return La(e),Ra=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!$r(e.type,e.memoizedProps)),t&&(t=Na)){if(Pa(e)){for(e=Na;e;)e=si(e.nextSibling);throw Error(a(418))}for(;t;)xa(e,t),t=si(t.nextSibling)}if(La(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Na=si(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Na=null}}else Na=Ca?si(e.stateNode.nextSibling):null;return!0}function Ua(){Na=Ca=null,Ra=!1}function Fa(e){null===_a?_a=[e]:_a.push(e)}function Ba(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;t===oa&&(t=i.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Va(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ja(e){return(0,e._init)(e._payload)}function za(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Au(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Iu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var a=n.type;return a===k?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===O&&ja(a)===t.type)?((r=i(t,n.props)).ref=Ba(e,t,n),r.return=e,r):((r=Eu(n.type,n.key,n.props,null,e.mode,r)).ref=Ba(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Tu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,a){return null===t||7!==t.tag?((t=ku(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Iu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case A:return(n=Eu(t.type,t.key,t.props,null,e.mode,n)).ref=Ba(e,null,t),n.return=e,n;case E:return(t=Tu(t,e.mode,n)).return=e,t;case O:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=ku(t,e.mode,n,null)).return=e,t;Va(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case A:return n.key===i?u(e,t,n,r):null;case E:return n.key===i?c(e,t,n,r):null;case O:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:h(e,t,n,r,null);Va(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case A:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,i,null);Va(t,r)}return null}function m(i,a,o,l){for(var u=null,c=null,h=a,m=a=0,g=null;null!==h&&m<o.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,o[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),a=s(v,a,m),null===c?u=v:c.sibling=v,c=v,h=g}if(m===o.length)return n(i,h),Ra&&ka(i,m),u;if(null===h){for(;m<o.length;m++)null!==(h=d(i,o[m],l))&&(a=s(h,a,m),null===c?u=h:c.sibling=h,c=h);return Ra&&ka(i,m),u}for(h=r(i,h);m<o.length;m++)null!==(g=p(h,i,m,o[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),a=s(g,a,m),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach((function(e){return t(i,e)})),Ra&&ka(i,m),u}function g(i,o,l,u){var c=L(l);if("function"!=typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var h=c=null,m=o,g=o=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var w=f(i,m,y.value,u);if(null===w){null===m&&(m=v);break}e&&m&&null===w.alternate&&t(i,m),o=s(w,o,g),null===h?c=w:h.sibling=w,h=w,m=v}if(y.done)return n(i,m),Ra&&ka(i,g),c;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(i,y.value,u))&&(o=s(y,o,g),null===h?c=y:h.sibling=y,h=y);return Ra&&ka(i,g),c}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=s(y,o,g),null===h?c=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),Ra&&ka(i,g),c}return function e(r,a,s,l){if("object"==typeof s&&null!==s&&s.type===k&&null===s.key&&(s=s.props.children),"object"==typeof s&&null!==s){switch(s.$$typeof){case A:e:{for(var u=s.key,c=a;null!==c;){if(c.key===u){if((u=s.type)===k){if(7===c.tag){n(r,c.sibling),(a=i(c,s.props.children)).return=r,r=a;break e}}else if(c.elementType===u||"object"==typeof u&&null!==u&&u.$$typeof===O&&ja(u)===c.type){n(r,c.sibling),(a=i(c,s.props)).ref=Ba(r,c,s),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}s.type===k?((a=ku(s.props.children,r.mode,l,s.key)).return=r,r=a):((l=Eu(s.type,s.key,s.props,null,r.mode,l)).ref=Ba(r,a,s),l.return=r,r=l)}return o(r);case E:e:{for(c=s.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===s.containerInfo&&a.stateNode.implementation===s.implementation){n(r,a.sibling),(a=i(a,s.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Tu(s,r.mode,l)).return=r,r=a}return o(r);case O:return e(r,a,(c=s._init)(s._payload),l)}if(te(s))return m(r,a,s,l);if(L(s))return g(r,a,s,l);Va(r,s)}return"string"==typeof s&&""!==s||"number"==typeof s?(s=""+s,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,s)).return=r,r=a):(n(r,a),(a=Iu(s,r.mode,l)).return=r,r=a),o(r)):n(r,a)}}var qa=za(!0),Ha=za(!1),Ka={},Ga=Ai(Ka),Wa=Ai(Ka),Qa=Ai(Ka);function Ya(e){if(e===Ka)throw Error(a(174));return e}function Ja(e,t){switch(ki(Qa,t),ki(Wa,e),ki(Ga,Ka),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Ga),ki(Ga,t)}function Xa(){Ei(Ga),Ei(Wa),Ei(Qa)}function Za(e){Ya(Qa.current);var t=Ya(Ga.current),n=le(t,e.type);t!==n&&(ki(Wa,e),ki(Ga,n))}function $a(e){Wa.current===e&&(Ei(Ga),Ei(Wa))}var es=Ai(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ns=[];function rs(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var is=b.ReactCurrentDispatcher,as=b.ReactCurrentBatchConfig,ss=0,os=null,ls=null,us=null,cs=!1,hs=!1,ds=0,fs=0;function ps(){throw Error(a(321))}function ms(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function gs(e,t,n,r,i,s){if(ss=s,os=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,is.current=null===e||null===e.memoizedState?Zs:$s,e=n(r,i),hs){s=0;do{if(hs=!1,ds=0,25<=s)throw Error(a(301));s+=1,us=ls=null,t.updateQueue=null,is.current=eo,e=n(r,i)}while(hs)}if(is.current=Xs,t=null!==ls&&null!==ls.next,ss=0,us=ls=os=null,cs=!1,t)throw Error(a(300));return e}function vs(){var e=0!==ds;return ds=0,e}function ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===us?os.memoizedState=us=e:us=us.next=e,us}function ws(){if(null===ls){var e=os.alternate;e=null!==e?e.memoizedState:null}else e=ls.next;var t=null===us?os.memoizedState:us.next;if(null!==t)us=t,ls=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ls=e).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===us?os.memoizedState=us=e:us=us.next=e}return us}function bs(e,t){return"function"==typeof t?t(e):t}function As(e){var t=ws(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ls,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=o=null,u=null,c=s;do{var h=c.lane;if((ss&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=d,o=r):u=u.next=d,os.lanes|=h,Sl|=h}c=c.next}while(null!==c&&c!==s);null===u?o=r:u.next=l,ar(r,t.memoizedState)||(vo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,os.lanes|=s,Sl|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Es(e){var t=ws(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);ar(s,t.memoizedState)||(vo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function ks(){}function Ss(e,t){var n=os,r=ws(),i=t(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,vo=!0),r=r.queue,Ls(Cs.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==us&&1&us.memoizedState.tag){if(n.flags|=2048,_s(9,Ts.bind(null,n,r,i,t),void 0,null),null===vl)throw Error(a(349));0!=(30&ss)||Is(n,t,i)}return i}function Is(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=os.updateQueue)?(t={lastEffect:null,stores:null},os.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ts(e,t,n,r){t.value=n,t.getSnapshot=r,Ns(t)&&ql(e,1,-1)}function Cs(e,t,n){return n((function(){Ns(t)&&ql(e,1,-1)}))}function Ns(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(e){return!0}}function Rs(e){var t=ys();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:e},t.queue=e,e=e.dispatch=Gs.bind(null,os,e),[t.memoizedState,e]}function _s(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=os.updateQueue)?(t={lastEffect:null,stores:null},os.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function xs(){return ws().memoizedState}function Os(e,t,n,r){var i=ys();os.flags|=e,i.memoizedState=_s(1|t,n,void 0,void 0===r?null:r)}function Ps(e,t,n,r){var i=ws();r=void 0===r?null:r;var a=void 0;if(null!==ls){var s=ls.memoizedState;if(a=s.destroy,null!==r&&ms(r,s.deps))return void(i.memoizedState=_s(t,n,a,r))}os.flags|=e,i.memoizedState=_s(1|t,n,a,r)}function Ds(e,t){return Os(8390656,8,e,t)}function Ls(e,t){return Ps(2048,8,e,t)}function Ms(e,t){return Ps(4,2,e,t)}function Us(e,t){return Ps(4,4,e,t)}function Fs(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bs(e,t,n){return n=null!=n?n.concat([e]):null,Ps(4,4,Fs.bind(null,t,e),n)}function Vs(){}function js(e,t){var n=ws();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function zs(e,t){var n=ws();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qs(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=as.transition;as.transition={};try{e(!1),t()}finally{yt=n,as.transition=r}}function Hs(){return ws().memoizedState}function Ks(e,t,n){var r=zl(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ws(e)?Qs(t,n):(Ys(e,t,n),null!==(e=ql(e,r,n=jl()))&&Js(e,t,r))}function Gs(e,t,n){var r=zl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ws(e))Qs(t,i);else{Ys(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,ar(o,s))return}catch(e){}null!==(e=ql(e,r,n=jl()))&&Js(e,t,r)}}function Ws(e){var t=e.alternate;return e===os||null!==t&&t===os}function Qs(e,t){hs=cs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ys(e,t,n){null!==vl&&0!=(1&e.mode)&&0==(2&gl)?(null===(e=t.interleaved)?(n.next=n,null===Xi?Xi=[t]:Xi.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function Js(e,t,n){if(0!=(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Xs={readContext:Ji,useCallback:ps,useContext:ps,useEffect:ps,useImperativeHandle:ps,useInsertionEffect:ps,useLayoutEffect:ps,useMemo:ps,useReducer:ps,useRef:ps,useState:ps,useDebugValue:ps,useDeferredValue:ps,useTransition:ps,useMutableSource:ps,useSyncExternalStore:ps,useId:ps,unstable_isNewReconciler:!1},Zs={readContext:Ji,useCallback:function(e,t){return ys().memoizedState=[e,void 0===t?null:t],e},useContext:Ji,useEffect:Ds,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Os(4194308,4,Fs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Os(4194308,4,e,t)},useInsertionEffect:function(e,t){return Os(4,2,e,t)},useMemo:function(e,t){var n=ys();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ys();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ks.bind(null,os,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ys().memoizedState=e},useState:Rs,useDebugValue:Vs,useDeferredValue:function(e){var t=Rs(e),n=t[0],r=t[1];return Ds((function(){var t=as.transition;as.transition={};try{r(e)}finally{as.transition=t}}),[e]),n},useTransition:function(){var e=Rs(!1),t=e[0];return e=qs.bind(null,e[1]),ys().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=os,i=ys();if(Ra){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===vl)throw Error(a(349));0!=(30&ss)||Is(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Ds(Cs.bind(null,r,s,e),[e]),r.flags|=2048,_s(9,Ts.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ys(),t=vl.identifierPrefix;if(Ra){var n=Ea;t=":"+t+"R"+(n=(Aa&~(1<<32-st(Aa)-1)).toString(32)+n),0<(n=ds++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$s={readContext:Ji,useCallback:js,useContext:Ji,useEffect:Ls,useImperativeHandle:Bs,useInsertionEffect:Ms,useLayoutEffect:Us,useMemo:zs,useReducer:As,useRef:xs,useState:function(){return As(bs)},useDebugValue:Vs,useDeferredValue:function(e){var t=As(bs),n=t[0],r=t[1];return Ls((function(){var t=as.transition;as.transition={};try{r(e)}finally{as.transition=t}}),[e]),n},useTransition:function(){return[As(bs)[0],ws().memoizedState]},useMutableSource:ks,useSyncExternalStore:Ss,useId:Hs,unstable_isNewReconciler:!1},eo={readContext:Ji,useCallback:js,useContext:Ji,useEffect:Ls,useImperativeHandle:Bs,useInsertionEffect:Ms,useLayoutEffect:Us,useMemo:zs,useReducer:Es,useRef:xs,useState:function(){return Es(bs)},useDebugValue:Vs,useDeferredValue:function(e){var t=Es(bs),n=t[0],r=t[1];return Ls((function(){var t=as.transition;as.transition={};try{r(e)}finally{as.transition=t}}),[e]),n},useTransition:function(){return[Es(bs)[0],ws().memoizedState]},useMutableSource:ks,useSyncExternalStore:Ss,useId:Hs,unstable_isNewReconciler:!1};function to(e,t){try{var n="",r=t;do{n+=j(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function no(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var ro,io,ao,so="function"==typeof WeakMap?WeakMap:Map;function oo(e,t,n){(n=ta(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){xl||(xl=!0,Ol=r),no(0,t)},n}function lo(e,t,n){(n=ta(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){no(0,t)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){no(0,t),"function"!=typeof r&&(null===Pl?Pl=new Set([this]):Pl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function uo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new so;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=fu.bind(null,e,t,n),t.then(e,e))}function co(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ho(e,t,n,r,i){return 0==(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ta(-1,1)).tag=2,na(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function fo(e,t){if(!Ra)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function po(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function mo(e,t,n){var r=t.pendingProps;switch(Ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return po(t),null;case 1:case 17:return Ri(t.type)&&_i(),po(t),null;case 3:return r=t.stateNode,Xa(),Ei(Ti),Ei(Ii),rs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ma(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==_a&&(Ql(_a),_a=null))),po(t),null;case 5:$a(t);var i=Ya(Qa.current);if(n=t.type,null!==e&&null!=t.stateNode)io(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return po(t),null}if(e=Ya(Ga.current),Ma(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[ui]=t,r[ci]=s,e=0!=(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Pr.length;i++)Ur(Pr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":J(r,s),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ur("invalid",r);break;case"textarea":ie(r,s),Ur("invalid",r)}for(var l in ye(n,s),i=null,s)if(s.hasOwnProperty(l)){var u=s[l];"children"===l?"string"==typeof u?r.textContent!==u&&(Jr(r.textContent,u,e),i=["children",u]):"number"==typeof u&&r.textContent!==""+u&&(Jr(r.textContent,u,e),i=["children",""+u]):o.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":G(r),$(r,s,!0);break;case"textarea":G(r),se(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Xr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ui]=t,e[ci]=r,ro(e,t),t.stateNode=e;e:{switch(l=we(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Pr.length;i++)Ur(Pr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":J(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=U({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(s in ye(n,i),u=i)if(u.hasOwnProperty(s)){var c=u[s];"style"===s?ge(e,c):"dangerouslySetInnerHTML"===s?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===s?"string"==typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"==typeof c&&de(e,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(o.hasOwnProperty(s)?null!=c&&"onScroll"===s&&Ur("scroll",e):null!=c&&w(e,s,c,l))}switch(n){case"input":G(e),$(e,r,!1);break;case"textarea":G(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return po(t),null;case 6:if(e&&null!=t.stateNode)ao(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));if(n=Ya(Qa.current),Ya(Ga.current),Ma(t)){if(r=t.stateNode,n=t.memoizedProps,r[ui]=t,(s=r.nodeValue!==n)&&null!==(e=Ca))switch(l=0!=(1&e.mode),e.tag){case 3:Jr(r.nodeValue,n,l);break;case 5:!0!==e.memoizedProps[void 0]&&Jr(r.nodeValue,n,l)}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ui]=t,t.stateNode=r}return po(t),null;case 13:if(Ei(es),r=t.memoizedState,Ra&&null!==Na&&0!=(1&t.mode)&&0==(128&t.flags)){for(r=Na;r;)r=si(r.nextSibling);return Ua(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Ma(t),null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[ui]=t}else Ua(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return po(t),null}return null!==_a&&(Ql(_a),_a=null),0!=(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Ma(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&es.current)?0===El&&(El=3):ru())),null!==t.updateQueue&&(t.flags|=4),po(t),null);case 4:return Xa(),null===e&&Vr(t.stateNode.containerInfo),po(t),null;case 10:return Wi(t.type._context),po(t),null;case 19:if(Ei(es),null===(s=t.memoizedState))return po(t),null;if(r=0!=(128&t.flags),null===(l=s.rendering))if(r)fo(s,!1);else{if(0!==El||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ts(e))){for(t.flags|=128,fo(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ki(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&Xe()>_l&&(t.flags|=128,r=!0,fo(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ts(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),fo(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!Ra)return po(t),null}else 2*Xe()-s.renderingStartTime>_l&&1073741824!==n&&(t.flags|=128,r=!0,fo(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Xe(),t.sibling=null,n=es.current,ki(es,r?1&n|2:1&n),t):(po(t),null);case 22:case 23:return $l(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!=(1&t.mode)?0!=(1073741824&bl)&&(po(t),6&t.subtreeFlags&&(t.flags|=8192)):po(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}ro=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},io=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ya(Ga.current);var a,s=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),s=[];break;case"select":i=U({},i,{value:void 0}),r=U({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=Xr)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(o.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(s||(s=[]),s.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(s=s||[]).push(c,u)):"children"===c?"string"!=typeof u&&"number"!=typeof u||(s=s||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(o.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Ur("scroll",e),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}},ao=function(e,t,n,r){n!==r&&(t.flags|=4)};var go=b.ReactCurrentOwner,vo=!1;function yo(e,t,n,r){t.child=null===e?Ha(t,null,n,r):qa(t,e.child,n,r)}function wo(e,t,n,r,i){n=n.render;var a=t.ref;return Yi(t,i),r=gs(e,t,n,r,a,i),n=vs(),null===e||vo?(Ra&&n&&Ia(t),t.flags|=1,yo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bo(e,t,i))}function bo(e,t,n,r,i){if(null===e){var a=n.type;return"function"!=typeof a||bu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Eu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ao(e,t,a,r,i))}if(a=e.child,0==(e.lanes&i)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(s,r)&&e.ref===t.ref)return Bo(e,t,i)}return t.flags|=1,(e=Au(a,r)).ref=t.ref,e.return=t,t.child=e}function Ao(e,t,n,r,i){if(null!==e&&sr(e.memoizedProps,r)&&e.ref===t.ref){if(vo=!1,0==(e.lanes&i))return t.lanes=e.lanes,Bo(e,t,i);0!=(131072&e.flags)&&(vo=!0)}return So(e,t,n,r,i)}function Eo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},ki(Al,bl),bl|=n;else{if(0==(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,ki(Al,bl),bl|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==a?a.baseLanes:n,ki(Al,bl),bl|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,ki(Al,bl),bl|=r;return yo(e,t,i,n),t.child}function ko(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function So(e,t,n,r,i){var a=Ri(n)?Ci:Ii.current;return a=Ni(t,a),Yi(t,i),n=gs(e,t,n,r,a,i),r=vs(),null===e||vo?(Ra&&r&&Ia(t),t.flags|=1,yo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bo(e,t,i))}function Io(e,t,n,r,i){if(Ri(n)){var a=!0;Pi(t)}else a=!1;if(Yi(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ha(t,n,r),fa(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,u=n.contextType;u="object"==typeof u&&null!==u?Ji(u):Ni(t,u=Ri(n)?Ci:Ii.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof s.getSnapshotBeforeUpdate;h||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(o!==r||l!==u)&&da(t,s,r,u),Zi=!1;var d=t.memoizedState;s.state=d,aa(t,r,s,i),l=t.memoizedState,o!==r||d!==l||Ti.current||Zi?("function"==typeof c&&(la(t,n,c,r),l=t.memoizedState),(o=Zi||ca(t,n,o,r,d,l,u))?(h||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=o):("function"==typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,ea(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:ji(t.type,o),s.props=u,h=t.pendingProps,d=s.context,l="object"==typeof(l=n.contextType)&&null!==l?Ji(l):Ni(t,l=Ri(n)?Ci:Ii.current);var f=n.getDerivedStateFromProps;(c="function"==typeof f||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(o!==h||d!==l)&&da(t,s,r,l),Zi=!1,d=t.memoizedState,s.state=d,aa(t,r,s,i);var p=t.memoizedState;o!==h||d!==p||Ti.current||Zi?("function"==typeof f&&(la(t,n,f,r),p=t.memoizedState),(u=Zi||ca(t,n,u,r,d,p,l)||!1)?(c||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=u):("function"!=typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return To(e,t,n,r,a,i)}function To(e,t,n,r,i,a){ko(e,t);var s=0!=(128&t.flags);if(!r&&!s)return i&&Di(t,n,!1),Bo(e,t,a);r=t.stateNode,go.current=t;var o=s&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=qa(t,e.child,null,a),t.child=qa(t,null,o,a)):yo(e,t,o,a),t.memoizedState=r.state,i&&Di(t,n,!0),t.child}function Co(e){var t=e.stateNode;t.pendingContext?xi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&xi(0,t.context,!1),Ja(e,t.containerInfo)}function No(e,t,n,r,i){return Ua(),Fa(i),t.flags|=256,yo(e,t,n,r),t.child}var Ro={dehydrated:null,treeContext:null,retryLane:0};function _o(e){return{baseLanes:e,cachePool:null}}function xo(e,t,n){var r,i=t.pendingProps,s=es.current,o=!1,l=0!=(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!=(2&s)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),ki(es,1&s),null===e)return Da(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,o?(i=t.mode,o=t.child,s={mode:"hidden",children:s},0==(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=s):o=Su(s,i,0,null),e=ku(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=_o(n),t.memoizedState=Ro,e):Oo(t,s));if(null!==(s=e.memoizedState)){if(null!==(r=s.dehydrated)){if(l)return 256&t.flags?(t.flags&=-257,Lo(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=i.fallback,s=t.mode,i=Su({mode:"visible",children:i.children},s,0,null),(o=ku(o,s,n,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,0!=(1&t.mode)&&qa(t,e.child,null,n),t.child.memoizedState=_o(n),t.memoizedState=Ro,o);if(0==(1&t.mode))t=Lo(e,t,n,null);else if("$!"===r.data)t=Lo(e,t,n,Error(a(419)));else if(i=0!=(n&e.childLanes),vo||i){if(null!==(i=vl)){switch(n&-n){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(i=0!=(o&(i.suspendedLanes|n))?0:o)&&i!==s.retryLane&&(s.retryLane=i,ql(e,i,-1))}ru(),t=Lo(e,t,n,Error(a(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=mu.bind(null,e),r._reactRetry=t,t=null):(n=s.treeContext,Na=si(r.nextSibling),Ca=t,Ra=!0,_a=null,null!==n&&(ya[wa++]=Aa,ya[wa++]=Ea,ya[wa++]=ba,Aa=n.id,Ea=n.overflow,ba=t),(t=Oo(t,t.pendingProps.children)).flags|=4096);return t}return o?(i=Do(e,t,i.children,i.fallback,n),o=t.child,s=e.child.memoizedState,o.memoizedState=null===s?_o(n):{baseLanes:s.baseLanes|n,cachePool:null},o.childLanes=e.childLanes&~n,t.memoizedState=Ro,i):(n=Po(e,t,i.children,n),t.memoizedState=null,n)}return o?(i=Do(e,t,i.children,i.fallback,n),o=t.child,s=e.child.memoizedState,o.memoizedState=null===s?_o(n):{baseLanes:s.baseLanes|n,cachePool:null},o.childLanes=e.childLanes&~n,t.memoizedState=Ro,i):(n=Po(e,t,i.children,n),t.memoizedState=null,n)}function Oo(e,t){return(t=Su({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Po(e,t,n,r){var i=e.child;return e=i.sibling,n=Au(i,{mode:"visible",children:n}),0==(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Do(e,t,n,r,i){var a=t.mode,s=(e=e.child).sibling,o={mode:"hidden",children:n};return 0==(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=o,t.deletions=null):(n=Au(e,o)).subtreeFlags=14680064&e.subtreeFlags,null!==s?r=Au(s,r):(r=ku(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Lo(e,t,n,r){return null!==r&&Fa(r),qa(t,e.child,null,n),(e=Oo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Mo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Qi(e.return,t,n)}function Uo(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Fo(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(yo(e,t,r.children,n),0!=(2&(r=es.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Mo(e,n,t);else if(19===e.tag)Mo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ki(es,r),0==(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ts(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Uo(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ts(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Uo(t,!0,n,null,a);break;case"together":Uo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Sl|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Au(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Au(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vo(e,t){switch(Ta(t),t.tag){case 1:return Ri(t.type)&&_i(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xa(),Ei(Ti),Ei(Ii),rs(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return $a(t),null;case 13:if(Ei(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Ua()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(es),null;case 4:return Xa(),null;case 10:return Wi(t.type._context),null;case 22:case 23:return $l(),null;default:return null}}var jo=!1,zo=!1,qo="function"==typeof WeakSet?WeakSet:Set,Ho=null;function Ko(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){du(e,t,n)}else n.current=null}function Go(e,t,n){try{n()}catch(n){du(e,t,n)}}var Wo=!1;function Qo(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Go(t,n,a)}i=i.next}while(i!==r)}}function Yo(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Jo(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function Xo(e,t,n){if(at&&"function"==typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,a=i.destroy;i=i.tag,void 0!==a&&(0!=(2&i)||0!=(4&i))&&Go(t,n,a),r=r.next}while(r!==e)}break;case 1:if(Ko(t,n),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){du(t,n,e)}break;case 5:Ko(t,n);break;case 4:il(e,t,n)}}function Zo(e){var t=e.alternate;null!==t&&(e.alternate=null,Zo(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&(delete t[ui],delete t[ci],delete t[di],delete t[fi],delete t[pi]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function $o(e){return 5===e.tag||3===e.tag||4===e.tag}function el(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||$o(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function tl(e){e:{for(var t=e.return;null!==t;){if($o(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(de(t,""),n.flags&=-33),rl(e,n=el(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,nl(e,n=el(e),t);break;default:throw Error(a(161))}}function nl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(nl(e,t,n),e=e.sibling;null!==e;)nl(e,t,n),e=e.sibling}function rl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(rl(e,t,n),e=e.sibling;null!==e;)rl(e,t,n),e=e.sibling}function il(e,t,n){for(var r,i,s=t,o=!1;;){if(!o){o=s.return;e:for(;;){if(null===o)throw Error(a(160));switch(r=o.stateNode,o.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}o=o.return}o=!0}if(5===s.tag||6===s.tag){e:for(var l=e,u=s,c=n,h=u;;)if(Xo(l,h,c),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===u)break e;for(;null===h.sibling;){if(null===h.return||h.return===u)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i?(l=r,u=s.stateNode,8===l.nodeType?l.parentNode.removeChild(u):l.removeChild(u)):r.removeChild(s.stateNode)}else if(18===s.tag)i?(l=r,u=s.stateNode,8===l.nodeType?ai(l.parentNode,u):1===l.nodeType&&ai(l,u),jt(l)):ai(r,s.stateNode);else if(4===s.tag){if(null!==s.child){r=s.stateNode.containerInfo,i=!0,s.child.return=s,s=s.child;continue}}else if(Xo(e,s,n),null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break;for(;null===s.sibling;){if(null===s.return||s.return===t)return;4===(s=s.return).tag&&(o=!1)}s.sibling.return=s.return,s=s.sibling}}function al(e,t){switch(t.tag){case 0:case 11:case 14:case 15:return Qo(3,t,t.return),Yo(3,t),void Qo(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var s=t.updateQueue;if(t.updateQueue=null,null!==s){for("input"===e&&"radio"===r.type&&null!=r.name&&X(n,r),we(e,i),t=we(e,r),i=0;i<s.length;i+=2){var o=s[i],l=s[i+1];"style"===o?ge(n,l):"dangerouslySetInnerHTML"===o?he(n,l):"children"===o?de(n,l):w(n,o,l,t)}switch(e){case"input":Z(n,r);break;case"textarea":ae(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(s=r.value)?ne(n,!!r.multiple,s,!1):e!==!!r.multiple&&(null!=r.defaultValue?ne(n,!!r.multiple,r.defaultValue,!0):ne(n,!!r.multiple,r.multiple?[]:"",!1))}n[ci]=r}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void(null!==e&&e.memoizedState.isDehydrated&&jt(t.stateNode.containerInfo));case 13:case 19:return void function(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new qo),t.forEach((function(t){var r=gu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}(t)}throw Error(a(163))}function sl(e,t,n){Ho=e,ol(e,t,n)}function ol(e,t,n){for(var r=0!=(1&e.mode);null!==Ho;){var i=Ho,a=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||jo;if(!s){var o=i.alternate,l=null!==o&&null!==o.memoizedState||zo;o=jo;var u=zo;if(jo=s,(zo=l)&&!u)for(Ho=i;null!==Ho;)l=(s=Ho).child,22===s.tag&&null!==s.memoizedState?cl(i):null!==l?(l.return=s,Ho=l):cl(i);for(;null!==a;)Ho=a,ol(a,t,n),a=a.sibling;Ho=i,jo=o,zo=u}ll(e)}else 0!=(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ho=a):ll(e)}}function ll(e){for(;null!==Ho;){var t=Ho;if(0!=(8772&t.flags)){var n=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:zo||Yo(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!zo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ji(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&sa(t,s,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}sa(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&jt(d)}}}break;default:throw Error(a(163))}zo||512&t.flags&&Jo(t)}catch(e){du(t,t.return,e)}}if(t===e){Ho=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ho=n;break}Ho=t.return}}function ul(e){for(;null!==Ho;){var t=Ho;if(t===e){Ho=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ho=n;break}Ho=t.return}}function cl(e){for(;null!==Ho;){var t=Ho;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Yo(4,t)}catch(e){du(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(e){du(t,i,e)}}var a=t.return;try{Jo(t)}catch(e){du(t,a,e)}break;case 5:var s=t.return;try{Jo(t)}catch(e){du(t,s,e)}}}catch(e){du(t,t.return,e)}if(t===e){Ho=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Ho=o;break}Ho=t.return}}var hl,dl=Math.ceil,fl=b.ReactCurrentDispatcher,pl=b.ReactCurrentOwner,ml=b.ReactCurrentBatchConfig,gl=0,vl=null,yl=null,wl=0,bl=0,Al=Ai(0),El=0,kl=null,Sl=0,Il=0,Tl=0,Cl=null,Nl=null,Rl=0,_l=1/0,xl=!1,Ol=null,Pl=null,Dl=!1,Ll=null,Ml=0,Ul=0,Fl=null,Bl=-1,Vl=0;function jl(){return 0!=(6&gl)?Xe():-1!==Bl?Bl:Bl=Xe()}function zl(e){return 0==(1&e.mode)?1:0!=(2&gl)&&0!==wl?wl&-wl:null!==Vi.transition?(0===Vl&&(e=ut,0==(4194240&(ut<<=1))&&(ut=64),Vl=e),Vl):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function ql(e,t,n){if(50<Ul)throw Ul=0,Fl=null,Error(a(185));var r=Hl(e,t);return null===r?null:(gt(r,t,n),0!=(2&gl)&&r===vl||(r===vl&&(0==(2&gl)&&(Il|=t),4===El&&Yl(r,wl)),Kl(r,n),1===t&&0===gl&&0==(1&e.mode)&&(_l=Xe()+500,Mi&&Bi())),r)}function Hl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Kl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-st(a),o=1<<s,l=i[s];-1===l?0!=(o&n)&&0==(o&r)||(i[s]=ft(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}(e,t);var r=dt(e,e===vl?wl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Mi=!0,Fi(e)}(Jl.bind(null,e)):Fi(Jl.bind(null,e)),ri((function(){0===gl&&Bi()})),n=null;else{switch(wt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=vu(n,Gl.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Gl(e,t){if(Bl=-1,Vl=0,0!=(6&gl))throw Error(a(327));var n=e.callbackNode;if(cu()&&e.callbackNode!==n)return null;var r=dt(e,e===vl?wl:0);if(0===r)return null;if(0!=(30&r)||0!=(r&e.expiredLanes)||t)t=iu(e,r);else{t=r;var i=gl;gl|=2;var s=nu();for(vl===e&&wl===t||(_l=Xe()+500,eu(e,t));;)try{su();break}catch(t){tu(e,t)}Gi(),fl.current=s,gl=i,null!==yl?t=0:(vl=null,wl=0,t=El)}if(0!==t){if(2===t&&0!==(i=pt(e))&&(r=i,t=Wl(e,i)),1===t)throw n=kl,eu(e,0),Yl(e,r),Kl(e,Xe()),n;if(6===t)Yl(e,r);else{if(i=e.current.alternate,0==(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ar(a(),i))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=iu(e,r))&&0!==(s=pt(e))&&(r=s,t=Wl(e,s)),1===t))throw n=kl,eu(e,0),Yl(e,r),Kl(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:uu(e,Nl);break;case 3:if(Yl(e,r),(130023424&r)===r&&10<(t=Rl+500-Xe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){jl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ei(uu.bind(null,e,Nl),t);break}uu(e,Nl);break;case 4:if(Yl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-st(r);s=1<<o,(o=t[o])>i&&(i=o),r&=~s}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*dl(r/1960))-r)){e.timeoutHandle=ei(uu.bind(null,e,Nl),r);break}uu(e,Nl);break;default:throw Error(a(329))}}}return Kl(e,Xe()),e.callbackNode===n?Gl.bind(null,e):null}function Wl(e,t){var n=Cl;return e.current.memoizedState.isDehydrated&&(eu(e,t).flags|=256),2!==(e=iu(e,t))&&(t=Nl,Nl=n,null!==t&&Ql(t)),e}function Ql(e){null===Nl?Nl=e:Nl.push.apply(Nl,e)}function Yl(e,t){for(t&=~Tl,t&=~Il,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function Jl(e){if(0!=(6&gl))throw Error(a(327));cu();var t=dt(e,0);if(0==(1&t))return Kl(e,Xe()),null;var n=iu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=Wl(e,r))}if(1===n)throw n=kl,eu(e,0),Yl(e,t),Kl(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,uu(e,Nl),Kl(e,Xe()),null}function Xl(e,t){var n=gl;gl|=1;try{return e(t)}finally{0===(gl=n)&&(_l=Xe()+500,Mi&&Bi())}}function Zl(e){null!==Ll&&0===Ll.tag&&0==(6&gl)&&cu();var t=gl;gl|=1;var n=ml.transition,r=yt;try{if(ml.transition=null,yt=1,e)return e()}finally{yt=r,ml.transition=n,0==(6&(gl=t))&&Bi()}}function $l(){bl=Al.current,Ei(Al)}function eu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ti(n)),null!==yl)for(n=yl.return;null!==n;){var r=n;switch(Ta(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&_i();break;case 3:Xa(),Ei(Ti),Ei(Ii),rs();break;case 5:$a(r);break;case 4:Xa();break;case 13:case 19:Ei(es);break;case 10:Wi(r.type._context);break;case 22:case 23:$l()}n=n.return}if(vl=e,yl=e=Au(e.current,null),wl=bl=t,El=0,kl=null,Tl=Il=Sl=0,Nl=Cl=null,null!==Xi){for(t=0;t<Xi.length;t++)if(null!==(r=(n=Xi[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var s=a.next;a.next=i,r.next=s}n.pending=r}Xi=null}return e}function tu(e,t){for(;;){var n=yl;try{if(Gi(),is.current=Xs,cs){for(var r=os.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}cs=!1}if(ss=0,us=ls=os=null,hs=!1,ds=0,pl.current=null,null===n||null===n.return){El=1,kl=t,yl=null;break}e:{var s=e,o=n.return,l=n,u=t;if(t=wl,l.flags|=32768,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u,h=l,d=h.tag;if(0==(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=co(o);if(null!==p){p.flags&=-257,ho(p,o,l,0,t),1&p.mode&&uo(s,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0==(1&t)){uo(s,c,t),ru();break e}u=Error(a(426))}else if(Ra&&1&l.mode){var v=co(o);if(null!==v){0==(65536&v.flags)&&(v.flags|=256),ho(v,o,l,0,t),Fa(u);break e}}s=u,4!==El&&(El=2),null===Cl?Cl=[s]:Cl.push(s),u=to(u,l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,ia(l,oo(0,u,t));break e;case 1:s=u;var y=l.type,w=l.stateNode;if(0==(128&l.flags)&&("function"==typeof y.getDerivedStateFromError||null!==w&&"function"==typeof w.componentDidCatch&&(null===Pl||!Pl.has(w)))){l.flags|=65536,t&=-t,l.lanes|=t,ia(l,lo(l,s,t));break e}}l=l.return}while(null!==l)}lu(n)}catch(e){t=e,yl===n&&null!==n&&(yl=n=n.return);continue}break}}function nu(){var e=fl.current;return fl.current=Xs,null===e?Xs:e}function ru(){0!==El&&3!==El&&2!==El||(El=4),null===vl||0==(268435455&Sl)&&0==(268435455&Il)||Yl(vl,wl)}function iu(e,t){var n=gl;gl|=2;var r=nu();for(vl===e&&wl===t||eu(e,t);;)try{au();break}catch(t){tu(e,t)}if(Gi(),gl=n,fl.current=r,null!==yl)throw Error(a(261));return vl=null,wl=0,El}function au(){for(;null!==yl;)ou(yl)}function su(){for(;null!==yl&&!Ye();)ou(yl)}function ou(e){var t=hl(e.alternate,e,bl);e.memoizedProps=e.pendingProps,null===t?lu(e):yl=t,pl.current=null}function lu(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(n=mo(n,t,bl)))return void(yl=n)}else{if(null!==(n=Vo(n,t)))return n.flags&=32767,void(yl=n);if(null===e)return El=6,void(yl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(yl=t);yl=t=e}while(null!==t);0===El&&(El=5)}function uu(e,t){var n=yt,r=ml.transition;try{ml.transition=null,yt=1,function(e,t,n){do{cu()}while(null!==Ll);if(0!=(6&gl))throw Error(a(327));var r=e.finishedWork,i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,s),e===vl&&(yl=vl=null,wl=0),0==(2064&r.subtreeFlags)&&0==(2064&r.flags)||Dl||(Dl=!0,vu(tt,(function(){return cu(),null}))),s=0!=(15990&r.flags),0!=(15990&r.subtreeFlags)||s){s=ml.transition,ml.transition=null;var o=yt;yt=1;var l=gl;gl|=4,pl.current=null,function(e,t){if(hr(e=cr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(e){n=null;break e}var o=0,l=-1,u=-1,c=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=o+i),d!==s||0!==r&&3!==d.nodeType||(u=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++c===i&&(l=o),f===s&&++h===r&&(u=o),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zr={focusedElem:e,selectionRange:n},Ho=t;null!==Ho;)if(e=(t=Ho).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,Ho=e;else for(;null!==Ho;){t=Ho;try{var m=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ji(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;if(1===b.nodeType)b.textContent="";else if(9===b.nodeType){var A=b.body;null!=A&&(A.textContent="")}break;default:throw Error(a(163))}}catch(e){du(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Ho=e;break}Ho=t.return}m=Wo,Wo=!1}(e,r),function(e,t){for(Ho=t;null!==Ho;){var n=(t=Ho).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{il(e,i,t);var a=i.alternate;null!==a&&(a.return=null),i.return=null}catch(e){du(i,t,e)}}if(n=t.child,0!=(12854&t.subtreeFlags)&&null!==n)n.return=t,Ho=n;else for(;null!==Ho;){t=Ho;try{var s=t.flags;if(32&s&&de(t.stateNode,""),512&s){var o=t.alternate;if(null!==o){var l=o.ref;null!==l&&("function"==typeof l?l(null):l.current=null)}}if(8192&s)switch(t.tag){case 13:if(null!==t.memoizedState){var u=t.alternate;null!==u&&null!==u.memoizedState||(Rl=Xe())}break;case 22:var c=null!==t.memoizedState,h=t.alternate,d=null!==h&&null!==h.memoizedState;e:{i=c;for(var f=null,p=r=n=t;;){if(5===p.tag){if(null===f){f=p;var m=p.stateNode;if(i){var g=m.style;"function"==typeof g.setProperty?g.setProperty("display","none","important"):g.display="none"}else{var v=p.stateNode,y=p.memoizedProps.style,w=null!=y&&y.hasOwnProperty("display")?y.display:null;v.style.display=me("display",w)}}}else if(6===p.tag)null===f&&(p.stateNode.nodeValue=i?"":p.memoizedProps);else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===r)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===r)break;for(;null===p.sibling;){if(null===p.return||p.return===r)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}if(c&&!d&&0!=(1&n.mode)){Ho=n;for(var b=n.child;null!==b;){for(n=Ho=b;null!==Ho;){var A=(r=Ho).child;switch(r.tag){case 0:case 11:case 14:case 15:Qo(4,r,r.return);break;case 1:Ko(r,r.return);var E=r.stateNode;if("function"==typeof E.componentWillUnmount){var k=r.return;try{E.props=r.memoizedProps,E.state=r.memoizedState,E.componentWillUnmount()}catch(e){du(r,k,e)}}break;case 5:Ko(r,r.return);break;case 22:if(null!==r.memoizedState){ul(n);continue}}null!==A?(A.return=r,Ho=A):ul(n)}b=b.sibling}}}switch(4102&s){case 2:tl(t),t.flags&=-3;break;case 6:tl(t),t.flags&=-3,al(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,al(t.alternate,t);break;case 4:al(t.alternate,t)}}catch(e){du(t,t.return,e)}if(null!==(n=t.sibling)){n.return=t.return,Ho=n;break}Ho=t.return}}}(e,r),dr(Zr),Zr=null,e.current=r,sl(r,e,i),Je(),gl=l,yt=o,ml.transition=s}else e.current=r;if(Dl&&(Dl=!1,Ll=e,Ml=i),0===(s=e.pendingLanes)&&(Pl=null),function(e){if(at&&"function"==typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128==(128&e.current.flags))}catch(e){}}(r.stateNode),Kl(e,Xe()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(xl)throw xl=!1,e=Ol,Ol=null,e;0!=(1&Ml)&&0!==e.tag&&cu(),0!=(1&(s=e.pendingLanes))?e===Fl?Ul++:(Ul=0,Fl=e):Ul=0,Bi()}(e,t,n)}finally{ml.transition=r,yt=n}return null}function cu(){if(null!==Ll){var e=wt(Ml),t=ml.transition,n=yt;try{if(ml.transition=null,yt=16>e?16:e,null===Ll)var r=!1;else{if(e=Ll,Ll=null,Ml=0,0!=(6&gl))throw Error(a(331));var i=gl;for(gl|=4,Ho=e.current;null!==Ho;){var s=Ho,o=s.child;if(0!=(16&Ho.flags)){var l=s.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Ho=c;null!==Ho;){var h=Ho;switch(h.tag){case 0:case 11:case 15:Qo(8,h,s)}var d=h.child;if(null!==d)d.return=h,Ho=d;else for(;null!==Ho;){var f=(h=Ho).sibling,p=h.return;if(Zo(h),h===c){Ho=null;break}if(null!==f){f.return=p,Ho=f;break}Ho=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Ho=s}}if(0!=(2064&s.subtreeFlags)&&null!==o)o.return=s,Ho=o;else e:for(;null!==Ho;){if(0!=(2048&(s=Ho).flags))switch(s.tag){case 0:case 11:case 15:Qo(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Ho=y;break e}Ho=s.return}}var w=e.current;for(Ho=w;null!==Ho;){var b=(o=Ho).child;if(0!=(2064&o.subtreeFlags)&&null!==b)b.return=o,Ho=b;else e:for(o=w;null!==Ho;){if(0!=(2048&(l=Ho).flags))try{switch(l.tag){case 0:case 11:case 15:Yo(9,l)}}catch(e){du(l,l.return,e)}if(l===o){Ho=null;break e}var A=l.sibling;if(null!==A){A.return=l.return,Ho=A;break e}Ho=l.return}}if(gl=i,Bi(),at&&"function"==typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(e){}r=!0}return r}finally{yt=n,ml.transition=t}}return!1}function hu(e,t,n){na(e,t=oo(0,t=to(n,t),1)),t=jl(),null!==(e=Hl(e,1))&&(gt(e,1,t),Kl(e,t))}function du(e,t,n){if(3===e.tag)hu(e,e,n);else for(;null!==t;){if(3===t.tag){hu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Pl||!Pl.has(r))){na(t,e=lo(t,e=to(n,e),1)),e=jl(),null!==(t=Hl(t,1))&&(gt(t,1,e),Kl(t,e));break}}t=t.return}}function fu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=jl(),e.pingedLanes|=e.suspendedLanes&n,vl===e&&(wl&n)===n&&(4===El||3===El&&(130023424&wl)===wl&&500>Xe()-Rl?eu(e,0):Tl|=n),Kl(e,t)}function pu(e,t){0===t&&(0==(1&e.mode)?t=1:(t=ct,0==(130023424&(ct<<=1))&&(ct=4194304)));var n=jl();null!==(e=Hl(e,t))&&(gt(e,t,n),Kl(e,n))}function mu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),pu(e,n)}function gu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),pu(e,n)}function vu(e,t){return We(e,t)}function yu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wu(e,t,n,r){return new yu(e,t,n,r)}function bu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Au(e,t){var n=e.alternate;return null===n?((n=wu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Eu(e,t,n,r,i,s){var o=2;if(r=e,"function"==typeof e)bu(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case k:return ku(n.children,i,s,t);case S:o=8,i|=8;break;case I:return(e=wu(12,n,t,2|i)).elementType=I,e.lanes=s,e;case R:return(e=wu(13,n,t,i)).elementType=R,e.lanes=s,e;case _:return(e=wu(19,n,t,i)).elementType=_,e.lanes=s,e;case P:return Su(n,i,s,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case T:o=10;break e;case C:o=9;break e;case N:o=11;break e;case x:o=14;break e;case O:o=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=wu(o,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function ku(e,t,n,r){return(e=wu(7,e,r,t)).lanes=n,e}function Su(e,t,n,r){return(e=wu(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={},e}function Iu(e,t,n){return(e=wu(6,e,null,t)).lanes=n,e}function Tu(e,t,n){return(t=wu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Cu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Nu(e,t,n,r,i,a,s,o,l){return e=new Cu(e,t,n,o,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=wu(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},$i(a),e}function Ru(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function _u(e){if(!e)return Si;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Oi(e,n,t)}return t}function xu(e,t,n,r,i,a,s,o,l){return(e=Nu(n,r,!0,e,0,a,0,o,l)).context=_u(null),n=e.current,(a=ta(r=jl(),i=zl(n))).callback=null!=t?t:null,na(n,a),e.current.lanes=i,gt(e,i,r),Kl(e,r),e}function Ou(e,t,n,r){var i=t.current,a=jl(),s=zl(i);return n=_u(n),null===t.context?t.context=n:t.pendingContext=n,(t=ta(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),na(i,t),null!==(e=ql(i,s,a))&&ra(e,i,s),s}function Pu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Du(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Lu(e,t){Du(e,t),(e=e.alternate)&&Du(e,t)}hl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)vo=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return vo=!1,function(e,t,n){switch(t.tag){case 3:Co(t),Ua();break;case 5:Za(t);break;case 1:Ri(t.type)&&Pi(t);break;case 4:Ja(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ki(zi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ki(es,1&es.current),t.flags|=128,null):0!=(n&t.child.childLanes)?xo(e,t,n):(ki(es,1&es.current),null!==(e=Bo(e,t,n))?e.sibling:null);ki(es,1&es.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(128&e.flags)){if(r)return Fo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ki(es,es.current),r)break;return null;case 22:case 23:return t.lanes=0,Eo(e,t,n)}return Bo(e,t,n)}(e,t,n);vo=0!=(131072&e.flags)}else vo=!1,Ra&&0!=(1048576&t.flags)&&Sa(t,va,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Ni(t,Ii.current);Yi(t,n),i=gs(null,t,r,e,i,n);var s=vs();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(s=!0,Pi(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,$i(t),i.updater=ua,t.stateNode=i,i._reactInternals=t,fa(t,r,e,n),t=To(null,t,r,!0,s,n)):(t.tag=0,Ra&&s&&Ia(t),yo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return bu(e)?1:0;if(null!=e){if((e=e.$$typeof)===N)return 11;if(e===x)return 14}return 2}(r),e=ji(r,e),i){case 0:t=So(null,t,r,e,n);break e;case 1:t=Io(null,t,r,e,n);break e;case 11:t=wo(null,t,r,e,n);break e;case 14:t=bo(null,t,r,ji(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,So(e,t,r,i=t.elementType===r?i:ji(r,i),n);case 1:return r=t.type,i=t.pendingProps,Io(e,t,r,i=t.elementType===r?i:ji(r,i),n);case 3:e:{if(Co(t),null===e)throw Error(a(387));r=t.pendingProps,i=(s=t.memoizedState).element,ea(e,t),aa(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=No(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=No(e,t,r,n,i=Error(a(424)));break e}for(Na=si(t.stateNode.containerInfo.firstChild),Ca=t,Ra=!0,_a=null,n=Ha(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Ua(),r===i){t=Bo(e,t,n);break e}yo(e,t,r,n)}t=t.child}return t;case 5:return Za(t),null===e&&Da(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,o=i.children,$r(r,i)?o=null:null!==s&&$r(r,s)&&(t.flags|=32),ko(e,t),yo(e,t,o,n),t.child;case 6:return null===e&&Da(t),null;case 13:return xo(e,t,n);case 4:return Ja(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=qa(t,null,r,n):yo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,wo(e,t,r,i=t.elementType===r?i:ji(r,i),n);case 7:return yo(e,t,t.pendingProps,n),t.child;case 8:case 12:return yo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,ki(zi,r._currentValue),r._currentValue=o,null!==s)if(ar(s.value,o)){if(s.children===i.children&&!Ti.current){t=Bo(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){o=s.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===s.tag){(u=ta(-1,n&-n)).tag=2;var c=s.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Qi(s.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===s.tag)o=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(a(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Qi(o,n,t),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}yo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Yi(t,n),r=r(i=Ji(i)),t.flags|=1,yo(e,t,r,n),t.child;case 14:return i=ji(r=t.type,t.pendingProps),bo(e,t,r,i=ji(r.type,i),n);case 15:return Ao(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ji(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ri(r)?(e=!0,Pi(t)):e=!1,Yi(t,n),ha(t,r,i),fa(t,r,i,n),To(null,t,r,!0,e,n);case 19:return Fo(e,t,n);case 22:return Eo(e,t,n)}throw Error(a(156,t.tag))};var Mu="function"==typeof reportError?reportError:function(e){console.error(e)};function Uu(e){this._internalRoot=e}function Fu(e){this._internalRoot=e}function Bu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Vu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ju(){}function zu(e,t,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if("function"==typeof i){var o=i;i=function(){var e=Pu(s);o.call(e)}}Ou(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"==typeof r){var a=r;r=function(){var e=Pu(s);a.call(e)}}var s=xu(t,r,e,0,null,!1,0,"",ju);return e._reactRootContainer=s,e[hi]=s.current,Vr(8===e.nodeType?e.parentNode:e),Zl(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var o=r;r=function(){var e=Pu(l);o.call(e)}}var l=Nu(e,0,!1,null,0,!1,0,"",ju);return e._reactRootContainer=l,e[hi]=l.current,Vr(8===e.nodeType?e.parentNode:e),Zl((function(){Ou(t,l,n,r)})),l}(n,t,e,i,r);return Pu(s)}Fu.prototype.render=Uu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Ou(e,t,null,null)},Fu.prototype.unmount=Uu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Zl((function(){Ou(null,e,null,null)})),t[hi]=null}},Fu.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Mt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(vt(t,1|n),Kl(t,Xe()),0==(6&gl)&&(_l=Xe()+500,Bi()))}break;case 13:var r=jl();Zl((function(){return ql(e,1,r)})),Lu(e,1)}},At=function(e){13===e.tag&&(ql(e,134217728,jl()),Lu(e,134217728))},Et=function(e){if(13===e.tag){var t=jl(),n=zl(e);ql(e,n,t),Lu(e,n)}},kt=function(){return yt},St=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},Ee=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=yi(r);if(!i)throw Error(a(90));W(r),Z(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=Xl,Re=Zl;var qu={usingClientEntryPoint:!1,Events:[gi,vi,yi,Te,Ce,Xl]},Hu={findFiberByHostInstance:mi,bundleType:0,version:"18.0.0-fc46dba67-20220329",rendererPackageName:"react-dom"},Ku={bundleType:Hu.bundleType,version:Hu.version,rendererPackageName:Hu.rendererPackageName,rendererConfig:Hu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:Hu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Gu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gu.isDisabled&&Gu.supportsFiber)try{it=Gu.inject(Ku),at=Gu}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Bu(t))throw Error(a(200));return Ru(e,t,null,n)},t.createRoot=function(e,t){if(!Bu(e))throw Error(a(299));var n=!1,r="",i=Mu;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Nu(e,1,!1,null,0,n,0,r,i),e[hi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Uu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return Zl(e)},t.hydrate=function(e,t,n){if(!Vu(t))throw Error(a(200));return zu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Bu(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",o=Mu;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=xu(t,null,e,1,null!=n?n:null,i,0,s,o),e[hi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Fu(t)},t.render=function(e,t,n){if(!Vu(t))throw Error(a(200));return zu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Vu(e))throw Error(a(40));return!!e._reactRootContainer&&(Zl((function(){zu(null,null,e,!1,(function(){e._reactRootContainer=null,e[hi]=null}))})),!0)},t.unstable_batchedUpdates=Xl,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Vu(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return zu(e,t,n,!1,r)},t.version="18.0.0-fc46dba67-20220329"},745:(e,t,n)=>{"use strict";var r=n(935);t.s=r.createRoot,r.hydrateRoot},935:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(448)},921:(e,t)=>{"use strict";Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.server_context"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.suspense_list"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.for("react.offscreen"),Symbol.for("react.module.reference")},864:(e,t,n)=>{"use strict";n(921)},408:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator,p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=w.prototype=new y;b.constructor=w,m(b,v.prototype),b.isPureReactComponent=!0;var A=Array.isArray,E=Object.prototype.hasOwnProperty,k={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,a={},s=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)E.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:o,props:a,_owner:k.current}}function T(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function N(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function R(e,t,i,a,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===a?"."+N(l,0):a,A(s)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),R(s,t,i,"",(function(e){return e}))):null!=s&&(T(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(C,"$&/")+"/")+e)),t.push(s)),1;if(l=0,a=""===a?".":a+":",A(e))for(var u=0;u<e.length;u++){var c=a+N(o=e[u],u);l+=R(o,t,i,c,s)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"==typeof c)for(e=c.call(e),u=0;!(o=e.next()).done;)l+=R(o=o.value,t,i,c=a+N(o,u++),s);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function _(e,t,n){if(null==e)return e;var r=[],i=0;return R(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function x(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},P={transition:null},D={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:P,ReactCurrentOwner:k};t.Children={map:_,forEach:function(e,t,n){_(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return _(e,(function(){t++})),t},toArray:function(e){return _(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=w,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),a=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=k.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)E.call(t,u)&&!S.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:a,ref:s,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:x}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.0.0-fc46dba67-20220329"},294:(e,t,n)=>{"use strict";e.exports=n(408)},666:e=>{var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",o=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new N(r||[]);return a._invoke=function(e,t,n){var r=h;return function(i,a){if(r===f)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return _()}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var o=I(s,n);if(o){if(o===m)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var l=c(e,t,n);if("normal"===l.type){if(r=n.done?p:d,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=p,n.method="throw",n.arg=l.arg)}}}(e,n,s),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var h="suspendedStart",d="suspendedYield",f="executing",p="completed",m={};function g(){}function v(){}function y(){}var w={};l(w,a,(function(){return this}));var b=Object.getPrototypeOf,A=b&&b(b(R([])));A&&A!==n&&r.call(A,a)&&(w=A);var E=y.prototype=g.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,s,o){var l=c(e[i],e,a);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==typeof h&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,s,o)}),(function(e){n("throw",e,s,o)})):t.resolve(h).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,o)}))}o(l.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function I(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=c(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function R(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,s=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return s.next=s}}return{next:_}}function _(){return{value:t,done:!0}}return v.prototype=y,l(E,"constructor",y),l(y,"constructor",v),v.displayName=l(y,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,o,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},k(S.prototype),l(S.prototype,s,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var s=new S(u(t,n,r,i),a);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},k(E),l(E,o,"Generator"),l(E,a,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=R,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return o.type="throw",o.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],o=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var l=r.call(s,"catchLoc"),u=r.call(s,"finallyLoc");if(l&&u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=e,s.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:R(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},53:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var o=2*(r+1)-1,l=e[o],u=o+1,c=e[u];if(0>a(l,n))u<i&&0>a(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[o]=n,r=o);else{if(!(u<i&&0>a(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,w="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function A(e){if(g=!1,b(e),!m)if(null!==r(u))m=!0,P(E);else{var t=r(c);null!==t&&D(A,t.startTime-e)}}function E(e,n){m=!1,g&&(g=!1,y(T),T=-1),p=!0;var a=f;try{for(b(n),d=r(u);null!==d&&(!(d.expirationTime>n)||e&&!R());){var s=d.callback;if("function"==typeof s){d.callback=null,f=d.priorityLevel;var o=s(d.expirationTime<=n);n=t.unstable_now(),"function"==typeof o?d.callback=o:d===r(u)&&i(u),b(n)}else i(u);d=r(u)}if(null!==d)var l=!0;else{var h=r(c);null!==h&&D(A,h.startTime-n),l=!1}return l}finally{d=null,f=a,p=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,S=!1,I=null,T=-1,C=5,N=-1;function R(){return!(t.unstable_now()-N<C)}function _(){if(null!==I){var e=t.unstable_now();N=e;var n=!0;try{n=I(!0,e)}finally{n?k():(S=!1,I=null)}}else S=!1}if("function"==typeof w)k=function(){w(_)};else if("undefined"!=typeof MessageChannel){var x=new MessageChannel,O=x.port2;x.port1.onmessage=_,k=function(){O.postMessage(null)}}else k=function(){v(_,0)};function P(e){I=e,S||(S=!0,k())}function D(e,n){T=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,P(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,a){var s=t.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?s+a:s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>s?(e.sortIndex=a,n(c,e),null===r(u)&&e===r(c)&&(g?(y(T),T=-1):g=!0,D(A,a-s))):(e.sortIndex=o,n(u,e),m||p||(m=!0,P(E))),e},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},840:(e,t,n)=>{"use strict";e.exports=n(53)},250:(e,t,n)=>{"use strict";var r=n(294),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=r.useState,s=r.useEffect,o=r.useLayoutEffect,l=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,c=r[1];return o((function(){i.value=n,i.getSnapshot=t,u(i)&&c({inst:i})}),[e,n,t]),s((function(){return u(i)&&c({inst:i}),e((function(){u(i)&&c({inst:i})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},139:(e,t,n)=>{"use strict";var r=n(294),i=n(688),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=i.useSyncExternalStore,o=r.useRef,l=r.useEffect,u=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var h=o(null);if(null===h.current){var d={hasValue:!1,value:null};h.current=d}else d=h.current;h=u((function(){function e(e){if(!l){if(l=!0,s=e,e=r(e),void 0!==i&&d.hasValue){var t=d.value;if(i(t,e))return o=t}return o=e}if(t=o,a(s,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(s=e,o=n)}var s,o,l=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]}),[t,n,r,i]);var f=s(e,h[0],h[1]);return l((function(){d.hasValue=!0,d.value=f}),[f]),c(f),f}},688:(e,t,n)=>{"use strict";e.exports=n(250)},798:(e,t,n)=>{"use strict";e.exports=n(139)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.p="/",(()=>{"use strict";var e=n(294),t=n(745),r=n(688),i=n(798),a=n(935);let s=function(e){e()};const o=()=>s,l=e.createContext(null);function u(){return(0,e.useContext)(l)}let c=()=>{throw new Error("uSES not initialized!")};const h=(e,t)=>e===t;function d(t=l){const n=t===l?u:()=>(0,e.useContext)(t);return function(t,r=h){const{store:i,subscription:a,getServerState:s}=n(),o=c(a.addNestedSub,i.getState,s||i.getState,t,r);return(0,e.useDebugValue)(o),o}}const f=d();n(679),n(864);const p={notify(){},get:()=>[]};const m="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?e.useLayoutEffect:e.useEffect;let g=null;const v=function({store:t,context:n,children:r,serverState:i}){const a=(0,e.useMemo)((()=>{const e=function(e,t){let n,r=p;function i(){s.onStateChange&&s.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){const e=o();let t=null,n=null;return{clear(){t=null,n=null},notify(){e((()=>{let e=t;for(;e;)e.callback(),e=e.next}))},get(){let e=[],n=t;for(;n;)e.push(n),n=n.next;return e},subscribe(e){let r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}const s={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=p)},getListeners:()=>r};return s}(t);return{store:t,subscription:e,getServerState:i?()=>i:void 0}}),[t,i]),s=(0,e.useMemo)((()=>t.getState()),[t]);m((()=>{const{subscription:e}=a;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==t.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[a,s]);const u=n||l;return e.createElement(u.Provider,{value:a},r)};function y(t=l){const n=t===l?u:()=>(0,e.useContext)(t);return function(){const{store:e}=n();return e}}const w=y();function b(e=l){const t=e===l?w:y(e);return function(){return t().dispatch}}const A=b();var E;function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);s=!0);}catch(e){o=!0,i=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw i}}return a}}(e,t)||S(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t,n,r,i,a,s){try{var o=e[a](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,i)}function C(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){T(a,r,i,s,o,"next",e)}function o(e){T(a,r,i,s,o,"throw",e)}s(void 0)}))}}(e=>{c=e})(i.useSyncExternalStoreWithSelector),(e=>{g=e})(r.useSyncExternalStore),E=a.unstable_batchedUpdates,s=E;var N,R=n(757),_=n.n(R);function x(){return x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(N||(N={}));var O="beforeunload";function P(e){e.preventDefault(),e.returnValue=""}function D(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function L(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,s=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),s&&"#"!==s&&(n+="#"===s.charAt(0)?s:"#"+s),n}function M(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}const U=(0,e.createContext)(null),F=(0,e.createContext)(null),B=(0,e.createContext)({outlet:null,matches:[]});function V(e,t){if(!e)throw new Error(t)}function j(e,t,n){void 0===n&&(n="/");let r=Y(("string"==typeof t?M(t):t).pathname||"/",n);if(null==r)return null;let i=z(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let a=null;for(let e=0;null==a&&e<i.length;++e)a=G(i[e],r);return a}function z(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach(((e,i)=>{let a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||V(!1),a.relativePath=a.relativePath.slice(r.length));let s=J([r,a.relativePath]),o=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&V(!1),z(e.children,t,o,s)),(null!=e.path||e.index)&&t.push({path:s,score:K(s,e.index),routesMeta:o})})),t}const q=/^:\w+$/,H=e=>"*"===e;function K(e,t){let n=e.split("/"),r=n.length;return n.some(H)&&(r+=-2),t&&(r+=2),n.filter((e=>!H(e))).reduce(((e,t)=>e+(q.test(t)?3:""===t?1:10)),r)}function G(e,t){let{routesMeta:n}=e,r={},i="/",a=[];for(let e=0;e<n.length;++e){let s=n[e],o=e===n.length-1,l="/"===i?t:t.slice(i.length)||"/",u=W({path:s.relativePath,caseSensitive:s.caseSensitive,end:o},l);if(!u)return null;Object.assign(r,u.params);let c=s.route;a.push({params:r,pathname:J([i,u.pathname]),pathnameBase:X(J([i,u.pathnameBase])),route:c}),"/"!==u.pathnameBase&&(i=J([i,u.pathnameBase]))}return a}function W(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,((e,t)=>(r.push(t),"([^\\/]+)")));return e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce(((e,t,n)=>{if("*"===t){let e=o[n]||"";s=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(t){return e}}(o[n]||""),e}),{}),pathname:a,pathnameBase:s,pattern:e}}function Q(e,t,n){let r,i="string"==typeof e?M(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{let e=t.length-1;if(a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}r=e>=0?t[e]:"/"}let s=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"==typeof e?M(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:Z(r),hash:$(i)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function Y(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}const J=e=>e.join("/").replace(/\/\/+/g,"/"),X=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Z=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",$=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function ee(){return null!=(0,e.useContext)(F)}function te(){return ee()||V(!1),(0,e.useContext)(F).location}function ne(){ee()||V(!1);let{basename:t,navigator:n}=(0,e.useContext)(U),{matches:r}=(0,e.useContext)(B),{pathname:i}=te(),a=JSON.stringify(r.map((e=>e.pathnameBase))),s=(0,e.useRef)(!1);(0,e.useEffect)((()=>{s.current=!0}));let o=(0,e.useCallback)((function(e,r){if(void 0===r&&(r={}),!s.current)return;if("number"==typeof e)return void n.go(e);let o=Q(e,JSON.parse(a),i);"/"!==t&&(o.pathname=J([t,o.pathname])),(r.replace?n.replace:n.push)(o,r.state)}),[t,n,a,i]);return o}function re(t){let{matches:n}=(0,e.useContext)(B),{pathname:r}=te(),i=JSON.stringify(n.map((e=>e.pathnameBase)));return(0,e.useMemo)((()=>Q(t,JSON.parse(i),r)),[t,i,r])}function ie(t){let{to:n,replace:r,state:i}=t;ee()||V(!1);let a=ne();return(0,e.useEffect)((()=>{a(n,{replace:r,state:i})})),null}function ae(e){V(!1)}function se(t){let{basename:n="/",children:r=null,location:i,navigationType:a=N.Pop,navigator:s,static:o=!1}=t;ee()&&V(!1);let l=X(n),u=(0,e.useMemo)((()=>({basename:l,navigator:s,static:o})),[l,s,o]);"string"==typeof i&&(i=M(i));let{pathname:c="/",search:h="",hash:d="",state:f=null,key:p="default"}=i,m=(0,e.useMemo)((()=>{let e=Y(c,l);return null==e?null:{pathname:e,search:h,hash:d,state:f,key:p}}),[l,c,h,d,f,p]);return null==m?null:(0,e.createElement)(U.Provider,{value:u},(0,e.createElement)(F.Provider,{children:r,value:{location:m,navigationType:a}}))}function oe(t){let{children:n,location:r}=t;return function(t,n){ee()||V(!1);let{matches:r}=(0,e.useContext)(B),i=r[r.length-1],a=i?i.params:{},s=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;let o,l=te();if(n){var u;let e="string"==typeof n?M(n):n;"/"===s||(null==(u=e.pathname)?void 0:u.startsWith(s))||V(!1),o=e}else o=l;let c=o.pathname||"/",h=j(t,{pathname:"/"===s?c:c.slice(s.length)||"/"});return function(t,n){return void 0===n&&(n=[]),null==t?null:t.reduceRight(((r,i,a)=>(0,e.createElement)(B.Provider,{children:void 0!==i.route.element?i.route.element:r,value:{outlet:r,matches:n.concat(t.slice(0,a+1))}})),null)}(h&&h.map((e=>Object.assign({},e,{params:Object.assign({},a,e.params),pathname:J([s,e.pathname]),pathnameBase:"/"===e.pathnameBase?s:J([s,e.pathnameBase])}))),r)}(le(n),r)}function le(t){let n=[];return e.Children.forEach(t,(t=>{if(!(0,e.isValidElement)(t))return;if(t.type===e.Fragment)return void n.push.apply(n,le(t.props.children));t.type!==ae&&V(!1);let r={caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path};t.props.children&&(r.children=le(t.props.children)),n.push(r)})),n}function ue(){return ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ue.apply(this,arguments)}function ce(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}const he=["onClick","reloadDocument","replace","state","target","to"],de=["aria-current","caseSensitive","className","end","style","to","children"];function fe(t){let{basename:n,children:r,window:i}=t,a=(0,e.useRef)();null==a.current&&(a.current=function(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,r=n.history;function i(){var e=n.location,t=e.pathname,i=e.search,a=e.hash,s=r.state||{};return[s.idx,{pathname:t,search:i,hash:a,state:s.usr||null,key:s.key||"default"}]}var a=null;n.addEventListener("popstate",(function(){if(a)h.call(a),a=null;else{var e=N.Pop,t=i(),n=t[0],r=t[1];if(h.length){if(null!=n){var s=l-n;s&&(a={action:e,location:r,retry:function(){v(-1*s)}},v(s))}}else g(e)}}));var s=N.Pop,o=i(),l=o[0],u=o[1],c=D(),h=D();function d(e){return"string"==typeof e?e:L(e)}function f(e,t){return void 0===t&&(t=null),x({pathname:u.pathname,hash:"",search:""},"string"==typeof e?M(e):e,{state:t,key:Math.random().toString(36).substr(2,8)})}function p(e,t){return[{usr:e.state,key:e.key,idx:t},d(e)]}function m(e,t,n){return!h.length||(h.call({action:e,location:t,retry:n}),!1)}function g(e){s=e;var t=i();l=t[0],u=t[1],c.call({action:s,location:u})}function v(e){r.go(e)}null==l&&(l=0,r.replaceState(x({},r.state,{idx:l}),""));var y={get action(){return s},get location(){return u},createHref:d,push:function e(t,i){var a=N.Push,s=f(t,i);if(m(a,s,(function(){e(t,i)}))){var o=p(s,l+1),u=o[0],c=o[1];try{r.pushState(u,"",c)}catch(e){n.location.assign(c)}g(a)}},replace:function e(t,n){var i=N.Replace,a=f(t,n);if(m(i,a,(function(){e(t,n)}))){var s=p(a,l),o=s[0],u=s[1];r.replaceState(o,"",u),g(i)}},go:v,back:function(){v(-1)},forward:function(){v(1)},listen:function(e){return c.push(e)},block:function(e){var t=h.push(e);return 1===h.length&&n.addEventListener(O,P),function(){t(),h.length||n.removeEventListener(O,P)}}};return y}({window:i}));let s=a.current,[o,l]=(0,e.useState)({action:s.action,location:s.location});return(0,e.useLayoutEffect)((()=>s.listen(l)),[s]),(0,e.createElement)(se,{basename:n,children:r,location:o.location,navigationType:o.action,navigator:s})}const pe=(0,e.forwardRef)((function(t,n){let{onClick:r,reloadDocument:i,replace:a=!1,state:s,target:o,to:l}=t,u=ce(t,he),c=function(t){ee()||V(!1);let{basename:n,navigator:r}=(0,e.useContext)(U),{hash:i,pathname:a,search:s}=re(t),o=a;if("/"!==n){let e=function(e){return""===e||""===e.pathname?"/":"string"==typeof e?M(e).pathname:e.pathname}(t),r=null!=e&&e.endsWith("/");o="/"===a?n+(r?"/":""):J([n,a])}return r.createHref({pathname:o,search:s,hash:i})}(l),h=function(t,n){let{target:r,replace:i,state:a}=void 0===n?{}:n,s=ne(),o=te(),l=re(t);return(0,e.useCallback)((e=>{if(!(0!==e.button||r&&"_self"!==r||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))){e.preventDefault();let n=!!i||L(o)===L(l);s(t,{replace:n,state:a})}}),[o,s,l,i,a,r,t])}(l,{replace:a,state:s,target:o});return(0,e.createElement)("a",ue({},u,{href:c,onClick:function(e){r&&r(e),e.defaultPrevented||i||h(e)},ref:n,target:o}))})),me=(0,e.forwardRef)((function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:a="",end:s=!1,style:o,to:l,children:u}=t,c=ce(t,de),h=te(),d=re(l),f=h.pathname,p=d.pathname;i||(f=f.toLowerCase(),p=p.toLowerCase());let m,g=f===p||!s&&f.startsWith(p)&&"/"===f.charAt(p.length),v=g?r:void 0;m="function"==typeof a?a({isActive:g}):[a,g?"active":null].filter(Boolean).join(" ");let y="function"==typeof o?o({isActive:g}):o;return(0,e.createElement)(pe,ue({},c,{"aria-current":v,className:m,ref:n,style:y,to:l}),"function"==typeof u?u({isActive:g}):u)}));function ge(t){let n=(0,e.useRef)(ve(t)),r=te(),i=(0,e.useMemo)((()=>{let e=ve(r.search);for(let t of n.current.keys())e.has(t)||n.current.getAll(t).forEach((n=>{e.append(t,n)}));return e}),[r.search]),a=ne();return[i,(0,e.useCallback)(((e,t)=>{a("?"+ve(e),t)}),[a])]}function ve(e){return void 0===e&&(e=""),new URLSearchParams("string"==typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map((e=>[n,e])):[[n,r]])}),[]))}const ye=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},we={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const i=e[t],a=t+1<e.length,s=a?e[t+1]:0,o=t+2<e.length,l=o?e[t+2]:0,u=i>>2,c=(3&i)<<4|s>>4;let h=(15&s)<<2|l>>6,d=63&l;o||(d=64,a||(h=64)),r.push(n[u],n[c],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ye(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){const a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{const a=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const i=n[e.charAt(t++)],a=t<e.length?n[e.charAt(t)]:0;++t;const s=t<e.length?n[e.charAt(t)]:64;++t;const o=t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==a||null==s||null==o)throw Error();const l=i<<2|a>>4;if(r.push(l),64!==s){const e=a<<4&240|s>>2;if(r.push(e),64!==o){const e=s<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},be=function(e){return function(e){const t=ye(e);return we.encodeByteArray(t,!0)}(e).replace(/\./g,"")};class Ae{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Ee(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ke(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ee())}function Se(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function Ie(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Te(){const e=Ee();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Ce(){return"object"==typeof indexedDB}function Ne(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}))}class Re extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Re.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_e.prototype.create)}}class _e{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],a=i?function(e,t){return e.replace(xe,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",s=`${this.serviceName}: ${a} (${r}).`;return new Re(r,s,n)}}const xe=/\{\$([^}]+)}/g;function Oe(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],a=t[i];if(Pe(n)&&Pe(a)){if(!Oe(n,a))return!1}else if(n!==a)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function Pe(e){return null!==e&&"object"==typeof e}function De(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Le(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Me(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Ue{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const t of["next","error","complete"])if(t in e&&"function"==typeof e[t])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Fe),void 0===r.error&&(r.error=Fe),void 0===r.complete&&(r.complete=Fe);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Fe(){}function Be(e,t=1e3,n=2){const r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function Ve(e){return e&&e._delegate?e._delegate:e}function je(e,t){return new Promise(((n,r)=>{e.onsuccess=e=>{n(e.target.result)},e.onerror=e=>{var n;r(`${t}: ${null===(n=e.target.error)||void 0===n?void 0:n.message}`)}}))}class ze{constructor(e){this._db=e,this.objectStoreNames=this._db.objectStoreNames}transaction(e,t="readonly"){return new qe(this._db.transaction.call(this._db,e,t))}createObjectStore(e,t){return new He(this._db.createObjectStore(e,t))}close(){this._db.close()}}class qe{constructor(e){this._transaction=e,this.complete=new Promise(((e,t)=>{this._transaction.oncomplete=function(){e()},this._transaction.onerror=()=>{t(this._transaction.error)},this._transaction.onabort=()=>{t(this._transaction.error)}}))}objectStore(e){return new He(this._transaction.objectStore(e))}}class He{constructor(e){this._store=e}index(e){return new Ke(this._store.index(e))}createIndex(e,t,n){return new Ke(this._store.createIndex(e,t,n))}get(e){return je(this._store.get(e),"Error reading from IndexedDB")}put(e,t){return je(this._store.put(e,t),"Error writing to IndexedDB")}delete(e){return je(this._store.delete(e),"Error deleting from IndexedDB")}clear(){return je(this._store.clear(),"Error clearing IndexedDB object store")}}class Ke{constructor(e){this._index=e}get(e){return je(this._index.get(e),"Error reading from IndexedDB")}}function Ge(e,t,n){return new Promise(((r,i)=>{try{const a=indexedDB.open(e,t);a.onsuccess=e=>{r(new ze(e.target.result))},a.onerror=e=>{var t;i(`Error opening indexedDB: ${null===(t=e.target.error)||void 0===t?void 0:t.message}`)},a.onupgradeneeded=e=>{n(new ze(a.result),e.oldVersion,e.newVersion,new qe(a.transaction))}}catch(e){i(`Error opening indexedDB: ${e.message}`)}}))}class We{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Qe="[DEFAULT]";class Ye{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Ae;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Qe})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e="[DEFAULT]"){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e="[DEFAULT]"){return this.instances.has(e)}getOptions(e="[DEFAULT]"){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===Qe?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}var r;return n||null}normalizeInstanceIdentifier(e="[DEFAULT]"){return this.component?this.component.multipleInstances?e:Qe:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Je{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ye(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Xe=[];var Ze,$e;($e=Ze||(Ze={}))[$e.DEBUG=0]="DEBUG",$e[$e.VERBOSE=1]="VERBOSE",$e[$e.INFO=2]="INFO",$e[$e.WARN=3]="WARN",$e[$e.ERROR=4]="ERROR",$e[$e.SILENT=5]="SILENT";const et={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},tt=Ze.INFO,nt={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},rt=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=nt[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class it{constructor(e){this.name=e,this._logLevel=tt,this._logHandler=rt,this._userLogHandler=null,Xe.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?et[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}class at{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const st="@firebase/app",ot="0.7.21",lt=new it("@firebase/app"),ut={[st]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ct=new Map,ht=new Map;function dt(e,t){try{e.container.addComponent(t)}catch(n){lt.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ft(e){const t=e.name;if(ht.has(t))return lt.debug(`There were multiple attempts to register component ${t}.`),!1;ht.set(t,e);for(const t of ct.values())dt(t,e);return!0}function pt(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const mt=new _e("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class gt{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new We("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mt.create("app-deleted",{appName:this._name})}}const vt="9.6.11";function yt(e="[DEFAULT]"){const t=ct.get(e);if(!t)throw mt.create("no-app",{appName:e});return t}function wt(e,t,n){var r;let i=null!==(r=ut[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){const e=[`Unable to register library "${i}" with version "${t}":`];return a&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void lt.warn(e.join(" "))}ft(new We(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const bt="firebase-heartbeat-store";let At=null;function Et(){return At||(At=Ge("firebase-heartbeat-database",1,((e,t)=>{0===t&&e.createObjectStore(bt)})).catch((e=>{throw mt.create("storage-open",{originalErrorMessage:e.message})}))),At}async function kt(e,t){try{const n=(await Et()).transaction(bt,"readwrite"),r=n.objectStore(bt);return await r.put(t,St(e)),n.complete}catch(e){throw mt.create("storage-set",{originalErrorMessage:e.message})}}function St(e){return`${e.name}!${e.options.appId}`}class It{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ct(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=Tt();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=Tt(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=1024){const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Nt(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Nt(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=be(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Tt(){return(new Date).toISOString().substring(0,10)}class Ct{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Ce()&&Ne().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(e){try{return(await Et()).transaction(bt).objectStore(bt).get(St(e))}catch(e){throw mt.create("storage-get",{originalErrorMessage:e.message})}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return kt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return kt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Nt(e){return be(JSON.stringify({version:2,heartbeats:e})).length}function Rt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}ft(new We("platform-logger",(e=>new at(e)),"PRIVATE")),ft(new We("heartbeat",(e=>new It(e)),"PRIVATE")),wt(st,ot,""),wt(st,ot,"esm2017"),wt("fire-js",""),Object.create,Object.create;const _t=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},xt=new _e("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ot=new it("@firebase/auth");function Pt(e,...t){Ot.logLevel<=Ze.ERROR&&Ot.error(`Auth (9.6.11): ${e}`,...t)}function Dt(e,...t){throw Ut(e,...t)}function Lt(e,...t){return Ut(e,...t)}function Mt(e,t,n){const r=Object.assign(Object.assign({},_t()),{[t]:n});return new _e("auth","Firebase",r).create(t,{appName:e.name})}function Ut(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return xt.create(e,...t)}function Ft(e,t,...n){if(!e)throw Ut(t,...n)}function Bt(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Pt(t),new Error(t)}function Vt(e,t){e||Bt(t)}const jt=new Map;function zt(e){Vt(e instanceof Function,"Expected a class definition");let t=jt.get(e);return t?(Vt(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,jt.set(e,t),t)}function qt(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Ht(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Kt{constructor(e,t){this.shortDelay=e,this.longDelay=t,Vt(t>e,"Short delay should be less than long delay!"),this.isMobile=ke()||Ie()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===Ht()||"https:"===Ht()||Se()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Gt(e,t){Vt(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Wt{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Bt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Bt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Bt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Qt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Yt=new Kt(3e4,6e4);function Jt(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Xt(e,t,n,r,i={}){return Zt(e,i,(async()=>{let i={},a={};r&&("GET"===t?a=r:i={body:JSON.stringify(r)});const s=De(Object.assign({key:e.config.apiKey},a)).slice(1),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode),Wt.fetch()(en(e,e.config.apiHost,n,s),Object.assign({method:t,headers:o,referrerPolicy:"no-referrer"},i))}))}async function Zt(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Qt),t);try{const t=new tn(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw nn(e,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const t=i.ok?a.errorMessage:a.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw nn(e,"credential-already-in-use",a);if("EMAIL_EXISTS"===n)throw nn(e,"email-already-in-use",a);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw Mt(e,o,s);Dt(e,o)}}catch(t){if(t instanceof Re)throw t;Dt(e,"network-request-failed")}}async function $t(e,t,n,r,i={}){const a=await Xt(e,t,n,r,i);return"mfaPendingCredential"in a&&Dt(e,"multi-factor-auth-required",{_serverResponse:a}),a}function en(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?Gt(e.config,i):`${e.config.apiScheme}://${i}`}class tn{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Lt(this.auth,"network-request-failed"))),Yt.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function nn(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Lt(e,t,r);return i.customData._tokenResponse=n,i}function rn(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}function an(e){return 1e3*Number(e)}function sn(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Pt("JWT malformed, contained fewer than 3 sections"),null;try{const e=function(e){try{return we.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(n);return e?JSON.parse(e):(Pt("Failed to decode base64 JWT payload"),null)}catch(e){return Pt("Caught error parsing JWT payload as JSON",e),null}}async function on(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof Re&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class ln{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e.code&&this.schedule(!0))}this.schedule()}}class un{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=rn(this.lastLoginAt),this.creationTime=rn(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function cn(e){var t;const n=e.auth,r=await e.getIdToken(),i=await on(e,async function(e,t){return Xt(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Ft(null==i?void 0:i.users.length,n,"internal-error");const a=i.users[0];e._notifyReloadListener(a);const s=(null===(t=a.providerUserInfo)||void 0===t?void 0:t.length)?a.providerUserInfo.map((e=>{var{providerId:t}=e,n=Rt(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],o=function(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}(e.providerData,s),l=e.isAnonymous,u=!(e.email&&a.passwordHash||(null==o?void 0:o.length)),c=!!l&&u,h={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new un(a.createdAt,a.lastLoginAt),isAnonymous:c};Object.assign(e,h)}class hn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ft(e.idToken,"internal-error"),Ft(void 0!==e.idToken,"internal-error"),Ft(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=sn(e);return Ft(t,"internal-error"),Ft(void 0!==t.exp,"internal-error"),Ft(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return Ft(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Zt(e,{},(async()=>{const n=De({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=en(e,r,"/v1/token",`key=${i}`),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",Wt.fetch()(a,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,a=new hn;return n&&(Ft("string"==typeof n,"internal-error",{appName:e}),a.refreshToken=n),r&&(Ft("string"==typeof r,"internal-error",{appName:e}),a.accessToken=r),i&&(Ft("number"==typeof i,"internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hn,this.toJSON())}_performRefresh(){return Bt("not implemented")}}function dn(e,t){Ft("string"==typeof e||void 0===e,"internal-error",{appName:t})}class fn{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Rt(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ln(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new un(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await on(this,this.stsTokenManager.getToken(this.auth,e));return Ft(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=Ve(e),r=await n.getIdToken(t),i=sn(r);Ft(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a="object"==typeof i.firebase?i.firebase:void 0,s=null==a?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:rn(an(i.auth_time)),issuedAtTime:rn(an(i.iat)),expirationTime:rn(an(i.exp)),signInProvider:s||null,signInSecondFactor:(null==a?void 0:a.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Ve(e);await cn(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Ft(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new fn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){Ft(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await cn(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await on(this,async function(e,t){return Xt(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,a,s,o,l,u;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(a=t.photoURL)&&void 0!==a?a:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:y,emailVerified:w,isAnonymous:b,providerData:A,stsTokenManager:E}=t;Ft(y&&E,e,"internal-error");const k=hn.fromJSON(this.name,E);Ft("string"==typeof y,e,"internal-error"),dn(c,e.name),dn(h,e.name),Ft("boolean"==typeof w,e,"internal-error"),Ft("boolean"==typeof b,e,"internal-error"),dn(d,e.name),dn(f,e.name),dn(p,e.name),dn(m,e.name),dn(g,e.name),dn(v,e.name);const S=new fn({uid:y,auth:e,email:h,emailVerified:w,displayName:c,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:k,createdAt:g,lastLoginAt:v});return A&&Array.isArray(A)&&(S.providerData=A.map((e=>Object.assign({},e)))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t,n=!1){const r=new hn;r.updateFromServerResponse(t);const i=new fn({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await cn(i),i}}class pn{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}pn.type="NONE";const mn=pn;function gn(e,t,n){return`firebase:${e}:${t}:${n}`}class vn{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=gn(this.userKey,r.apiKey,i),this.fullPersistenceKey=gn("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?fn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new vn(zt(mn),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||zt(mn);const a=gn(n,e.config.apiKey,e.name);let s=null;for(const n of t)try{const t=await n._get(a);if(t){const r=fn._fromJSON(e,t);n!==i&&(s=r),i=n;break}}catch(e){}const o=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&o.length?(i=o[0],s&&await i._set(a,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(a)}catch(e){}}))),new vn(i,e,n)):new vn(i,e,n)}}function yn(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(En(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(wn(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Sn(t))return"Blackberry";if(In(t))return"Webos";if(bn(t))return"Safari";if((t.includes("chrome/")||An(t))&&!t.includes("edge/"))return"Chrome";if(kn(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function wn(e=Ee()){return/firefox\//i.test(e)}function bn(e=Ee()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function An(e=Ee()){return/crios\//i.test(e)}function En(e=Ee()){return/iemobile/i.test(e)}function kn(e=Ee()){return/android/i.test(e)}function Sn(e=Ee()){return/blackberry/i.test(e)}function In(e=Ee()){return/webos/i.test(e)}function Tn(e=Ee()){return/iphone|ipad|ipod/i.test(e)}function Cn(e=Ee()){return Tn(e)||kn(e)||In(e)||Sn(e)||/windows phone/i.test(e)||En(e)}function Nn(e,t=[]){let n;switch(e){case"Browser":n=yn(Ee());break;case"Worker":n=`${yn(Ee())}-${e}`;break;default:n=e}return`${n}/JsCore/9.6.11/${t.length?t.join(","):"FirebaseCore-web"}`}class Rn{constructor(e,t,n){this.app=e,this.heartbeatServiceProvider=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xn(this),this.idTokenSubscription=new xn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=zt(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await vn.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e):void 0}async initializeCurrentUser(e){var t;let n=await this.assertedPersistence.getCurrentUser();if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const r=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,i=null==n?void 0:n._redirectEventId,a=await this.tryRedirectSignIn(e);r&&r!==i||!(null==a?void 0:a.user)||(n=a.user)}return n?n._redirectEventId?(Ft(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)):this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await cn(e)}catch(e){if("auth/network-request-failed"!==e.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?Ve(e):null;return t&&Ft(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){if(!this._deleted)return e&&Ft(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(zt(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new _e("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&zt(e)||this._popupRedirectResolver;Ft(t,this,"argument-error"),this.redirectPersistenceManager=await vn.create(this,[zt(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t),a=this._isInitialized?Promise.resolve():this._initializationPromise;return Ft(a,this,"internal-error"),a.then((()=>i(this.currentUser))),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ft(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Nn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());return n&&(t["X-Firebase-Client"]=n),t}}function _n(e){return Ve(e)}class xn{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Ue(e,void 0);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Ft(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}class On{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Bt("not implemented")}_getIdTokenResponse(e){return Bt("not implemented")}_linkToIdToken(e,t){return Bt("not implemented")}_getReauthenticationResolver(e){return Bt("not implemented")}}class Pn extends On{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Pn(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Pn(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return async function(e,t){return $t(e,"POST","/v1/accounts:signInWithPassword",Jt(e,t))}(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return $t(e,"POST","/v1/accounts:signInWithEmailLink",Jt(e,t))}(e,{email:this._email,oobCode:this._password});default:Dt(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return async function(e,t){return Xt(e,"POST","/v1/accounts:update",t)}(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return $t(e,"POST","/v1/accounts:signInWithEmailLink",Jt(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Dt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Dn(e,t){return $t(e,"POST","/v1/accounts:signInWithIdp",Jt(e,t))}class Ln extends On{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ln(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Dt("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Rt(t,["providerId","signInMethod"]);if(!n||!r)return null;const a=new Ln(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return Dn(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Dn(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Dn(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=De(t)}return e}}const Mn={USER_NOT_FOUND:"user-not-found"};class Un extends On{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Un({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Un({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return $t(e,"POST","/v1/accounts:signInWithPhoneNumber",Jt(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await $t(e,"POST","/v1/accounts:signInWithPhoneNumber",Jt(e,t));if(n.temporaryProof)throw nn(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return $t(e,"POST","/v1/accounts:signInWithPhoneNumber",Jt(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Mn)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Un({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Fn{constructor(e){var t,n,r,i,a,s;const o=Le(Me(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,u=null!==(n=o.oobCode)&&void 0!==n?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);Ft(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(a=o.languageCode)&&void 0!==a?a:null,this.tenantId=null!==(s=o.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=Le(Me(e)).link,n=t?Le(Me(t)).deep_link_id:null,r=Le(Me(e)).deep_link_id;return(r?Le(Me(r)).link:null)||r||n||t||e}(e);try{return new Fn(t)}catch(e){return null}}}class Bn{constructor(){this.providerId=Bn.PROVIDER_ID}static credential(e,t){return Pn._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Fn.parseLink(t);return Ft(n,"argument-error"),Pn._fromEmailAndCode(e,n.code,n.tenantId)}}Bn.PROVIDER_ID="password",Bn.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Bn.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Vn{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class jn extends Vn{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class zn extends jn{constructor(){super("facebook.com")}static credential(e){return Ln._fromParams({providerId:zn.PROVIDER_ID,signInMethod:zn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zn.credentialFromTaggedObject(e)}static credentialFromError(e){return zn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return zn.credential(e.oauthAccessToken)}catch(e){return null}}}zn.FACEBOOK_SIGN_IN_METHOD="facebook.com",zn.PROVIDER_ID="facebook.com";class qn extends jn{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ln._fromParams({providerId:qn.PROVIDER_ID,signInMethod:qn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return qn.credentialFromTaggedObject(e)}static credentialFromError(e){return qn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return qn.credential(t,n)}catch(e){return null}}}qn.GOOGLE_SIGN_IN_METHOD="google.com",qn.PROVIDER_ID="google.com";class Hn extends jn{constructor(){super("github.com")}static credential(e){return Ln._fromParams({providerId:Hn.PROVIDER_ID,signInMethod:Hn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hn.credentialFromTaggedObject(e)}static credentialFromError(e){return Hn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Hn.credential(e.oauthAccessToken)}catch(e){return null}}}Hn.GITHUB_SIGN_IN_METHOD="github.com",Hn.PROVIDER_ID="github.com";class Kn extends jn{constructor(){super("twitter.com")}static credential(e,t){return Ln._fromParams({providerId:Kn.PROVIDER_ID,signInMethod:Kn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Kn.credentialFromTaggedObject(e)}static credentialFromError(e){return Kn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Kn.credential(t,n)}catch(e){return null}}}Kn.TWITTER_SIGN_IN_METHOD="twitter.com",Kn.PROVIDER_ID="twitter.com";class Gn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await fn._fromIdTokenResponse(e,n,r),a=Wn(n);return new Gn({user:i,providerId:a,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Wn(n);return new Gn({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Wn(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Qn extends Re{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Qn.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Qn(e,t,n,r)}}function Yn(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Qn._fromErrorAndOperation(e,n,t,r);throw n}))}new WeakMap;const Jn="__sak";class Xn{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Jn,"1"),this.storage.removeItem(Jn),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Zn extends Xn{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Ee();return bn(e)||Tn(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Cn(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Te()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Zn.type="LOCAL";const $n=Zn;class er extends Xn{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}er.type="SESSION";const tr=er;class nr{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new nr(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(!(null==a?void 0:a.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(a).map((async e=>e(t.origin,i))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function rr(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}nr.receivers=[];class ir{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,a;return new Promise(((s,o)=>{const l=rr("",20);r.port1.start();const u=setTimeout((()=>{o(new Error("unsupported_event"))}),n);a={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(u),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{a&&this.removeMessageHandler(a)}))}}function ar(){return window}function sr(){return void 0!==ar().WorkerGlobalScope&&"function"==typeof ar().importScripts}const or="firebaseLocalStorageDb",lr="firebaseLocalStorage",ur="fbase_key";class cr{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function hr(e,t){return e.transaction([lr],t?"readwrite":"readonly").objectStore(lr)}function dr(){const e=indexedDB.open(or,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(lr,{keyPath:ur})}catch(e){n(e)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(lr)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(or);return new cr(e).toPromise()}(),t(await dr()))}))}))}async function fr(e,t,n){const r=hr(e,!0).put({[ur]:t,value:n});return new cr(r).toPromise()}function pr(e,t){const n=hr(e,!0).delete(t);return new cr(n).toPromise()}class mr{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await dr()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sr()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nr._getInstance(sr()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new ir(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dr();return await fr(e,Jn,"1"),await pr(e,Jn),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>fr(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=hr(e,!1).get(t),r=await new cr(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>pr(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=hr(e,!1).getAll();return new cr(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}mr.type="LOCAL";const gr=mr;function vr(e){return`__${e}${Math.floor(1e6*Math.random())}`}vr("rcb"),new Kt(3e4,6e4);class yr{constructor(e){this.providerId=yr.PROVIDER_ID,this.auth=_n(e)}verifyPhoneNumber(e,t){return async function(e,t,n){var r;const i=await n.verify();try{let a;if(Ft("string"==typeof i,e,"argument-error"),Ft("recaptcha"===n.type,e,"argument-error"),a="string"==typeof t?{phoneNumber:t}:t,"session"in a){const t=a.session;if("phoneNumber"in a){Ft("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Xt(e,"POST","/v2/accounts/mfaEnrollment:start",Jt(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:a.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Ft("signin"===t.type,e,"internal-error");const n=(null===(r=a.multiFactorHint)||void 0===r?void 0:r.uid)||a.multiFactorUid;Ft(n,e,"missing-multi-factor-info");const s=await function(e,t){return Xt(e,"POST","/v2/accounts/mfaSignIn:start",Jt(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Xt(e,"POST","/v1/accounts:sendVerificationCode",Jt(e,t))}(e,{phoneNumber:a.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}(this.auth,e,Ve(t))}static credential(e,t){return Un._fromVerification(e,t)}static credentialFromResult(e){const t=e;return yr.credentialFromTaggedObject(t)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?Un._fromTokenResponse(t,n):null}}function wr(e,t){return t?zt(t):(Ft(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}yr.PROVIDER_ID="phone",yr.PHONE_SIGN_IN_METHOD="phone";class br extends On{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Dn(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Dn(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Dn(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ar(e){return async function(e,t,n=!1){const r="signIn",i=await Yn(e,r,t),a=await Gn._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}(e.auth,new br(e),e.bypassAuthState)}function Er(e){const{auth:t,user:n}=e;return Ft(n,t,"internal-error"),async function(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const a=await on(e,Yn(r,i,t,e),n);Ft(a.idToken,r,"internal-error");const s=sn(a.idToken);Ft(s,r,"internal-error");const{sub:o}=s;return Ft(e.uid===o,r,"user-mismatch"),Gn._forOperation(e,i,a)}catch(e){throw"auth/user-not-found"===(null==e?void 0:e.code)&&Dt(r,"user-mismatch"),e}}(n,new br(e),e.bypassAuthState)}async function kr(e){const{auth:t,user:n}=e;return Ft(n,t,"internal-error"),async function(e,t,n=!1){const r=await on(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Gn._forOperation(e,"link",r)}(n,new br(e),e.bypassAuthState)}class Sr{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:s}=e;if(a)return void this.reject(a);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(o))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ar;case"linkViaPopup":case"linkViaRedirect":return kr;case"reauthViaPopup":case"reauthViaRedirect":return Er;default:Dt(this.auth,"internal-error")}}resolve(e){Vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ir=new Kt(2e3,1e4);class Tr extends Sr{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Tr.currentPopupAction&&Tr.currentPopupAction.cancel(),Tr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ft(e,this.auth,"internal-error"),e}async onExecution(){Vt(1===this.filter.length,"Popup operations only handle one event");const e=rr();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Lt(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Lt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Tr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Lt(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(e,Ir.get())};e()}}Tr.currentPopupAction=null;const Cr=new Map;class Nr extends Sr{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Cr.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=function(e){return gn("pendingRedirect",e.config.apiKey,e.name)}(t),r=function(e){return zt(e._redirectPersistence)}(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Cr.set(this.auth._key(),e)}return this.bypassAuthState||Cr.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Rr(e,t,n=!1){const r=_n(e),i=wr(r,t),a=new Nr(r,i,n),s=await a.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class _r{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Or(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Or(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Lt(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(xr(e))}saveEventToCache(e){this.cachedEventUids.add(xr(e)),this.lastProcessedEventTime=Date.now()}}function xr(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Or({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}const Pr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Dr=/^https?/;function Lr(e){const t=qt(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Dr.test(n))return!1;if(Pr.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Mr=new Kt(3e4,6e4);function Ur(){const e=ar().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}let Fr=null;function Br(e){return Fr=Fr||function(e){return new Promise(((t,n)=>{var r,i,a,s;function o(){Ur(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ur(),n(Lt(e,"network-request-failed"))},timeout:Mr.get()})}if(null===(i=null===(r=ar().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=ar().gapi)||void 0===a?void 0:a.load)){const t=vr("iframefcb");return ar()[t]=()=>{gapi.load?o():n(Lt(e,"network-request-failed"))},(s=`https://apis.google.com/js/api.js?onload=${t}`,new Promise(((e,t)=>{const n=document.createElement("script");n.setAttribute("src",s),n.onload=e,n.onerror=e=>{const n=Lt("internal-error");n.customData=e,t(n)},n.type="text/javascript",n.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(n)}))).catch((e=>n(e)))}o()}})).catch((e=>{throw Fr=null,e}))}(e),Fr}const Vr=new Kt(5e3,15e3),jr={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qr(e){const t=e.config;Ft(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Gt(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:vt},i=zr.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${De(r).slice(1)}`}const Hr={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Kr{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Gr(e,t,n,r,i,a){Ft(e.config.authDomain,e,"auth-domain-config-required"),Ft(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:vt,eventId:i};if(t instanceof Vn){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))s[e]=t}if(t instanceof jn){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const o=s;for(const e of Object.keys(o))void 0===o[e]&&delete o[e];return`${function({config:e}){return e.emulator?Gt(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${De(o).slice(1)}`}const Wr="webStorageSupport",Qr=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tr,this._completeRedirectFn=Rr}async _openPopup(e,t,n,r){var i;return Vt(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()"),function(e,t,n,r=500,i=600){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Hr),{width:r.toString(),height:i.toString(),top:a,left:s}),u=Ee().toLowerCase();n&&(o=An(u)?"_blank":n),wn(u)&&(t=t||"http://localhost",l.scrollbars="yes");const c=Object.entries(l).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(function(e=Ee()){var t;return Tn(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(u)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new Kr(null);const h=window.open(t||"",o,c);Ft(h,e,"popup-blocked");try{h.focus()}catch(e){}return new Kr(h)}(e,Gr(e,t,n,qt(),r),rr())}async _openRedirect(e,t,n,r){var i;return await this._originValidation(e),i=Gr(e,t,n,qt(),r),ar().location.href=i,new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Vt(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await Br(e),n=ar().gapi;return Ft(n,e,"internal-error"),t.open({where:document.body,url:qr(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jr,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Lt(e,"network-request-failed"),a=ar().setTimeout((()=>{r(i)}),Vr.get());function s(){ar().clearTimeout(a),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}(e),n=new _r(e);return t.register("authEvent",(t=>(Ft(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"})),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Wr,{type:Wr},(n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Dt(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return Xt(e,"GET","/v1/projects",t)}(e);for(const e of t)try{if(Lr(e))return}catch(e){}Dt(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Cn()||bn()||Tn()}};var Yr,Jr="@firebase/auth",Xr="0.19.12";class Zr{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ft(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}Yr="Browser",ft(new We("auth",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),{apiKey:i,authDomain:a}=n.options;return((e,n)=>{Ft(i&&!i.includes(":"),"invalid-api-key",{appName:e.name}),Ft(!(null==a?void 0:a.includes(":")),"argument-error",{appName:e.name});const r={apiKey:i,authDomain:a,clientPlatform:Yr,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Nn(Yr)},s=new Rn(e,n,r);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(zt);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(s,t),s})(n,r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),ft(new We("auth-internal",(e=>(e=>new Zr(e))(_n(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),wt(Jr,Xr,void 0),wt(Jr,Xr,"esm2017"),wt("firebase","9.6.11","app");var $r,ei="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},ti={},ni=ni||{},ri=ei||self;function ii(){}function ai(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function si(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var oi="closure_uid_"+(1e9*Math.random()>>>0),li=0;function ui(e,t,n){return e.call.apply(e.bind,arguments)}function ci(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function hi(e,t,n){return(hi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ui:ci).apply(null,arguments)}function di(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function fi(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function pi(){this.s=this.s,this.o=this.o}var mi={};pi.prototype.s=!1,pi.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,oi)&&e[oi]||(e[oi]=++li)}(this);delete mi[e]}},pi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const gi=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},vi=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const r=e.length,i="string"==typeof e?e.split(""):e;for(let a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function yi(e){return Array.prototype.concat.apply([],arguments)}function wi(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function bi(e){return/^[\s\xa0]*$/.test(e)}var Ai,Ei=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function ki(e,t){return-1!=e.indexOf(t)}function Si(e,t){return e<t?-1:e>t?1:0}e:{var Ii=ri.navigator;if(Ii){var Ti=Ii.userAgent;if(Ti){Ai=Ti;break e}}Ai=""}function Ci(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Ni(e){const t={};for(const n in e)t[n]=e[n];return t}var Ri="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _i(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t],r)e[n]=r[n];for(let t=0;t<Ri.length;t++)n=Ri[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function xi(e){return xi[" "](e),e}xi[" "]=ii;var Oi,Pi=ki(Ai,"Opera"),Di=ki(Ai,"Trident")||ki(Ai,"MSIE"),Li=ki(Ai,"Edge"),Mi=Li||Di,Ui=ki(Ai,"Gecko")&&!(ki(Ai.toLowerCase(),"webkit")&&!ki(Ai,"Edge"))&&!(ki(Ai,"Trident")||ki(Ai,"MSIE"))&&!ki(Ai,"Edge"),Fi=ki(Ai.toLowerCase(),"webkit")&&!ki(Ai,"Edge");function Bi(){var e=ri.document;return e?e.documentMode:void 0}e:{var Vi="",ji=function(){var e=Ai;return Ui?/rv:([^\);]+)(\)|;)/.exec(e):Li?/Edge\/([\d\.]+)/.exec(e):Di?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Fi?/WebKit\/(\S+)/.exec(e):Pi?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ji&&(Vi=ji?ji[1]:""),Di){var zi=Bi();if(null!=zi&&zi>parseFloat(Vi)){Oi=String(zi);break e}}Oi=Vi}var qi,Hi={};function Ki(){return function(e){var t=Hi;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){let e=0;const t=Ei(String(Oi)).split("."),n=Ei("9").split("."),r=Math.max(t.length,n.length);for(let s=0;0==e&&s<r;s++){var i=t[s]||"",a=n[s]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;e=Si(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||Si(0==i[2].length,0==a[2].length)||Si(i[2],a[2]),i=i[3],a=a[3]}while(0==e)}return 0<=e}()}()}ri.document&&Di?qi=Bi()||parseInt(Oi,10)||void 0:qi=void 0;var Gi=qi,Wi=function(){if(!ri.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ri.addEventListener("test",ii,t),ri.removeEventListener("test",ii,t)}catch(e){}return e}();function Qi(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Yi(e,t){if(Qi.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Ui){e:{try{xi(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Ji[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Yi.Z.h.call(this)}}Qi.prototype.h=function(){this.defaultPrevented=!0},fi(Yi,Qi);var Ji={2:"touch",3:"pen",4:"mouse"};Yi.prototype.h=function(){Yi.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Xi="closure_listenable_"+(1e6*Math.random()|0),Zi=0;function $i(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Zi,this.ca=this.fa=!1}function ea(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function ta(e){this.src=e,this.g={},this.h=0}function na(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=gi(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(ea(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ra(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}ta.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var s=ra(e,t,r,i);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new $i(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var ia="closure_lm_"+(1e6*Math.random()|0),aa={};function sa(e,t,n,r,i){if(r&&r.once)return la(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)sa(e,t[a],n,r,i);return null}return n=ma(n),e&&e[Xi]?e.N(t,n,si(r)?!!r.capture:!!r,i):oa(e,t,n,!1,r,i)}function oa(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var s=si(i)?!!i.capture:!!i,o=fa(e);if(o||(e[ia]=o=new ta(e)),(n=o.add(t,n,r,s,a)).proxy)return n;if(r=function(){var e=da;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Wi||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ha(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function la(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)la(e,t[a],n,r,i);return null}return n=ma(n),e&&e[Xi]?e.O(t,n,si(r)?!!r.capture:!!r,i):oa(e,t,n,!0,r,i)}function ua(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)ua(e,t[a],n,r,i);else r=si(r)?!!r.capture:!!r,n=ma(n),e&&e[Xi]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=ra(a=e.g[t],n,r,i))&&(ea(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--))):e&&(e=fa(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ra(t,n,r,i)),(n=-1<e?t[e]:null)&&ca(n))}function ca(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Xi])na(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ha(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=fa(t))?(na(n,e),0==n.h&&(n.src=null,t[ia]=null)):ea(e)}}}function ha(e){return e in aa?aa[e]:aa[e]="on"+e}function da(e,t){if(e.ca)e=!0;else{t=new Yi(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&ca(e),e=n.call(r,t)}return e}function fa(e){return(e=e[ia])instanceof ta?e:null}var pa="__closure_events_fn_"+(1e9*Math.random()>>>0);function ma(e){return"function"==typeof e?e:(e[pa]||(e[pa]=function(t){return e.handleEvent(t)}),e[pa])}function ga(){pi.call(this),this.i=new ta(this),this.P=this,this.I=null}function va(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new Qi(t,e);else if(t instanceof Qi)t.target=t.target||e;else{var i=t;_i(t=new Qi(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var s=t.g=n[a];i=ya(s,r,!0,t)&&i}if(i=ya(s=t.g=e,r,!0,t)&&i,i=ya(s,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=ya(s=t.g=n[a],r,!1,t)&&i}function ya(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var s=t[a];if(s&&!s.ca&&s.capture==n){var o=s.listener,l=s.ia||s.src;s.fa&&na(e.i,s),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}fi(ga,pi),ga.prototype[Xi]=!0,ga.prototype.removeEventListener=function(e,t,n,r){ua(this,e,t,n,r)},ga.prototype.M=function(){if(ga.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ea(n[r]);delete t.g[e],t.h--}}this.I=null},ga.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ga.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var wa=ri.JSON.stringify;function ba(){var e=Ca;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Aa,Ea=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new ka),(e=>e.reset()));class ka{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Sa(e){ri.setTimeout((()=>{throw e}),0)}function Ia(e,t){Aa||function(){var e=ri.Promise.resolve(void 0);Aa=function(){e.then(Na)}}(),Ta||(Aa(),Ta=!0),Ca.add(e,t)}var Ta=!1,Ca=new class{constructor(){this.h=this.g=null}add(e,t){const n=Ea.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function Na(){for(var e;e=ba();){try{e.h.call(e.g)}catch(e){Sa(e)}var t=Ea;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ta=!1}function Ra(e,t){ga.call(this),this.h=e||1,this.g=t||ri,this.j=hi(this.kb,this),this.l=Date.now()}function _a(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function xa(e,t,n){if("function"==typeof e)n&&(e=hi(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=hi(e.handleEvent,e)}return 2147483647<Number(t)?-1:ri.setTimeout(e,t||0)}function Oa(e){e.g=xa((()=>{e.g=null,e.i&&(e.i=!1,Oa(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}fi(Ra,ga),($r=Ra.prototype).da=!1,$r.S=null,$r.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),va(this,"tick"),this.da&&(_a(this),this.start()))}},$r.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},$r.M=function(){Ra.Z.M.call(this),_a(this),delete this.g};class Pa extends pi{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Oa(this)}M(){super.M(),this.g&&(ri.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Da(e){pi.call(this),this.h=e,this.g={}}fi(Da,pi);var La=[];function Ma(e,t,n,r){Array.isArray(n)||(n&&(La[0]=n.toString()),n=La);for(var i=0;i<n.length;i++){var a=sa(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Ua(e){Ci(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ca(e)}),e),e.g={}}function Fa(){this.g=!0}function Ba(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var s=1;s<i.length;s++)i[s]=""}}}return wa(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}Da.prototype.M=function(){Da.Z.M.call(this),Ua(this)},Da.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Fa.prototype.Aa=function(){this.g=!1},Fa.prototype.info=function(){};var Va={},ja=null;function za(){return ja=ja||new ga}function qa(e){Qi.call(this,Va.Ma,e)}function Ha(e){const t=za();va(t,new qa(t,e))}function Ka(e,t){Qi.call(this,Va.STAT_EVENT,e),this.stat=t}function Ga(e){const t=za();va(t,new Ka(t,e))}function Wa(e,t){Qi.call(this,Va.Na,e),this.size=t}function Qa(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return ri.setTimeout((function(){e()}),t)}Va.Ma="serverreachability",fi(qa,Qi),Va.STAT_EVENT="statevent",fi(Ka,Qi),Va.Na="timingevent",fi(Wa,Qi);var Ya={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ja={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Xa(){}function Za(e){return e.h||(e.h=e.i())}function $a(){}Xa.prototype.h=null;var es,ts={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ns(){Qi.call(this,"d")}function rs(){Qi.call(this,"c")}function is(){}function as(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Da(this),this.P=os,e=Mi?125:void 0,this.W=new Ra(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ss}function ss(){this.i=null,this.g="",this.h=!1}fi(ns,Qi),fi(rs,Qi),fi(is,Xa),is.prototype.g=function(){return new XMLHttpRequest},is.prototype.i=function(){return{}},es=new is;var os=45e3,ls={},us={};function cs(e,t,n){e.K=1,e.v=Ps(Cs(t)),e.s=n,e.U=!0,hs(e,null)}function hs(e,t){e.F=Date.now(),ms(e),e.A=Cs(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Gs(n.h,"t",r),e.C=0,n=e.l.H,e.h=new ss,e.g=Wo(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Pa(hi(e.Ia,e,e.g),e.O)),Ma(e.V,e.g,"readystatechange",e.gb),t=e.H?Ni(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ha(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var s="",o=a.split("&"),l=0;l<o.length;l++){var u=o[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");s=2<=h.length&&"type"==h[1]?s+(c+"=")+u+"&":s+(c+"=redacted&")}}else s=null;else s=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function ds(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function fs(e,t,n){let r,i=!0;for(;!e.I&&e.C<n.length;){if(r=ps(e,n),r==us){4==t&&(e.o=4,Ga(14),i=!1),Ba(e.j,e.m,null,"[Incomplete Response]");break}if(r==ls){e.o=4,Ga(15),Ba(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ba(e.j,e.m,r,null),bs(e,r)}ds(e)&&r!=us&&r!=ls&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ga(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Bo(t),t.L=!0,Ga(11))):(Ba(e.j,e.m,n,"[Invalid Chunked Response]"),ws(e),ys(e))}function ps(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?us:(n=Number(t.substring(n,r)),isNaN(n)?ls:(r+=1)+n>t.length?us:(t=t.substr(r,n),e.C=r+n,t))}function ms(e){e.Y=Date.now()+e.P,gs(e,e.P)}function gs(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Qa(hi(e.eb,e),t)}function vs(e){e.B&&(ri.clearTimeout(e.B),e.B=null)}function ys(e){0==e.l.G||e.I||zo(e.l,e)}function ws(e){vs(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,_a(e.W),Ua(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function bs(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Zs(n.i,e)))if(n.I=e.N,!e.J&&Zs(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;jo(n),_o(n)}Fo(n),Ga(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Qa(hi(n.ab,n),6e3));if(1>=Xs(n.i)&&n.ka){try{n.ka()}catch(e){}n.ka=void 0}}else Ho(n,11)}else if((e.J||n.g==e)&&jo(n),!bi(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.U=u[0],u=u[1],2==n.G)if("c"==u[0]){n.J=u[1],n.la=u[2];const t=u[3];null!=t&&(n.ma=t,n.h.info("VER="+n.ma));const i=u[4];null!=i&&(n.za=i,n.h.info("SVER="+n.za));const c=u[5];null!=c&&"number"==typeof c&&0<c&&(r=1.5*c,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var a=r.i;!a.g&&(ki(e,"spdy")||ki(e,"quic")||ki(e,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&($s(a,a.h),a.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.sa=e,Os(r.F,r.D,e))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var s=e;if((r=n).oa=Go(r,r.H?r.la:null,r.W),s.J){eo(r.i,s);var o=s,l=r.K;l&&o.setTimeout(l),o.B&&(vs(o),ms(o)),r.g=s}else Uo(r);0<n.l.length&&Po(n)}else"stop"!=u[0]&&"close"!=u[0]||Ho(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?Ho(n,7):Ro(n):"noop"!=u[0]&&n.j&&n.j.wa(u),n.A=0)}Ha(4)}catch(e){}}function As(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ai(e)||"string"==typeof e)vi(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(ai(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(ai(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Es(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Es)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function ks(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Ss(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Ss(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Ss(e,t){return Object.prototype.hasOwnProperty.call(e,t)}($r=as.prototype).setTimeout=function(e){this.P=e},$r.gb=function(e){e=e.target;const t=this.L;t&&3==So(e)?t.l():this.Ia(e)},$r.Ia=function(e){try{if(e==this.g)e:{const c=So(this.g);var t=this.g.Da();const h=this.g.ba();if(!(3>c)&&(3!=c||Mi||this.g&&(this.h.h||this.g.ga()||Io(this.g)))){this.I||4!=c||7==t||Ha(8==t||0>=h?3:2),vs(this);var n=this.g.ba();this.N=n;t:if(ds(this)){var r=Io(this.g);e="";var i=r.length,a=4==So(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ws(this),ys(this);var s="";break t}this.h.i=new ri.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:a&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==n,function(e,t,n,r,i,a,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+s}))}(this.j,this.u,this.A,this.m,this.X,c,n),this.i){if(this.$&&!this.J){t:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!bi(o)){var u=o;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,Ga(12),ws(this),ys(this);break e}Ba(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,bs(this,n)}this.U?(fs(this,c,s),Mi&&this.i&&3==c&&(Ma(this.V,this.W,"tick",this.fb),this.W.start())):(Ba(this.j,this.m,s,null),bs(this,s)),4==c&&ws(this),this.i&&!this.I&&(4==c?zo(this.l,this):(this.i=!1,ms(this)))}else 400==n&&0<s.indexOf("Unknown SID")?(this.o=3,Ga(12)):(this.o=0,Ga(13)),ws(this),ys(this)}}}catch(e){}},$r.fb=function(){if(this.g){var e=So(this.g),t=this.g.ga();this.C<t.length&&(vs(this),fs(this,e,t),this.i&&4!=e&&ms(this))}},$r.cancel=function(){this.I=!0,ws(this)},$r.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Ha(3),Ga(17)),ws(this),this.o=2,ys(this)):gs(this,this.Y-e)},($r=Es.prototype).R=function(){ks(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},$r.T=function(){return ks(this),this.g.concat()},$r.get=function(e,t){return Ss(this.h,e)?this.h[e]:t},$r.set=function(e,t){Ss(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},$r.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Is=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ts(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Ts){this.g=void 0!==t?t:e.g,Ns(this,e.j),this.s=e.s,Rs(this,e.i),_s(this,e.m),this.l=e.l,t=e.h;var n=new zs;n.i=t.i,t.g&&(n.g=new Es(t.g),n.h=t.h),xs(this,n),this.o=e.o}else e&&(n=String(e).match(Is))?(this.g=!!t,Ns(this,n[1]||"",!0),this.s=Ds(n[2]||""),Rs(this,n[3]||"",!0),_s(this,n[4]),this.l=Ds(n[5]||"",!0),xs(this,n[6]||"",!0),this.o=Ds(n[7]||"")):(this.g=!!t,this.h=new zs(null,this.g))}function Cs(e){return new Ts(e)}function Ns(e,t,n){e.j=n?Ds(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Rs(e,t,n){e.i=n?Ds(t,!0):t}function _s(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function xs(e,t,n){t instanceof zs?(e.h=t,function(e,t){t&&!e.j&&(qs(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Hs(this,t),Gs(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Ls(t,Vs)),e.h=new zs(t,e.g))}function Os(e,t,n){e.h.set(t,n)}function Ps(e){return Os(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ds(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ls(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Ms),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ms(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ts.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ls(t,Us,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ls(t,Us,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ls(n,"/"==n.charAt(0)?Bs:Fs,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ls(n,js)),e.join("")};var Us=/[#\/\?@]/g,Fs=/[#\?:]/g,Bs=/[#\?]/g,Vs=/[#\?@]/g,js=/#/g;function zs(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function qs(e){e.g||(e.g=new Es,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Hs(e,t){qs(e),t=Ws(e,t),Ss(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Ss((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&ks(e)))}function Ks(e,t){return qs(e),t=Ws(e,t),Ss(e.g.h,t)}function Gs(e,t,n){Hs(e,t),0<n.length&&(e.i=null,e.g.set(Ws(e,t),wi(n)),e.h+=n.length)}function Ws(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Qs(e){this.l=e||Ys,e=ri.PerformanceNavigationTiming?0<(e=ri.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(ri.g&&ri.g.Ea&&ri.g.Ea()&&ri.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}($r=zs.prototype).add=function(e,t){qs(this),this.i=null,e=Ws(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},$r.forEach=function(e,t){qs(this),this.g.forEach((function(n,r){vi(n,(function(n){e.call(t,n,r,this)}),this)}),this)},$r.T=function(){qs(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},$r.R=function(e){qs(this);var t=[];if("string"==typeof e)Ks(this,e)&&(t=yi(t,this.g.get(Ws(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=yi(t,e[n])}return t},$r.set=function(e,t){return qs(this),this.i=null,Ks(this,e=Ws(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},$r.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},$r.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var s=i;""!==r[a]&&(s+="="+encodeURIComponent(String(r[a]))),e.push(s)}}return this.i=e.join("&")};var Ys=10;function Js(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Xs(e){return e.h?1:e.g?e.g.size:0}function Zs(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function $s(e,t){e.g?e.g.add(t):e.h=t}function eo(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function to(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return wi(e.i)}function no(){}function ro(){this.g=new no}function io(e,t,n){const r=n||"";try{As(e,(function(e,n){let i=e;si(e)&&(i=wa(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function ao(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}function so(e){this.l=e.$b||null,this.j=e.ib||!1}function oo(e,t){ga.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=lo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Qs.prototype.cancel=function(){if(this.i=to(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},no.prototype.stringify=function(e){return ri.JSON.stringify(e,void 0)},no.prototype.parse=function(e){return ri.JSON.parse(e,void 0)},fi(so,Xa),so.prototype.g=function(){return new oo(this.l,this.j)},so.prototype.i=function(e){return function(){return e}}({}),fi(oo,ga);var lo=0;function uo(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function co(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ho(e)}function ho(e){e.onreadystatechange&&e.onreadystatechange.call(e)}($r=oo.prototype).open=function(e,t){if(this.readyState!=lo)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ho(this)},$r.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||ri).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},$r.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,co(this)),this.readyState=lo},$r.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ho(this)),this.g&&(this.readyState=3,ho(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==ri.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;uo(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},$r.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?co(this):ho(this),3==this.readyState&&uo(this)}},$r.Ua=function(e){this.g&&(this.response=this.responseText=e,co(this))},$r.Ta=function(e){this.g&&(this.response=e,co(this))},$r.ha=function(){this.g&&co(this)},$r.setRequestHeader=function(e,t){this.v.append(e,t)},$r.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},$r.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(oo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var fo=ri.JSON.parse;function po(e){ga.call(this),this.headers=new Es,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=mo,this.K=this.L=!1}fi(po,ga);var mo="",go=/^https?$/i,vo=["POST","PUT"];function yo(e){return"content-type"==e.toLowerCase()}function wo(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,bo(e),Eo(e)}function bo(e){e.D||(e.D=!0,va(e,"complete"),va(e,"error"))}function Ao(e){if(e.h&&void 0!==ni&&(!e.C[1]||4!=So(e)||2!=e.ba()))if(e.v&&4==So(e))xa(e.Fa,0,e);else if(va(e,"readystatechange"),4==So(e)){e.h=!1;try{const o=e.ba();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===o){var i=String(e.H).match(Is)[1]||null;if(!i&&ri.self&&ri.self.location){var a=ri.self.location.protocol;i=a.substr(0,a.length-1)}r=!go.test(i?i.toLowerCase():"")}n=r}if(n)va(e,"complete"),va(e,"success");else{e.m=6;try{var s=2<So(e)?e.g.statusText:""}catch(e){s=""}e.j=s+" ["+e.ba()+"]",bo(e)}}finally{Eo(e)}}}function Eo(e,t){if(e.g){ko(e);const n=e.g,r=e.C[0]?ii:null;e.g=null,e.C=null,t||va(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function ko(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(ri.clearTimeout(e.A),e.A=null)}function So(e){return e.g?e.g.readyState:0}function Io(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case mo:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function To(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){let t="";return Ci(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Os(e,t,n))}function Co(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function No(e){this.za=0,this.l=[],this.h=new Fa,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Co("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Co("baseRetryDelayMs",5e3,e),this.$a=Co("retryDelaySeedMs",1e4,e),this.Ya=Co("forwardChannelMaxRetries",2,e),this.ra=Co("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Qs(e&&e.concurrentRequestLimit),this.Ca=new ro,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Ro(e){if(xo(e),3==e.G){var t=e.V++,n=Cs(e.F);Os(n,"SID",e.J),Os(n,"RID",t),Os(n,"TYPE","terminate"),Lo(e,n),(t=new as(e,e.h,t,void 0)).K=2,t.v=Ps(Cs(n)),n=!1,ri.navigator&&ri.navigator.sendBeacon&&(n=ri.navigator.sendBeacon(t.v.toString(),"")),!n&&ri.Image&&((new Image).src=t.v,n=!0),n||(t.g=Wo(t.l,null),t.g.ea(t.v)),t.F=Date.now(),ms(t)}Ko(e)}function _o(e){e.g&&(Bo(e),e.g.cancel(),e.g=null)}function xo(e){_o(e),e.u&&(ri.clearTimeout(e.u),e.u=null),jo(e),e.i.cancel(),e.m&&("number"==typeof e.m&&ri.clearTimeout(e.m),e.m=null)}function Oo(e,t){e.l.push(new class{constructor(e,t){this.h=e,this.g=t}}(e.Za++,t)),3==e.G&&Po(e)}function Po(e){Js(e.i)||e.m||(e.m=!0,Ia(e.Ha,e),e.C=0)}function Do(e,t){var n;n=t?t.m:e.V++;const r=Cs(e.F);Os(r,"SID",e.J),Os(r,"RID",n),Os(r,"AID",e.U),Lo(e,r),e.o&&e.s&&To(r,e.o,e.s),n=new as(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Mo(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),$s(e.i,n),cs(n,r,t)}function Lo(e,t){e.j&&As({},(function(e,n){Os(t,n,e)}))}function Mo(e,t,n){n=Math.min(e.l.length,n);var r=e.j?hi(e.j.Oa,e.j,e):null;e:{var i=e.l;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let s=0;s<n;s++){let n=i[s].h;const o=i[s].g;if(n-=t,0>n)t=Math.max(0,i[s].h-100),a=!1;else try{io(o,e,"req"+n+"_")}catch(e){r&&r(o)}}if(a){r=e.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,r}function Uo(e){e.g||e.u||(e.Y=1,Ia(e.Ga,e),e.A=0)}function Fo(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=Qa(hi(e.Ga,e),qo(e,e.A)),e.A++,0))}function Bo(e){null!=e.B&&(ri.clearTimeout(e.B),e.B=null)}function Vo(e){e.g=new as(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Cs(e.oa);Os(t,"RID","rpc"),Os(t,"SID",e.J),Os(t,"CI",e.N?"0":"1"),Os(t,"AID",e.U),Lo(e,t),Os(t,"TYPE","xmlhttp"),e.o&&e.s&&To(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Ps(Cs(t)),n.s=null,n.U=!0,hs(n,e)}function jo(e){null!=e.v&&(ri.clearTimeout(e.v),e.v=null)}function zo(e,t){var n=null;if(e.g==t){jo(e),Bo(e),e.g=null;var r=2}else{if(!Zs(e.i,t))return;n=t.D,eo(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;va(r=za(),new Wa(r,n,t,i)),Po(e)}else Uo(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Xs(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=Qa(hi(e.Ha,e,t),qo(e,e.C)),e.C++,0)))}(e,t)||2==r&&Fo(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Ho(e,5);break;case 4:Ho(e,10);break;case 3:Ho(e,6);break;default:Ho(e,2)}}function qo(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Ho(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=hi(e.jb,e);n||(n=new Ts("//www.google.com/images/cleardot.gif"),ri.location&&"http"==ri.location.protocol||Ns(n,"https"),Ps(n)),function(e,t){const n=new Fa;if(ri.Image){const r=new Image;r.onload=di(ao,n,r,"TestLoadImage: loaded",!0,t),r.onerror=di(ao,n,r,"TestLoadImage: error",!1,t),r.onabort=di(ao,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=di(ao,n,r,"TestLoadImage: timeout",!1,t),ri.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ga(2);e.G=0,e.j&&e.j.va(t),Ko(e),xo(e)}function Ko(e){e.G=0,e.I=-1,e.j&&(0==to(e.i).length&&0==e.l.length||(e.i.i.length=0,wi(e.l),e.l.length=0),e.j.ua())}function Go(e,t,n){let r=function(e){return e instanceof Ts?Cs(e):new Ts(e,void 0)}(n);if(""!=r.i)t&&Rs(r,t+"."+r.i),_s(r,r.m);else{const e=ri.location;r=function(e,t,n,r){var i=new Ts(null,void 0);return e&&Ns(i,e),t&&Rs(i,t),n&&_s(i,n),r&&(i.l=r),i}(e.protocol,t?t+"."+e.hostname:e.hostname,+e.port,n)}return e.aa&&Ci(e.aa,(function(e,t){Os(r,t,e)})),t=e.D,n=e.sa,t&&n&&Os(r,t,n),Os(r,"VER",e.ma),Lo(e,r),r}function Wo(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new po(new so({ib:!0})):new po(e.qa)).L=e.H,t}function Qo(){}function Yo(){if(Di&&!(10<=Number(Gi)))throw Error("Environmental error: no available transport.")}function Jo(e,t){ga.call(this),this.g=new No(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!bi(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!bi(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new $o(this)}function Xo(e){ns.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Zo(){rs.call(this),this.status=1}function $o(e){this.g=e}($r=po.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():es.g(),this.C=this.u?Za(this.u):Za(es),this.g.onreadystatechange=hi(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(e){return void wo(this,e)}e=n||"";const i=new Es(this.headers);r&&As(r,(function(e,t){i.set(t,e)})),r=function(e){e:{var t=yo;const n=e.length,r="string"==typeof e?e.split(""):e;for(let i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=ri.FormData&&e instanceof ri.FormData,!(0<=gi(vo,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ko(this),0<this.B&&((this.K=function(e){return Di&&Ki()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=hi(this.pa,this)):this.A=xa(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){wo(this,e)}},$r.pa=function(){void 0!==ni&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,va(this,"timeout"),this.abort(8))},$r.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,va(this,"complete"),va(this,"abort"),Eo(this))},$r.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Eo(this,!0)),po.Z.M.call(this)},$r.Fa=function(){this.s||(this.F||this.v||this.l?Ao(this):this.cb())},$r.cb=function(){Ao(this)},$r.ba=function(){try{return 2<So(this)?this.g.status:-1}catch(e){return-1}},$r.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},$r.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),fo(t)}},$r.Da=function(){return this.m},$r.La=function(){return"string"==typeof this.j?this.j:String(this.j)},($r=No.prototype).ma=8,$r.G=1,$r.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(e){}},$r.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new as(this,this.h,e,void 0);let a=this.s;if(this.P&&(a?(a=Ni(a),_i(a,this.P)):a=this.P),null===this.o&&(i.H=a),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Mo(this,i,t),Os(n=Cs(this.F),"RID",e),Os(n,"CVER",22),this.D&&Os(n,"X-HTTP-Session-Id",this.D),Lo(this,n),this.o&&a&&To(n,this.o,a),$s(this.i,i),this.Ra&&Os(n,"TYPE","init"),this.ja?(Os(n,"$req",t),Os(n,"SID","null"),i.$=!0,cs(i,n,null)):cs(i,n,t),this.G=2}}else 3==this.G&&(e?Do(this,e):0==this.l.length||Js(this.i)||Do(this))},$r.Ga=function(){if(this.u=null,Vo(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Qa(hi(this.bb,this),e)}},$r.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ga(10),_o(this),Vo(this))},$r.ab=function(){null!=this.v&&(this.v=null,_o(this),Fo(this),Ga(19))},$r.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Ga(2)):(this.h.info("Failed to ping google.com"),Ga(1))},($r=Qo.prototype).xa=function(){},$r.wa=function(){},$r.va=function(){},$r.ua=function(){},$r.Oa=function(){},Yo.prototype.g=function(e,t){return new Jo(e,t)},fi(Jo,ga),Jo.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Ia(hi(e.hb,e,t))),Ga(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Go(e,null,e.W),Po(e)},Jo.prototype.close=function(){Ro(this.g)},Jo.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,Oo(this.g,t)}else this.v?((t={}).__data__=wa(e),Oo(this.g,t)):Oo(this.g,e)},Jo.prototype.M=function(){this.g.j=null,delete this.j,Ro(this.g),delete this.g,Jo.Z.M.call(this)},fi(Xo,ns),fi(Zo,rs),fi($o,Qo),$o.prototype.xa=function(){va(this.g,"a")},$o.prototype.wa=function(e){va(this.g,new Xo(e))},$o.prototype.va=function(e){va(this.g,new Zo(e))},$o.prototype.ua=function(){va(this.g,"b")},Yo.prototype.createWebChannel=Yo.prototype.g,Jo.prototype.send=Jo.prototype.u,Jo.prototype.open=Jo.prototype.m,Jo.prototype.close=Jo.prototype.close,Ya.NO_ERROR=0,Ya.TIMEOUT=8,Ya.HTTP_ERROR=6,Ja.COMPLETE="complete",$a.EventType=ts,ts.OPEN="a",ts.CLOSE="b",ts.ERROR="c",ts.MESSAGE="d",ga.prototype.listen=ga.prototype.N,po.prototype.listenOnce=po.prototype.O,po.prototype.getLastError=po.prototype.La,po.prototype.getLastErrorCode=po.prototype.Da,po.prototype.getStatus=po.prototype.ba,po.prototype.getResponseJson=po.prototype.Qa,po.prototype.getResponseText=po.prototype.ga,po.prototype.send=po.prototype.ea;var el=ti.createWebChannelTransport=function(){return new Yo},tl=ti.getStatEventTarget=function(){return za()},nl=ti.ErrorCode=Ya,rl=ti.EventType=Ja,il=ti.Event=Va,al=ti.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},sl=ti.FetchXmlHttpFactory=so,ol=ti.WebChannel=$a,ll=ti.XhrIo=po;const ul="@firebase/firestore";class cl{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cl.UNAUTHENTICATED=new cl(null),cl.GOOGLE_CREDENTIALS=new cl("google-credentials-uid"),cl.FIRST_PARTY=new cl("first-party-uid"),cl.MOCK_USER=new cl("mock-user");let hl="9.6.11";const dl=new it("@firebase/firestore");function fl(){return dl.logLevel}function pl(e,...t){if(dl.logLevel<=Ze.DEBUG){const n=t.map(vl);dl.debug(`Firestore (${hl}): ${e}`,...n)}}function ml(e,...t){if(dl.logLevel<=Ze.ERROR){const n=t.map(vl);dl.error(`Firestore (${hl}): ${e}`,...n)}}function gl(e,...t){if(dl.logLevel<=Ze.WARN){const n=t.map(vl);dl.warn(`Firestore (${hl}): ${e}`,...n)}}function vl(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function yl(e="Unexpected state"){const t=`FIRESTORE (${hl}) INTERNAL ASSERTION FAILED: `+e;throw ml(t),new Error(t)}function wl(e,t){e||yl()}function bl(e,t){return e}const Al={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class El extends Re{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class kl{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Sl{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Il{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(cl.UNAUTHENTICATED)))}shutdown(){}}class Tl{constructor(e){this.t=e,this.currentUser=cl.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new kl;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new kl,e.enqueueRetryable((()=>r(this.currentUser)))};const a=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{pl("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(pl("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new kl)}}),0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(pl("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(wl("string"==typeof t.accessToken),new Sl(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return wl(null===e||"string"==typeof e),new cl(e)}}class Cl{constructor(e,t,n){this.type="FirstParty",this.user=cl.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),n&&this.headers.set("X-Goog-Iam-Authorization-Token",n)}}class Nl{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Cl(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(cl.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Rl{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _l{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const n=e=>{null!=e.error&&pl("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.p;return this.p=e.token,pl("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{pl("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.g.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.g.getImmediate({optional:!0});e?r(e):pl("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(wl("string"==typeof e.token),this.p=e.token,new Rl(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class xl{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.I(e),this.T=e=>t.writeSequenceNumber(e))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Ol(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}xl.A=-1;class Pl{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=Ol(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function Dl(e,t){return e<t?-1:e>t?1:0}function Ll(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Ml{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new El(Al.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new El(Al.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new El(Al.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new El(Al.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ml.fromMillis(Date.now())}static fromDate(e){return Ml.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Ml(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Dl(this.nanoseconds,e.nanoseconds):Dl(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ul{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ul(e)}static min(){return new Ul(new Ml(0,0))}static max(){return new Ul(new Ml(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Fl(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Bl(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Vl(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class jl{constructor(e,t,n){void 0===t?t=0:t>e.length&&yl(),void 0===n?n=e.length-t:n>e.length-t&&yl(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===jl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof jl?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class zl extends jl{construct(e,t,n){return new zl(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new El(Al.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new zl(t)}static emptyPath(){return new zl([])}}const ql=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Hl extends jl{construct(e,t,n){return new Hl(e,t,n)}static isValidIdentifier(e){return ql.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Hl.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Hl(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new El(Al.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let a=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new El(Al.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new El(Al.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(a=!a,r++):"."!==t||a?(n+=t,r++):(i(),r++)}if(i(),a)throw new El(Al.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Hl(t)}static emptyPath(){return new Hl([])}}class Kl{constructor(e){this.fields=e,e.sort(Hl.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ll(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Gl{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Gl(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Gl(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Dl(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gl.EMPTY_BYTE_STRING=new Gl("");const Wl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ql(e){if(wl(!!e),"string"==typeof e){let t=0;const n=Wl.exec(e);if(wl(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Yl(e.seconds),nanos:Yl(e.nanos)}}function Yl(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Jl(e){return"string"==typeof e?Gl.fromBase64String(e):Gl.fromUint8Array(e)}function Xl(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Zl(e){const t=e.mapValue.fields.__previous_value__;return Xl(t)?Zl(t):t}function $l(e){const t=Ql(e.mapValue.fields.__local_write_time__.timestampValue);return new Ml(t.seconds,t.nanos)}class eu{constructor(e,t,n,r,i,a,s,o){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.useFetchStreams=o}}class tu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new tu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof tu&&e.projectId===this.projectId&&e.database===this.database}}function nu(e){return null==e}function ru(e){return 0===e&&1/e==-1/0}class iu{constructor(e){this.path=e}static fromPath(e){return new iu(zl.fromString(e))}static fromName(e){return new iu(zl.fromString(e).popFirst(5))}static empty(){return new iu(zl.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===zl.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return zl.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new iu(new zl(e.slice()))}}function au(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Xl(e)?4:wu(e)?9:10:yl()}function su(e,t){if(e===t)return!0;const n=au(e);if(n!==au(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return $l(e).isEqual($l(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Ql(e.timestampValue),r=Ql(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Jl(e.bytesValue).isEqual(Jl(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Yl(e.geoPointValue.latitude)===Yl(t.geoPointValue.latitude)&&Yl(e.geoPointValue.longitude)===Yl(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Yl(e.integerValue)===Yl(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Yl(e.doubleValue),r=Yl(t.doubleValue);return n===r?ru(n)===ru(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ll(e.arrayValue.values||[],t.arrayValue.values||[],su);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Fl(n)!==Fl(r))return!1;for(const e in n)if(n.hasOwnProperty(e)&&(void 0===r[e]||!su(n[e],r[e])))return!1;return!0}(e,t);default:return yl()}}function ou(e,t){return void 0!==(e.values||[]).find((e=>su(e,t)))}function lu(e,t){if(e===t)return 0;const n=au(e),r=au(t);if(n!==r)return Dl(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Dl(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Yl(e.integerValue||e.doubleValue),r=Yl(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return uu(e.timestampValue,t.timestampValue);case 4:return uu($l(e),$l(t));case 5:return Dl(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Jl(e),r=Jl(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){const t=Dl(n[e],r[e]);if(0!==t)return t}return Dl(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Dl(Yl(e.latitude),Yl(t.latitude));return 0!==n?n:Dl(Yl(e.longitude),Yl(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){const t=lu(n[e],r[e]);if(t)return t}return Dl(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let e=0;e<r.length&&e<a.length;++e){const t=Dl(r[e],a[e]);if(0!==t)return t;const s=lu(n[r[e]],i[a[e]]);if(0!==s)return s}return Dl(r.length,a.length)}(e.mapValue,t.mapValue);default:throw yl()}}function uu(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Dl(e,t);const n=Ql(e),r=Ql(t),i=Dl(n.seconds,r.seconds);return 0!==i?i:Dl(n.nanos,r.nanos)}function cu(e){return hu(e)}function hu(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Ql(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Jl(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,iu.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=hu(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${hu(e.fields[i])}`;return n+"}"}(e.mapValue):yl();var t,n}function du(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function fu(e){return!!e&&"integerValue"in e}function pu(e){return!!e&&"arrayValue"in e}function mu(e){return!!e&&"nullValue"in e}function gu(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function vu(e){return!!e&&"mapValue"in e}function yu(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Bl(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=yu(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=yu(e.arrayValue.values[n]);return t}return Object.assign({},e)}function wu(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class bu{constructor(e){this.value=e}static empty(){return new bu({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!vu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=yu(t)}setAll(e){let t=Hl.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=yu(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());vu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return su(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];vu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Bl(t,((t,n)=>e[t]=n));for(const t of n)delete e[t]}clone(){return new bu(yu(this.value))}}function Au(e){const t=[];return Bl(e.fields,((e,n)=>{const r=new Hl([e]);if(vu(n)){const e=Au(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Kl(t)}class Eu{constructor(e,t,n,r,i,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.data=i,this.documentState=a}static newInvalidDocument(e){return new Eu(e,0,Ul.min(),Ul.min(),bu.empty(),0)}static newFoundDocument(e,t,n){return new Eu(e,1,t,Ul.min(),n,0)}static newNoDocument(e,t){return new Eu(e,2,t,Ul.min(),bu.empty(),0)}static newUnknownDocument(e,t){return new Eu(e,3,t,Ul.min(),bu.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bu.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bu.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Eu&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Eu(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}function ku(e){return new Su(e.readTime,e.key,-1)}class Su{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Su(Ul.min(),iu.empty(),-1)}static max(){return new Su(Ul.max(),iu.empty(),-1)}}function Iu(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=iu.comparator(e.documentKey,t.documentKey),0!==n?n:Dl(e.largestBatchId,t.largestBatchId))}class Tu{constructor(e,t=null,n=[],r=[],i=null,a=null,s=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=s,this.P=null}}function Cu(e,t=null,n=[],r=[],i=null,a=null,s=null){return new Tu(e,t,n,r,i,a,s)}function Nu(e){const t=bl(e);if(null===t.P){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>{return(t=e).field.canonicalString()+t.op.toString()+cu(t.value);var t})).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),nu(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>cu(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>cu(e))).join(",")),t.P=e}return t.P}function Ru(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!zu(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if(n=e.filters[i],r=t.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!su(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Hu(e.startAt,t.startAt)&&Hu(e.endAt,t.endAt)}function _u(e){return iu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class xu extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,n):new Ou(e,t,n):"array-contains"===t?new Mu(e,n):"in"===t?new Uu(e,n):"not-in"===t?new Fu(e,n):"array-contains-any"===t?new Bu(e,n):new xu(e,t,n)}static V(e,t,n){return"in"===t?new Pu(e,n):new Du(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(lu(t,this.value)):null!==t&&au(this.value)===au(t)&&this.v(lu(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return yl()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Ou extends xu{constructor(e,t,n){super(e,t,n),this.key=iu.fromName(n.referenceValue)}matches(e){const t=iu.comparator(e.key,this.key);return this.v(t)}}class Pu extends xu{constructor(e,t){super(e,"in",t),this.keys=Lu(0,t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Du extends xu{constructor(e,t){super(e,"not-in",t),this.keys=Lu(0,t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Lu(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>iu.fromName(e.referenceValue)))}class Mu extends xu{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return pu(t)&&ou(t.arrayValue,this.value)}}class Uu extends xu{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ou(this.value.arrayValue,t)}}class Fu extends xu{constructor(e,t){super(e,"not-in",t)}matches(e){if(ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ou(this.value.arrayValue,t)}}class Bu extends xu{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!pu(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>ou(this.value.arrayValue,e)))}}class Vu{constructor(e,t){this.position=e,this.inclusive=t}}class ju{constructor(e,t="asc"){this.field=e,this.dir=t}}function zu(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function qu(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const a=t[i],s=e.position[i];if(r=a.field.isKeyField()?iu.comparator(iu.fromName(s.referenceValue),n.key):lu(s,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Hu(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!su(e.position[n],t.position[n]))return!1;return!0}class Ku{constructor(e,t=null,n=[],r=[],i=null,a="F",s=null,o=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=s,this.endAt=o,this.D=null,this.C=null,this.startAt,this.endAt}}function Gu(e){return new Ku(e)}function Wu(e){return!nu(e.limit)&&"F"===e.limitType}function Qu(e){return!nu(e.limit)&&"L"===e.limitType}function Yu(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Ju(e){for(const t of e.filters)if(t.S())return t.field;return null}function Xu(e){return null!==e.collectionGroup}function Zu(e){const t=bl(e);if(null===t.D){t.D=[];const e=Ju(t),n=Yu(t);if(null!==e&&null===n)e.isKeyField()||t.D.push(new ju(e)),t.D.push(new ju(Hl.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.D.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new ju(Hl.keyField(),e))}}}return t.D}function $u(e){const t=bl(e);if(!t.C)if("F"===t.limitType)t.C=Cu(t.path,t.collectionGroup,Zu(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const n of Zu(t)){const t="desc"===n.dir?"asc":"desc";e.push(new ju(n.field,t))}const n=t.endAt?new Vu(t.endAt.position,!t.endAt.inclusive):null,r=t.startAt?new Vu(t.startAt.position,!t.startAt.inclusive):null;t.C=Cu(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.C}function ec(e,t){return Ru($u(e),$u(t))&&e.limitType===t.limitType}function tc(e){return`${Nu($u(e))}|lt:${e.limitType}`}function nc(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>{return`${(t=e).field.canonicalString()} ${t.op} ${cu(t.value)}`;var t})).join(", ")}]`),nu(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>cu(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>cu(e))).join(",")),`Target(${t})`}($u(e))}; limitType=${e.limitType})`}function rc(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):iu.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=qu(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Zu(e),t)||e.endAt&&!function(e,t,n){const r=qu(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Zu(e),t))}(e,t)}function ic(e){return(t,n)=>{let r=!1;for(const i of Zu(e)){const e=ac(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function ac(e,t,n){const r=e.field.isKeyField()?iu.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?lu(r,i):yl()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return yl()}}function sc(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ru(t)?"-0":t}}function oc(e){return{integerValue:""+e}}function lc(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!ru(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}(t)?oc(t):sc(e,t)}class uc{constructor(){this._=void 0}}function cc(e,t,n){return e instanceof fc?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof pc?mc(e,t):e instanceof gc?vc(e,t):function(e,t){const n=dc(e,t),r=wc(n)+wc(e.k);return fu(n)&&fu(e.k)?oc(r):sc(e.M,r)}(e,t)}function hc(e,t,n){return e instanceof pc?mc(e,t):e instanceof gc?vc(e,t):n}function dc(e,t){return e instanceof yc?fu(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class fc extends uc{}class pc extends uc{constructor(e){super(),this.elements=e}}function mc(e,t){const n=bc(t);for(const t of e.elements)n.some((e=>su(e,t)))||n.push(t);return{arrayValue:{values:n}}}class gc extends uc{constructor(e){super(),this.elements=e}}function vc(e,t){let n=bc(t);for(const t of e.elements)n=n.filter((e=>!su(e,t)));return{arrayValue:{values:n}}}class yc extends uc{constructor(e,t){super(),this.M=e,this.k=t}}function wc(e){return Yl(e.integerValue||e.doubleValue)}function bc(e){return pu(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Ac{constructor(e,t){this.field=e,this.transform=t}}class Ec{constructor(e,t){this.version=e,this.transformResults=t}}class kc{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new kc}static exists(e){return new kc(void 0,e)}static updateTime(e){return new kc(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sc(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Ic{}function Tc(e,t,n){e instanceof xc?function(e,t,n){const r=e.value.clone(),i=Dc(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Oc?function(e,t,n){if(!Sc(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Dc(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Pc(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Cc(e,t,n){e instanceof xc?function(e,t,n){if(!Sc(e.precondition,t))return;const r=e.value.clone(),i=Lc(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(_c(t),r).setHasLocalMutations()}(e,t,n):e instanceof Oc?function(e,t,n){if(!Sc(e.precondition,t))return;const r=Lc(e.fieldTransforms,n,t),i=t.data;i.setAll(Pc(e)),i.setAll(r),t.convertToFoundDocument(_c(t),i).setHasLocalMutations()}(e,t,n):function(e,t){Sc(e.precondition,t)&&t.convertToNoDocument(Ul.min())}(e,t)}function Nc(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=dc(r.transform,e||null);null!=i&&(null==n&&(n=bu.empty()),n.set(r.field,i))}return n||null}function Rc(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ll(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof pc&&t instanceof pc||e instanceof gc&&t instanceof gc?Ll(e.elements,t.elements,su):e instanceof yc&&t instanceof yc?su(e.k,t.k):e instanceof fc&&t instanceof fc}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function _c(e){return e.isFoundDocument()?e.version:Ul.min()}class xc extends Ic{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}}class Oc extends Ic{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function Pc(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Dc(e,t,n){const r=new Map;wl(e.length===n.length);for(let i=0;i<n.length;i++){const a=e[i],s=a.transform,o=t.data.field(a.field);r.set(a.field,hc(s,o,n[i]))}return r}function Lc(e,t,n){const r=new Map;for(const i of e){const e=i.transform,a=n.data.field(i.field);r.set(i.field,cc(e,a,t))}return r}class Mc extends Ic{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Uc extends Ic{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class Fc{constructor(e){this.count=e}}var Bc,Vc;function jc(e){if(void 0===e)return ml("GRPC error has no .code"),Al.UNKNOWN;switch(e){case Bc.OK:return Al.OK;case Bc.CANCELLED:return Al.CANCELLED;case Bc.UNKNOWN:return Al.UNKNOWN;case Bc.DEADLINE_EXCEEDED:return Al.DEADLINE_EXCEEDED;case Bc.RESOURCE_EXHAUSTED:return Al.RESOURCE_EXHAUSTED;case Bc.INTERNAL:return Al.INTERNAL;case Bc.UNAVAILABLE:return Al.UNAVAILABLE;case Bc.UNAUTHENTICATED:return Al.UNAUTHENTICATED;case Bc.INVALID_ARGUMENT:return Al.INVALID_ARGUMENT;case Bc.NOT_FOUND:return Al.NOT_FOUND;case Bc.ALREADY_EXISTS:return Al.ALREADY_EXISTS;case Bc.PERMISSION_DENIED:return Al.PERMISSION_DENIED;case Bc.FAILED_PRECONDITION:return Al.FAILED_PRECONDITION;case Bc.ABORTED:return Al.ABORTED;case Bc.OUT_OF_RANGE:return Al.OUT_OF_RANGE;case Bc.UNIMPLEMENTED:return Al.UNIMPLEMENTED;case Bc.DATA_LOSS:return Al.DATA_LOSS;default:return yl()}}(Vc=Bc||(Bc={}))[Vc.OK=0]="OK",Vc[Vc.CANCELLED=1]="CANCELLED",Vc[Vc.UNKNOWN=2]="UNKNOWN",Vc[Vc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Vc[Vc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Vc[Vc.NOT_FOUND=5]="NOT_FOUND",Vc[Vc.ALREADY_EXISTS=6]="ALREADY_EXISTS",Vc[Vc.PERMISSION_DENIED=7]="PERMISSION_DENIED",Vc[Vc.UNAUTHENTICATED=16]="UNAUTHENTICATED",Vc[Vc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Vc[Vc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Vc[Vc.ABORTED=10]="ABORTED",Vc[Vc.OUT_OF_RANGE=11]="OUT_OF_RANGE",Vc[Vc.UNIMPLEMENTED=12]="UNIMPLEMENTED",Vc[Vc.INTERNAL=13]="INTERNAL",Vc[Vc.UNAVAILABLE=14]="UNAVAILABLE",Vc[Vc.DATA_LOSS=15]="DATA_LOSS";class zc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[t,r]of n)if(this.equalsFn(t,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Bl(this.inner,((t,n)=>{for(const[t,r]of n)e(t,r)}))}isEmpty(){return Vl(this.inner)}size(){return this.innerSize}}class qc{constructor(e,t){this.comparator=e,this.root=t||Kc.EMPTY}insert(e,t){return new qc(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Kc.BLACK,null,null))}remove(e){return new qc(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kc.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hc(this.root,e,this.comparator,!0)}}class Hc{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kc{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Kc.RED,this.left=null!=r?r:Kc.EMPTY,this.right=null!=i?i:Kc.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Kc(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Kc.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Kc.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kc.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kc.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yl();if(this.right.isRed())throw yl();const e=this.left.check();if(e!==this.right.check())throw yl();return e+(this.isRed()?0:1)}}Kc.EMPTY=null,Kc.RED=!0,Kc.BLACK=!1,Kc.EMPTY=new class{constructor(){this.size=0}get key(){throw yl()}get value(){throw yl()}get color(){throw yl()}get left(){throw yl()}get right(){throw yl()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Kc(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gc{constructor(e){this.comparator=e,this.data=new qc(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Wc(this.data.getIterator())}getIteratorFrom(e){return new Wc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Gc))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Gc(this.comparator);return t.data=e,t}}class Wc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Qc=new qc(iu.comparator);function Yc(){return Qc}const Jc=new qc(iu.comparator);function Xc(){return Jc}function Zc(){return new zc((e=>e.toString()),((e,t)=>e.isEqual(t)))}const $c=new qc(iu.comparator),eh=new Gc(iu.comparator);function th(...e){let t=eh;for(const n of e)t=t.add(n);return t}const nh=new Gc(Dl);function rh(){return nh}class ih{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,ah.createSynthesizedTargetChangeForCurrentChange(e,t)),new ih(Ul.min(),n,rh(),Yc(),th())}}class ah{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new ah(Gl.EMPTY_BYTE_STRING,t,th(),th(),th())}}class sh{constructor(e,t,n,r){this.O=e,this.removedTargetIds=t,this.key=n,this.F=r}}class oh{constructor(e,t){this.targetId=e,this.$=t}}class lh{constructor(e,t,n=Gl.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class uh{constructor(){this.B=0,this.L=dh(),this.U=Gl.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=th(),t=th(),n=th();return this.L.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:yl()}})),new ah(this.U,this.q,e,t,n)}J(){this.K=!1,this.L=dh()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class ch{constructor(e){this.nt=e,this.st=new Map,this.it=Yc(),this.rt=hh(),this.ot=new Gc(Dl)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,(t=>{const n=this.lt(t);switch(e.state){case 0:this.ft(t)&&n.W(e.resumeToken);break;case 1:n.tt(),n.G||n.J(),n.W(e.resumeToken);break;case 2:n.tt(),n.G||this.removeTarget(t);break;case 3:this.ft(t)&&(n.et(),n.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),n.W(e.resumeToken));break;default:yl()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach(((e,n)=>{this.ft(n)&&t(n)}))}_t(e){const t=e.targetId,n=e.$.count,r=this.wt(t);if(r){const e=r.target;if(_u(e))if(0===n){const n=new iu(e.path);this.ct(t,n,Eu.newNoDocument(n,Ul.min()))}else wl(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach(((n,r)=>{const i=this.wt(r);if(i){if(n.current&&_u(i.target)){const t=new iu(i.target.path);null!==this.it.get(t)||this.It(r,t)||this.ct(r,t,Eu.newNoDocument(t,e))}n.j&&(t.set(r,n.H()),n.J())}}));let n=th();this.rt.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.wt(e);return!t||2===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.it.forEach(((t,n)=>n.setReadTime(e)));const r=new ih(e,t,this.ot,this.it,n);return this.it=Yc(),this.rt=hh(),this.ot=new Gc(Dl),r}at(e,t){if(!this.ft(e))return;const n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,n){if(!this.ft(e))return;const r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new uh,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Gc(Dl),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||pl("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new uh),this.nt.getRemoteKeysForTarget(e).forEach((t=>{this.ct(e,t,null)}))}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function hh(){return new qc(iu.comparator)}function dh(){return new qc(iu.comparator)}const fh={asc:"ASCENDING",desc:"DESCENDING"},ph={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class mh{constructor(e,t){this.databaseId=e,this.N=t}}function gh(e,t){return e.N?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function vh(e,t){return e.N?t.toBase64():t.toUint8Array()}function yh(e,t){return gh(e,t.toTimestamp())}function wh(e){return wl(!!e),Ul.fromTimestamp(function(e){const t=Ql(e);return new Ml(t.seconds,t.nanos)}(e))}function bh(e,t){return function(e){return new zl(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Ah(e){const t=zl.fromString(e);return wl(Bh(t)),t}function Eh(e,t){return bh(e.databaseId,t.path)}function kh(e,t){const n=Ah(t);if(n.get(1)!==e.databaseId.projectId)throw new El(Al.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new El(Al.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new iu(Th(n))}function Sh(e,t){return bh(e.databaseId,t)}function Ih(e){return new zl(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Th(e){return wl(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Ch(e,t,n){return{name:Eh(e,t),fields:n.value.mapValue.fields}}function Nh(e,t){return{documents:[Sh(e,t.path)]}}function Rh(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Sh(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Sh(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0===e.length)return;const t=e.map((e=>function(e){if("=="===e.op){if(gu(e.value))return{unaryFilter:{field:Dh(e.field),op:"IS_NAN"}};if(mu(e.value))return{unaryFilter:{field:Dh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(gu(e.value))return{unaryFilter:{field:Dh(e.field),op:"IS_NOT_NAN"}};if(mu(e.value))return{unaryFilter:{field:Dh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dh(e.field),op:Ph(e.op),value:e.value}}}(e)));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);i&&(n.structuredQuery.where=i);const a=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Dh(e.field),direction:Oh(e.dir)}}(e)))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const s=function(e,t){return e.N||nu(t)?t:{value:t}}(e,t.limit);var o;return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function _h(e){let t=function(e){const t=Ah(e);return 4===t.length?zl.emptyPath():Th(t)}(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){wl(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=xh(n.where));let s=[];n.orderBy&&(s=n.orderBy.map((e=>function(e){return new ju(Lh(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,nu(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Vu(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new Vu(n,t)}(n.endAt)),function(e,t,n,r,i,a,s,o){return new Ku(e,t,n,r,i,a,s,o)}(t,i,s,a,o,"F",l,u)}function xh(e){return e?void 0!==e.unaryFilter?[Uh(e)]:void 0!==e.fieldFilter?[Mh(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((e=>xh(e))).reduce(((e,t)=>e.concat(t))):yl():[]}function Oh(e){return fh[e]}function Ph(e){return ph[e]}function Dh(e){return{fieldPath:e.canonicalString()}}function Lh(e){return Hl.fromServerFormat(e.fieldPath)}function Mh(e){return xu.create(Lh(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yl()}}(e.fieldFilter.op),e.fieldFilter.value)}function Uh(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Lh(e.unaryFilter.field);return xu.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Lh(e.unaryFilter.field);return xu.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Lh(e.unaryFilter.field);return xu.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Lh(e.unaryFilter.field);return xu.create(i,"!=",{nullValue:"NULL_VALUE"});default:return yl()}}function Fh(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Bh(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Vh{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&yl(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Vh(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Vh?t:Vh.resolve(t)}catch(e){return Vh.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Vh.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Vh.reject(t)}static resolve(e){return new Vh(((t,n)=>{t(e)}))}static reject(e){return new Vh(((t,n)=>{n(e)}))}static waitFor(e){return new Vh(((t,n)=>{let r=0,i=0,a=!1;e.forEach((e=>{++r,e.next((()=>{++i,a&&i===r&&t()}),(e=>n(e)))})),a=!0,i===r&&t()}))}static or(e){let t=Vh.resolve(!1);for(const n of e)t=t.next((e=>e?Vh.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}}function jh(e){return"IndexedDbTransactionError"===e.name}class zh{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const r=this.mutations[t];r.key.isEqual(e.key)&&Tc(r,e,n[t])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Cc(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Cc(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach((t=>{const n=e.get(t.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(Ul.min())}))}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),th())}isEqual(e){return this.batchId===e.batchId&&Ll(this.mutations,e.mutations,((e,t)=>Rc(e,t)))&&Ll(this.baseMutations,e.baseMutations,((e,t)=>Rc(e,t)))}}class qh{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){wl(e.mutations.length===n.length);let r=$c;const i=e.mutations;for(let e=0;e<i.length;e++)r=r.insert(i[e].key,n[e].version);return new qh(e,t,n,r)}}class Hh{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Kh{constructor(e,t,n,r,i=Ul.min(),a=Ul.min(),s=Gl.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s}withSequenceNumber(e){return new Kh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Kh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Kh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Gh{constructor(e){this.Jt=e}}function Wh(e){const t=_h({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?function(e,t,n){return new Ku(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}(t,t.limit,"L"):t}class Qh{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Yl(e.integerValue));else if("doubleValue"in e){const n=Yl(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),ru(n)?t.se(0):t.se(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ne(t,20),"string"==typeof n?t.ie(n):(t.ie(`${n.seconds||""}`),t.se(n.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Jl(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ne(t,45),t.se(n.latitude||0),t.se(n.longitude||0)}else"mapValue"in e?wu(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):yl()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const n=e.fields||{};this.ne(t,55);for(const e of Object.keys(n))this.re(e,t),this.te(n[e],t)}he(e,t){const n=e.values||[];this.ne(t,50);for(const e of n)this.te(e,t)}ae(e,t){this.ne(t,37),iu.fromName(e).path.forEach((e=>{this.ne(t,60),this.le(e,t)}))}ne(e,t){e.se(t)}oe(e){e.se(2)}}Qh.fe=new Qh;class Yh{constructor(){this.qe=new Jh}addToCollectionParentIndex(e,t){return this.qe.add(t),Vh.resolve()}getCollectionParents(e,t){return Vh.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return Vh.resolve()}deleteFieldIndex(e,t){return Vh.resolve()}getDocumentsMatchingTarget(e,t){return Vh.resolve(null)}getFieldIndex(e,t){return Vh.resolve(null)}getFieldIndexes(e,t){return Vh.resolve([])}getNextCollectionGroupToUpdate(e){return Vh.resolve(null)}updateCollectionGroup(e,t,n){return Vh.resolve()}updateIndexEntries(e,t){return Vh.resolve()}}class Jh{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Gc(zl.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Gc(zl.comparator)).toArray()}}new Uint8Array(0);class Xh{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Xh(e,Xh.DEFAULT_COLLECTION_PERCENTILE,Xh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Xh.DEFAULT_COLLECTION_PERCENTILE=10,Xh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xh.DEFAULT=new Xh(41943040,Xh.DEFAULT_COLLECTION_PERCENTILE,Xh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xh.DISABLED=new Xh(-1,0,0);class Zh{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new Zh(0)}static yn(){return new Zh(-1)}}async function $h(e){if(e.code!==Al.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==e.message)throw e;pl("LocalStore","Unexpectedly lost primary lease")}class ed{constructor(e,t,n){this.ds=e,this.Bs=t,this.indexManager=n}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next((n=>this.Us(e,t,n)))}Us(e,t,n){return this.ds.getEntry(e,t).next((e=>{for(const t of n)t.applyToLocalView(e);return e}))}qs(e,t){e.forEach(((e,n)=>{for(const e of t)e.applyToLocalView(n)}))}Ks(e,t){return this.ds.getEntries(e,t).next((t=>this.Gs(e,t).next((()=>t))))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>this.qs(t,e)))}Qs(e,t,n){return function(e){return iu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.js(e,t.path):Xu(t)?this.Ws(e,t,n):this.zs(e,t,n)}js(e,t){return this.Ls(e,new iu(t)).next((e=>{let t=Xc();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}Ws(e,t,n){const r=t.collectionGroup;let i=Xc();return this.indexManager.getCollectionParents(e,r).next((a=>Vh.forEach(a,(a=>{const s=function(e,t){return new Ku(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(r));return this.zs(e,s,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}zs(e,t,n){let r;return this.ds.getAllFromCollection(e,t.path,n).next((n=>(r=n,this.Bs.getAllMutationBatchesAffectingQuery(e,t)))).next((e=>{for(const t of e)for(const e of t.mutations){const n=e.key;let i=r.get(n);null==i&&(i=Eu.newInvalidDocument(n),r=r.insert(n,i)),Cc(e,i,t.localWriteTime),i.isFoundDocument()||(r=r.remove(n))}})).next((()=>(r.forEach(((e,n)=>{rc(t,n)||(r=r.remove(e))})),r)))}}class td{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Hs=n,this.Js=r}static Ys(e,t){let n=th(),r=th();for(const e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new td(e,t.fromCache,n,r)}}class nd{Xs(e){this.Zs=e}Qs(e,t,n,r){return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Ul.min())?this.ti(e,t):this.Zs.Ks(e,r).next((i=>{const a=this.ei(t,i);return(Wu(t)||Qu(t))&&this.ni(t.limitType,a,r,n)?this.ti(e,t):(fl()<=Ze.DEBUG&&pl("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),nc(t)),this.Zs.Qs(e,t,function(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Ul.fromTimestamp(1e9===r?new Ml(n+1,0):new Ml(n,r));return new Su(i,iu.empty(),t)}(n,-1)).next((e=>(a.forEach((t=>{e=e.insert(t.key,t)})),e))))}))}ei(e,t){let n=new Gc(ic(e));return t.forEach(((t,r)=>{rc(e,r)&&(n=n.add(r))})),n}ni(e,t,n,r){if(n.size!==t.size)return!0;const i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}ti(e,t){return fl()<=Ze.DEBUG&&pl("QueryEngine","Using full collection scan to execute query:",nc(t)),this.Zs.Qs(e,t,Su.min())}}class rd{constructor(e,t,n,r){this.persistence=e,this.si=t,this.M=r,this.ii=new qc(Dl),this.ri=new zc((e=>Nu(e)),Ru),this.oi=new Map,this.ui=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.ai(n)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new ed(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ii)))}}async function id(e,t){const n=bl(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.Bs.getAllMutationBatches(e).next((i=>(r=i,n.ai(t),n.Bs.getAllMutationBatches(e)))).next((t=>{const i=[],a=[];let s=th();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){a.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.ci.Ks(e,s).next((e=>({hi:e,removedBatchIds:i,addedBatchIds:a})))}))}))}function ad(e){const t=bl(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.fs.getLastRemoteSnapshotVersion(e)))}function sd(e,t){const n=bl(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.Bs.getNextMutationBatchAfterBatchId(e,t))))}async function od(e,t,n){const r=bl(e),i=r.ii.get(t),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!jh(e))throw e;pl("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.ii=r.ii.remove(t),r.ri.delete(i.target)}function ld(e,t,n){const r=bl(e);let i=Ul.min(),a=th();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=bl(e),i=r.ri.get(n);return void 0!==i?Vh.resolve(r.ii.get(i)):r.fs.getTargetData(t,n)}(r,e,$u(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(e,t.targetId).next((e=>{a=e}))})).next((()=>r.si.Qs(e,t,n?i:Ul.min(),n?a:th()))).next((e=>(function(e,t,n){let r=Ul.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.oi.set(t,r)}(r,function(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}(t),e),{documents:e,li:a})))))}class ud{constructor(e){this.M=e,this.wi=new Map,this.mi=new Map}getBundleMetadata(e,t){return Vh.resolve(this.wi.get(t))}saveBundleMetadata(e,t){var n;return this.wi.set(t.id,{id:(n=t).id,version:n.version,createTime:wh(n.createTime)}),Vh.resolve()}getNamedQuery(e,t){return Vh.resolve(this.mi.get(t))}saveNamedQuery(e,t){return this.mi.set(t.name,function(e){return{name:e.name,query:Wh(e.bundledQuery),readTime:wh(e.readTime)}}(t)),Vh.resolve()}}class cd{constructor(){this.overlays=new qc(iu.comparator),this.gi=new Map}getOverlay(e,t){return Vh.resolve(this.overlays.get(t))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.Xt(e,t,r)})),Vh.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.gi.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.gi.delete(n)),Vh.resolve()}getOverlaysForCollection(e,t,n){const r=Zc(),i=t.length+1,a=new iu(t.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const e=s.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Vh.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new qc(((e,t)=>e-t));const a=this.overlays.getIterator();for(;a.hasNext();){const e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Zc(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=Zc(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return Vh.resolve(s)}Xt(e,t,n){if(null===n)return;const r=this.overlays.get(n.key);if(null!==r){const e=this.gi.get(r.largestBatchId).delete(n.key);this.gi.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Hh(t,n));let i=this.gi.get(t);void 0===i&&(i=th(),this.gi.set(t,i)),this.gi.set(t,i.add(n.key))}}class hd{constructor(){this.yi=new Gc(dd.pi),this.Ii=new Gc(dd.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(e,t){const n=new dd(e,t);this.yi=this.yi.add(n),this.Ii=this.Ii.add(n)}Ei(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ai(new dd(e,t))}Ri(e,t){e.forEach((e=>this.removeReference(e,t)))}Pi(e){const t=new iu(new zl([])),n=new dd(t,e),r=new dd(t,e+1),i=[];return this.Ii.forEachInRange([n,r],(e=>{this.Ai(e),i.push(e.key)})),i}bi(){this.yi.forEach((e=>this.Ai(e)))}Ai(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}Vi(e){const t=new iu(new zl([])),n=new dd(t,e),r=new dd(t,e+1);let i=th();return this.Ii.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new dd(e,0),n=this.yi.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class dd{constructor(e,t){this.key=e,this.vi=t}static pi(e,t){return iu.comparator(e.key,t.key)||Dl(e.vi,t.vi)}static Ti(e,t){return Dl(e.vi,t.vi)||iu.comparator(e.key,t.key)}}class fd{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.Si=1,this.Di=new Gc(dd.pi)}checkEmpty(e){return Vh.resolve(0===this.Bs.length)}addMutationBatch(e,t,n,r){const i=this.Si;this.Si++,this.Bs.length>0&&this.Bs[this.Bs.length-1];const a=new zh(i,t,n,r);this.Bs.push(a);for(const t of r)this.Di=this.Di.add(new dd(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return Vh.resolve(a)}lookupMutationBatch(e,t){return Vh.resolve(this.Ci(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.xi(n),i=r<0?0:r;return Vh.resolve(this.Bs.length>i?this.Bs[i]:null)}getHighestUnacknowledgedBatchId(){return Vh.resolve(0===this.Bs.length?-1:this.Si-1)}getAllMutationBatches(e){return Vh.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new dd(t,0),r=new dd(t,Number.POSITIVE_INFINITY),i=[];return this.Di.forEachInRange([n,r],(e=>{const t=this.Ci(e.vi);i.push(t)})),Vh.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Gc(Dl);return t.forEach((e=>{const t=new dd(e,0),r=new dd(e,Number.POSITIVE_INFINITY);this.Di.forEachInRange([t,r],(e=>{n=n.add(e.vi)}))})),Vh.resolve(this.Ni(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;iu.isDocumentKey(i)||(i=i.child(""));const a=new dd(new iu(i),0);let s=new Gc(Dl);return this.Di.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.vi)),!0)}),a),Vh.resolve(this.Ni(s))}Ni(e){const t=[];return e.forEach((e=>{const n=this.Ci(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){wl(0===this.ki(t.batchId,"removed")),this.Bs.shift();let n=this.Di;return Vh.forEach(t.mutations,(r=>{const i=new dd(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Di=n}))}_n(e){}containsKey(e,t){const n=new dd(t,0),r=this.Di.firstAfterOrEqual(n);return Vh.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.Bs.length,Vh.resolve()}ki(e,t){return this.xi(e)}xi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}Ci(e){const t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class pd{constructor(e){this.Mi=e,this.docs=new qc(iu.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Mi(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Vh.resolve(n?n.document.mutableCopy():Eu.newInvalidDocument(t))}getEntries(e,t){let n=Yc();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Eu.newInvalidDocument(e))})),Vh.resolve(n)}getAllFromCollection(e,t,n){let r=Yc();const i=new iu(t.child("")),a=this.docs.getIteratorFrom(i);for(;a.hasNext();){const{key:e,value:{document:i}}=a.getNext();if(!t.isPrefixOf(e.path))break;e.path.length>t.length+1||Iu(ku(i),n)<=0||(r=r.insert(i.key,i.mutableCopy()))}return Vh.resolve(r)}getAllFromCollectionGroup(e,t,n,r){yl()}Oi(e,t){return Vh.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new md(this)}getSize(e){return Vh.resolve(this.size)}}class md extends class{constructor(){this.changes=new zc((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Eu.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Vh.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Kn.addEntry(e,r)):this.Kn.removeEntry(n)})),Vh.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class gd{constructor(e){this.persistence=e,this.Fi=new zc((e=>Nu(e)),Ru),this.lastRemoteSnapshotVersion=Ul.min(),this.highestTargetId=0,this.$i=0,this.Bi=new hd,this.targetCount=0,this.Li=Zh.gn()}forEachTarget(e,t){return this.Fi.forEach(((e,n)=>t(n))),Vh.resolve()}getLastRemoteSnapshotVersion(e){return Vh.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Vh.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Li.next(),Vh.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$i&&(this.$i=t),Vh.resolve()}Tn(e){this.Fi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Li=new Zh(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,Vh.resolve()}updateTargetData(e,t){return this.Tn(t),Vh.resolve()}removeTargetData(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,Vh.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Fi.forEach(((a,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Fi.delete(a),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),Vh.waitFor(i).next((()=>r))}getTargetCount(e){return Vh.resolve(this.targetCount)}getTargetData(e,t){const n=this.Fi.get(t)||null;return Vh.resolve(n)}addMatchingKeys(e,t,n){return this.Bi.Ei(t,n),Vh.resolve()}removeMatchingKeys(e,t,n){this.Bi.Ri(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Vh.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Bi.Pi(t),Vh.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Bi.Vi(t);return Vh.resolve(n)}containsKey(e,t){return Vh.resolve(this.Bi.containsKey(t))}}class vd{constructor(e,t){this.Ui={},this.overlays={},this.es=new xl(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new gd(this),this.indexManager=new Yh,this.ds=function(e){return new pd(e)}((e=>this.referenceDelegate.qi(e))),this.M=new Gh(t),this._s=new ud(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new cd,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Ui[e.toKey()];return n||(n=new fd(t,this.referenceDelegate),this.Ui[e.toKey()]=n),n}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,n){pl("MemoryPersistence","Starting transaction:",e);const r=new yd(this.es.next());return this.referenceDelegate.Ki(),n(r).next((e=>this.referenceDelegate.Gi(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Qi(e,t){return Vh.or(Object.values(this.Ui).map((n=>()=>n.containsKey(e,t))))}}class yd extends class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}{constructor(e){super(),this.currentSequenceNumber=e}}class wd{constructor(e){this.persistence=e,this.ji=new hd,this.Wi=null}static zi(e){return new wd(e)}get Hi(){if(this.Wi)return this.Wi;throw yl()}addReference(e,t,n){return this.ji.addReference(n,t),this.Hi.delete(n.toString()),Vh.resolve()}removeReference(e,t,n){return this.ji.removeReference(n,t),this.Hi.add(n.toString()),Vh.resolve()}markPotentiallyOrphaned(e,t){return this.Hi.add(t.toString()),Vh.resolve()}removeTarget(e,t){this.ji.Pi(t.targetId).forEach((e=>this.Hi.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Hi.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ki(){this.Wi=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Vh.forEach(this.Hi,(n=>{const r=iu.fromPath(n);return this.Ji(e,r).next((e=>{e||t.removeEntry(r,Ul.min())}))})).next((()=>(this.Wi=null,t.apply(e))))}updateLimboDocument(e,t){return this.Ji(e,t).next((e=>{e?this.Hi.delete(t.toString()):this.Hi.add(t.toString())}))}qi(e){return 0}Ji(e,t){return Vh.or([()=>Vh.resolve(this.ji.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Qi(e,t)])}}class bd{constructor(){this.activeTargetIds=rh()}Zi(e){this.activeTargetIds=this.activeTargetIds.add(e)}tr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ad{constructor(){this.$r=new bd,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.$r.Zi(e),this.Br[e]||"not-current"}updateQueryState(e,t,n){this.Br[e]=t}removeLocalQueryTarget(e){this.$r.tr(e)}isLocalQueryTarget(e){return this.$r.activeTargetIds.has(e)}clearQueryState(e){delete this.Br[e]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(e){return this.$r.activeTargetIds.has(e)}start(){return this.$r=new bd,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ed{Lr(e){}shutdown(){}}class kd{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(e){this.Qr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){pl("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Qr)e(0)}Gr(){pl("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Qr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Sd={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Id{constructor(e){this.Wr=e.Wr,this.zr=e.zr}Hr(e){this.Jr=e}Yr(e){this.Xr=e}onMessage(e){this.Zr=e}close(){this.zr()}send(e){this.Wr(e)}eo(){this.Jr()}no(e){this.Xr(e)}so(e){this.Zr(e)}}class Td extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.io=t+"://"+e.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(e,t,n,r,i){const a=this.uo(e,t);pl("RestConnection","Sending: ",a,n);const s={};return this.ao(s,r,i),this.co(e,a,s,n).then((e=>(pl("RestConnection","Received: ",e),e)),(t=>{throw gl("RestConnection",`${e} failed with error: `,t,"url: ",a,"request:",n),t}))}ho(e,t,n,r,i){return this.oo(e,t,n,r,i)}ao(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+hl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}uo(e,t){const n=Sd[e];return`${this.io}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,n,r){return new Promise(((i,a)=>{const s=new ll;s.listenOnce(rl.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case nl.NO_ERROR:const t=s.getResponseJson();pl("Connection","XHR received:",JSON.stringify(t)),i(t);break;case nl.TIMEOUT:pl("Connection",'RPC "'+e+'" timed out'),a(new El(Al.DEADLINE_EXCEEDED,"Request time out"));break;case nl.HTTP_ERROR:const n=s.getStatus();if(pl("Connection",'RPC "'+e+'" failed with status:',n,"response text:",s.getResponseText()),n>0){const e=s.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Al).indexOf(t)>=0?t:Al.UNKNOWN}(e.status);a(new El(t,e.message))}else a(new El(Al.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new El(Al.UNAVAILABLE,"Connection failed."));break;default:yl()}}finally{pl("Connection",'RPC "'+e+'" completed.')}}));const o=JSON.stringify(r);s.send(t,"POST",o,n,15)}))}lo(e,t,n){const r=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=el(),a=tl(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new sl({})),this.ao(s.initMessageHeaders,t,n),ke()||Ie()||Ee().indexOf("Electron/")>=0||Te()||Ee().indexOf("MSAppHost/")>=0||Se()||(s.httpHeadersOverwriteParam="$httpHeaders");const o=r.join("");pl("Connection","Creating WebChannel: "+o,s);const l=i.createWebChannel(o,s);let u=!1,c=!1;const h=new Id({Wr:e=>{c?pl("Connection","Not sending because WebChannel is closed:",e):(u||(pl("Connection","Opening WebChannel transport."),l.open(),u=!0),pl("Connection","WebChannel sending:",e),l.send(e))},zr:()=>l.close()}),d=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return d(l,ol.EventType.OPEN,(()=>{c||pl("Connection","WebChannel transport opened.")})),d(l,ol.EventType.CLOSE,(()=>{c||(c=!0,pl("Connection","WebChannel transport closed"),h.no())})),d(l,ol.EventType.ERROR,(e=>{c||(c=!0,gl("Connection","WebChannel transport errored:",e),h.no(new El(Al.UNAVAILABLE,"The operation could not be completed")))})),d(l,ol.EventType.MESSAGE,(e=>{var t;if(!c){const n=e.data[0];wl(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){pl("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=Bc[e];if(void 0!==t)return jc(t)}(e),n=i.message;void 0===t&&(t=Al.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),c=!0,h.no(new El(t,n)),l.close()}else pl("Connection","WebChannel received:",n),h.so(n)}})),d(a,il.STAT_EVENT,(e=>{e.stat===al.PROXY?pl("Connection","Detected buffering proxy"):e.stat===al.NOPROXY&&pl("Connection","Detected no buffering proxy")})),setTimeout((()=>{h.eo()}),0),h}}function Cd(){return"undefined"!=typeof document?document:null}function Nd(e){return new mh(e,!0)}class Rd{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Yn=e,this.timerId=t,this.fo=n,this._o=r,this.wo=i,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(e){this.cancel();const t=Math.floor(this.mo+this.Eo()),n=Math.max(0,Date.now()-this.po),r=Math.max(0,t-n);r>0&&pl("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.mo} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,r,(()=>(this.po=Date.now(),e()))),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class _d{constructor(e,t,n,r,i,a,s,o){this.Yn=e,this.Ro=n,this.Po=r,this.bo=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=o,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new Rd(e,t)}Co(){return 1===this.state||5===this.state||this.xo()}xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.No()}async stop(){this.Co()&&await this.close(0)}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,(()=>this.Oo())))}Fo(e){this.$o(),this.stream.send(e)}async Oo(){if(this.xo())return this.close(0)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}async close(e,t){this.$o(),this.Bo(),this.Do.cancel(),this.Vo++,4!==e?this.Do.reset():t&&t.code===Al.RESOURCE_EXHAUSTED?(ml(t.toString()),ml("Using maximum backoff delay to prevent overloading the backend."),this.Do.Io()):t&&t.code===Al.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Lo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Yr(t)}Lo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.Vo===t&&this.qo(e,n)}),(t=>{e((()=>{const e=new El(Al.UNKNOWN,"Fetching auth token failed: "+t.message);return this.Ko(e)}))}))}qo(e,t){const n=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr((()=>{n((()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,(()=>(this.xo()&&(this.state=3),Promise.resolve()))),this.listener.Hr())))})),this.stream.Yr((e=>{n((()=>this.Ko(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}No(){this.state=5,this.Do.To((async()=>{this.state=0,this.start()}))}Ko(e){return pl("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Yn.enqueueAndForget((()=>this.Vo===e?t():(pl("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xd extends _d{constructor(e,t,n,r,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,a),this.M=i}Go(e,t){return this.bo.lo("Listen",e,t)}onMessage(e){this.Do.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:yl()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(wl(void 0===t||"string"==typeof t),Gl.fromBase64String(t||"")):(wl(void 0===t||t instanceof Uint8Array),Gl.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(e){const t=void 0===e.code?Al.UNKNOWN:jc(e.code);return new El(t,e.message||"")}(s);n=new lh(r,i,a,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=kh(e,r.document.name),a=wh(r.document.updateTime),s=new bu({mapValue:{fields:r.document.fields}}),o=Eu.newFoundDocument(i,a,s),l=r.targetIds||[],u=r.removedTargetIds||[];n=new sh(l,u,o.key,o)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=kh(e,r.document),a=r.readTime?wh(r.readTime):Ul.min(),s=Eu.newNoDocument(i,a),o=r.removedTargetIds||[];n=new sh([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=kh(e,r.document),a=r.removedTargetIds||[];n=new sh([],a,i,null)}else{if(!("filter"in t))return yl();{t.filter;const e=t.filter;e.targetId;const r=e.count||0,i=new Fc(r),a=e.targetId;n=new oh(a,i)}}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return Ul.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Ul.min():t.readTime?wh(t.readTime):Ul.min()}(e);return this.listener.Qo(t,n)}jo(e){const t={};t.database=Ih(this.M),t.addTarget=function(e,t){let n;const r=t.target;return n=_u(r)?{documents:Nh(e,r)}:{query:Rh(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=vh(e,t.resumeToken):t.snapshotVersion.compareTo(Ul.min())>0&&(n.readTime=gh(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return yl()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Fo(t)}Wo(e){const t={};t.database=Ih(this.M),t.removeTarget=e,this.Fo(t)}}class Od extends _d{constructor(e,t,n,r,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,a),this.M=i,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(e,t){return this.bo.lo("Write",e,t)}onMessage(e){if(wl(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();const t=function(e,t){return e&&e.length>0?(wl(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?wh(e.updateTime):wh(t);return n.isEqual(Ul.min())&&(n=wh(t)),new Ec(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=wh(e.commitTime);return this.listener.Yo(n,t)}return wl(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}Zo(){const e={};e.database=Ih(this.M),this.Fo(e)}Jo(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>function(e,t){let n;if(t instanceof xc)n={update:Ch(e,t.key,t.value)};else if(t instanceof Mc)n={delete:Eh(e,t.key)};else if(t instanceof Oc)n={update:Ch(e,t.key,t.data),updateMask:Fh(t.fieldMask)};else{if(!(t instanceof Uc))return yl();n={verify:Eh(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof fc)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof pc)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof gc)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof yc)return{fieldPath:t.field.canonicalString(),increment:n.k};throw yl()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:yh(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:yl()}(e,t.precondition)),n}(this.M,e)))};this.Fo(t)}}class Pd extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=n,this.M=r,this.tu=!1}eu(){if(this.tu)throw new El(Al.FAILED_PRECONDITION,"The client has already been terminated.")}oo(e,t,n){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,i])=>this.bo.oo(e,t,n,r,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===Al.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new El(Al.UNKNOWN,e.toString())}))}ho(e,t,n){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,i])=>this.bo.ho(e,t,n,r,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===Al.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new El(Al.UNKNOWN,e.toString())}))}terminate(){this.tu=!0}}class Dd{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve()))))}au(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ou("Offline")))}set(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}ou(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}uu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(ml(t),this.iu=!1):pl("OnlineStateTracker",t)}cu(){null!==this.su&&(this.su.cancel(),this.su=null)}}class Ld{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=i,this._u.Lr((e=>{n.enqueueAndForget((async()=>{Hd(this)&&(pl("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=bl(e);t.fu.add(4),await Ud(t),t.wu.set("Unknown"),t.fu.delete(4),await Md(t)}(this))}))})),this.wu=new Dd(n,r)}}async function Md(e){if(Hd(e))for(const t of e.du)await t(!0)}async function Ud(e){for(const t of e.du)await t(!1)}function Fd(e,t){const n=bl(e);n.lu.has(t.targetId)||(n.lu.set(t.targetId,t),qd(n)?zd(n):lf(n).xo()&&Vd(n,t))}function Bd(e,t){const n=bl(e),r=lf(n);n.lu.delete(t),r.xo()&&jd(n,t),0===n.lu.size&&(r.xo()?r.Mo():Hd(n)&&n.wu.set("Unknown"))}function Vd(e,t){e.mu.Z(t.targetId),lf(e).jo(t)}function jd(e,t){e.mu.Z(t),lf(e).Wo(t)}function zd(e){e.mu=new ch({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.lu.get(t)||null}),lf(e).start(),e.wu.ru()}function qd(e){return Hd(e)&&!lf(e).Co()&&e.lu.size>0}function Hd(e){return 0===bl(e).fu.size}function Kd(e){e.mu=void 0}async function Gd(e){e.lu.forEach(((t,n)=>{Vd(e,t)}))}async function Wd(e,t){Kd(e),qd(e)?(e.wu.au(t),zd(e)):e.wu.set("Unknown")}async function Qd(e,t,n){if(e.wu.set("Online"),t instanceof lh&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.lu.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.lu.delete(r),e.mu.removeTarget(r))}(e,t)}catch(n){pl("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Yd(e,n)}else if(t instanceof sh?e.mu.ut(t):t instanceof oh?e.mu._t(t):e.mu.ht(t),!n.isEqual(Ul.min()))try{const t=await ad(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.mu.yt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.lu.get(r);i&&e.lu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((t=>{const n=e.lu.get(t);if(!n)return;e.lu.set(t,n.withResumeToken(Gl.EMPTY_BYTE_STRING,n.snapshotVersion)),jd(e,t);const r=new Kh(n.target,t,1,n.sequenceNumber);Vd(e,r)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){pl("RemoteStore","Failed to raise snapshot:",t),await Yd(e,t)}}async function Yd(e,t,n){if(!jh(t))throw t;e.fu.add(1),await Ud(e),e.wu.set("Offline"),n||(n=()=>ad(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{pl("RemoteStore","Retrying IndexedDB access"),await n(),e.fu.delete(1),await Md(e)}))}function Jd(e,t){return t().catch((n=>Yd(e,n,t)))}async function Xd(e){const t=bl(e),n=uf(t);let r=t.hu.length>0?t.hu[t.hu.length-1].batchId:-1;for(;Zd(t);)try{const e=await sd(t.localStore,r);if(null===e){0===t.hu.length&&n.Mo();break}r=e.batchId,$d(t,e)}catch(e){await Yd(t,e)}ef(t)&&tf(t)}function Zd(e){return Hd(e)&&e.hu.length<10}function $d(e,t){e.hu.push(t);const n=uf(e);n.xo()&&n.Ho&&n.Jo(t.mutations)}function ef(e){return Hd(e)&&!uf(e).Co()&&e.hu.length>0}function tf(e){uf(e).start()}async function nf(e){uf(e).Zo()}async function rf(e){const t=uf(e);for(const n of e.hu)t.Jo(n.mutations)}async function af(e,t,n){const r=e.hu.shift(),i=qh.from(r,t,n);await Jd(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Xd(e)}async function sf(e,t){t&&uf(e).Ho&&await async function(e,t){if(function(e){switch(e){default:return yl();case Al.CANCELLED:case Al.UNKNOWN:case Al.DEADLINE_EXCEEDED:case Al.RESOURCE_EXHAUSTED:case Al.INTERNAL:case Al.UNAVAILABLE:case Al.UNAUTHENTICATED:return!1;case Al.INVALID_ARGUMENT:case Al.NOT_FOUND:case Al.ALREADY_EXISTS:case Al.PERMISSION_DENIED:case Al.FAILED_PRECONDITION:case Al.ABORTED:case Al.OUT_OF_RANGE:case Al.UNIMPLEMENTED:case Al.DATA_LOSS:return!0}}(n=t.code)&&n!==Al.ABORTED){const n=e.hu.shift();uf(e).ko(),await Jd(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Xd(e)}var n}(e,t),ef(e)&&tf(e)}async function of(e,t){const n=bl(e);n.asyncQueue.verifyOperationInProgress(),pl("RemoteStore","RemoteStore received new credentials");const r=Hd(n);n.fu.add(3),await Ud(n),r&&n.wu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.fu.delete(3),await Md(n)}function lf(e){return e.gu||(e.gu=function(e,t,n){const r=bl(e);return r.eu(),new xd(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Hr:Gd.bind(null,e),Yr:Wd.bind(null,e),Qo:Qd.bind(null,e)}),e.du.push((async t=>{t?(e.gu.ko(),qd(e)?zd(e):e.wu.set("Unknown")):(await e.gu.stop(),Kd(e))}))),e.gu}function uf(e){return e.yu||(e.yu=function(e,t,n){const r=bl(e);return r.eu(),new Od(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Hr:nf.bind(null,e),Yr:sf.bind(null,e),Xo:rf.bind(null,e),Yo:af.bind(null,e)}),e.du.push((async t=>{t?(e.yu.ko(),await Xd(e)):(await e.yu.stop(),e.hu.length>0&&(pl("RemoteStore",`Stopping write stream with ${e.hu.length} pending writes`),e.hu=[]))}))),e.yu}class cf{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new kl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const a=Date.now()+n,s=new cf(e,t,a,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new El(Al.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hf(e,t){if(ml("AsyncQueue",`${t}: ${e}`),jh(e))return new El(Al.UNAVAILABLE,`${t}: ${e}`);throw e}class df{constructor(e){this.comparator=e?(t,n)=>e(t,n)||iu.comparator(t.key,n.key):(e,t)=>iu.comparator(e.key,t.key),this.keyedMap=Xc(),this.sortedSet=new qc(this.comparator)}static emptySet(e){return new df(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof df))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new df;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class ff{constructor(){this.pu=new qc(iu.comparator)}track(e){const t=e.doc.key,n=this.pu.get(t);n?0!==e.type&&3===n.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==n.type?this.pu=this.pu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.pu=this.pu.remove(t):1===e.type&&2===n.type?this.pu=this.pu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):yl():this.pu=this.pu.insert(t,e)}Iu(){const e=[];return this.pu.inorderTraversal(((t,n)=>{e.push(n)})),e}}class pf{constructor(e,t,n,r,i,a,s,o){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=o}static fromInitialDocuments(e,t,n,r){const i=[];return t.forEach((e=>{i.push({type:0,doc:e})})),new pf(e,t,df.emptySet(t),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ec(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}class mf{constructor(){this.Tu=void 0,this.listeners=[]}}class gf{constructor(){this.queries=new zc((e=>tc(e)),ec),this.onlineState="Unknown",this.Eu=new Set}}async function vf(e,t){const n=bl(e),r=t.query;let i=!1,a=n.queries.get(r);if(a||(i=!0,a=new mf),i)try{a.Tu=await n.onListen(r)}catch(e){const n=hf(e,`Initialization of query '${nc(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,a),a.listeners.push(t),t.Au(n.onlineState),a.Tu&&t.Ru(a.Tu)&&Af(n)}async function yf(e,t){const n=bl(e),r=t.query;let i=!1;const a=n.queries.get(r);if(a){const e=a.listeners.indexOf(t);e>=0&&(a.listeners.splice(e,1),i=0===a.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function wf(e,t){const n=bl(e);let r=!1;for(const e of t){const t=e.query,i=n.queries.get(t);if(i){for(const t of i.listeners)t.Ru(e)&&(r=!0);i.Tu=e}}r&&Af(n)}function bf(e,t,n){const r=bl(e),i=r.queries.get(t);if(i)for(const e of i.listeners)e.onError(n);r.queries.delete(t)}function Af(e){e.Eu.forEach((e=>{e.next()}))}class Ef{constructor(e,t,n){this.query=e,this.Pu=t,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=n||{}}Ru(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new pf(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),t=!0):this.Su(e,this.onlineState)&&(this.Du(e),t=!0),this.Vu=e,t}onError(e){this.Pu.error(e)}Au(e){this.onlineState=e;let t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}Su(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return!(this.options.Cu&&n||e.docs.isEmpty()&&"Offline"!==t)}vu(e){if(e.docChanges.length>0)return!0;const t=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Du(e){e=pf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}class kf{constructor(e){this.key=e}}class Sf{constructor(e){this.key=e}}class If{constructor(e,t){this.query=e,this.$u=t,this.Bu=null,this.current=!1,this.Lu=th(),this.mutatedKeys=th(),this.Uu=ic(e),this.qu=new df(this.Uu)}get Ku(){return this.$u}Gu(e,t){const n=t?t.Qu:new ff,r=t?t.qu:this.qu;let i=t?t.mutatedKeys:this.mutatedKeys,a=r,s=!1;const o=Wu(this.query)&&r.size===this.query.limit?r.last():null,l=Qu(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),c=rc(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(n.track({type:3,doc:c}),f=!0):this.ju(u,c)||(n.track({type:2,doc:c}),f=!0,(o&&this.Uu(c,o)>0||l&&this.Uu(c,l)<0)&&(s=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(o||l)&&(s=!0)),f&&(c?(a=a.add(c),i=d?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))})),Wu(this.query)||Qu(this.query))for(;a.size>this.query.limit;){const e=Wu(this.query)?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{qu:a,Qu:n,ni:s,mutatedKeys:i}}ju(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;const i=e.Qu.Iu();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yl()}};return n(e)-n(t)}(e.type,t.type)||this.Uu(e.doc,t.doc))),this.Wu(n);const a=t?this.zu():[],s=0===this.Lu.size&&this.current?1:0,o=s!==this.Bu;return this.Bu=s,0!==i.length||o?{snapshot:new pf(this.query,e.qu,r,i,e.mutatedKeys,0===s,o,!1),Hu:a}:{Hu:a}}Au(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new ff,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}Wu(e){e&&(e.addedDocuments.forEach((e=>this.$u=this.$u.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.$u=this.$u.delete(e))),this.current=e.current)}zu(){if(!this.current)return[];const e=this.Lu;this.Lu=th(),this.qu.forEach((e=>{this.Ju(e.key)&&(this.Lu=this.Lu.add(e.key))}));const t=[];return e.forEach((e=>{this.Lu.has(e)||t.push(new Sf(e))})),this.Lu.forEach((n=>{e.has(n)||t.push(new kf(n))})),t}Yu(e){this.$u=e.li,this.Lu=th();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Xu(){return pf.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}class Tf{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Cf{constructor(e){this.key=e,this.Zu=!1}}class Nf{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.ta={},this.ea=new zc((e=>tc(e)),ec),this.na=new Map,this.sa=new Set,this.ia=new qc(iu.comparator),this.ra=new Map,this.oa=new hd,this.ua={},this.aa=new Map,this.ca=Zh.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return!0===this.ha}}async function Rf(e,t){const n=function(e){const t=bl(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=xf.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Kf.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Pf.bind(null,t),t.ta.Qo=wf.bind(null,t.eventManager),t.ta.fa=bf.bind(null,t.eventManager),t}(e);let r,i;const a=n.ea.get(t);if(a)r=a.targetId,n.sharedClientState.addLocalQueryTarget(r),i=a.view.Xu();else{const e=await function(e,t){const n=bl(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.fs.getTargetData(e,t).next((i=>i?(r=i,Vh.resolve(r)):n.fs.allocateTargetId(e).next((i=>(r=new Kh(t,i,0,e.currentSequenceNumber),n.fs.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ii.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ii=n.ii.insert(e.targetId,e),n.ri.set(t,e.targetId)),e}))}(n.localStore,$u(t));n.isPrimaryClient&&Fd(n.remoteStore,e);const a=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await async function(e,t,n,r){e.la=(t,n,r)=>async function(e,t,n,r){let i=t.view.Gu(n);i.ni&&(i=await ld(e.localStore,t.query,!1).then((({documents:e})=>t.view.Gu(e,i))));const a=r&&r.targetChanges.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,a);return Vf(e,t.targetId,s.Hu),s.snapshot}(e,t,n,r);const i=await ld(e.localStore,t,!0),a=new If(t,i.li),s=a.Gu(i.documents),o=ah.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),l=a.applyChanges(s,e.isPrimaryClient,o);Vf(e,n,l.Hu);const u=new Tf(t,n,a);return e.ea.set(t,u),e.na.has(n)?e.na.get(n).push(t):e.na.set(n,[t]),l.snapshot}(n,t,r,"current"===a)}return i}async function _f(e,t){const n=bl(e),r=n.ea.get(t),i=n.na.get(r.targetId);if(i.length>1)return n.na.set(r.targetId,i.filter((e=>!ec(e,t)))),void n.ea.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await od(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),Bd(n.remoteStore,r.targetId),Ff(n,r.targetId)})).catch($h)):(Ff(n,r.targetId),await od(n.localStore,r.targetId,!0))}async function xf(e,t){const n=bl(e);try{const e=await function(e,t){const n=bl(e),r=t.snapshotVersion;let i=n.ii;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const a=n.ui.newChangeBuffer({trackRemovals:!0});i=n.ii;const s=[];t.targetChanges.forEach(((a,o)=>{const l=i.get(o);if(!l)return;s.push(n.fs.removeMatchingKeys(e,a.removedDocuments,o).next((()=>n.fs.addMatchingKeys(e,a.addedDocuments,o))));let u=l.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(o)?u=u.withResumeToken(Gl.EMPTY_BYTE_STRING,Ul.min()).withLastLimboFreeSnapshotVersion(Ul.min()):a.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(a.resumeToken,r)),i=i.insert(o,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,u,a)&&s.push(n.fs.updateTargetData(e,u))}));let o=Yc();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(function(e,t,n){let r=th();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Yc();return n.forEach(((n,i)=>{const a=e.get(n);i.isNoDocument()&&i.version.isEqual(Ul.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):pl("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}(e,a,t.documentUpdates).next((e=>{o=e}))),!r.isEqual(Ul.min())){const t=n.fs.getLastRemoteSnapshotVersion(e).next((t=>n.fs.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return Vh.waitFor(s).next((()=>a.apply(e))).next((()=>n.ci.Gs(e,o))).next((()=>o))})).then((e=>(n.ii=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.ra.get(t);r&&(wl(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Zu=!0:e.modifiedDocuments.size>0?wl(r.Zu):e.removedDocuments.size>0&&(wl(r.Zu),r.Zu=!1))})),await qf(n,e,t)}catch(e){await $h(e)}}function Of(e,t,n){const r=bl(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ea.forEach(((n,r)=>{const i=r.view.Au(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=bl(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const e of n.listeners)e.Au(t)&&(r=!0)})),r&&Af(n)}(r.eventManager,t),e.length&&r.ta.Qo(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Pf(e,t,n){const r=bl(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.ra.get(t),a=i&&i.key;if(a){let e=new qc(iu.comparator);e=e.insert(a,Eu.newNoDocument(a,Ul.min()));const n=th().add(a),i=new ih(Ul.min(),new Map,new Gc(Dl),e,n);await xf(r,i),r.ia=r.ia.remove(a),r.ra.delete(t),zf(r)}else await od(r.localStore,t,!1).then((()=>Ff(r,t,n))).catch($h)}async function Df(e,t){const n=bl(e),r=t.batch.batchId;try{const e=await function(e,t){const n=bl(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,a=i.keys();let s=Vh.resolve();return a.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const a=n.docVersions.get(e);wl(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.Bs.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.Bs.performConsistencyCheck(e))).next((()=>n.ci.Ks(e,r)))}))}(n.localStore,t);Uf(n,r,null),Mf(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await qf(n,e)}catch(e){await $h(e)}}async function Lf(e,t,n){const r=bl(e);try{const e=await function(e,t){const n=bl(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.Bs.lookupMutationBatch(e,t).next((t=>(wl(null!==t),r=t.keys(),n.Bs.removeMutationBatch(e,t)))).next((()=>n.Bs.performConsistencyCheck(e))).next((()=>n.ci.Ks(e,r)))}))}(r.localStore,t);Uf(r,t,n),Mf(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await qf(r,e)}catch(n){await $h(n)}}function Mf(e,t){(e.aa.get(t)||[]).forEach((e=>{e.resolve()})),e.aa.delete(t)}function Uf(e,t,n){const r=bl(e);let i=r.ua[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.ua[r.currentUser.toKey()]=i}}function Ff(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.na.get(t))e.ea.delete(r),n&&e.ta.fa(r,n);e.na.delete(t),e.isPrimaryClient&&e.oa.Pi(t).forEach((t=>{e.oa.containsKey(t)||Bf(e,t)}))}function Bf(e,t){e.sa.delete(t.path.canonicalString());const n=e.ia.get(t);null!==n&&(Bd(e.remoteStore,n),e.ia=e.ia.remove(t),e.ra.delete(n),zf(e))}function Vf(e,t,n){for(const r of n)r instanceof kf?(e.oa.addReference(r.key,t),jf(e,r)):r instanceof Sf?(pl("SyncEngine","Document no longer in limbo: "+r.key),e.oa.removeReference(r.key,t),e.oa.containsKey(r.key)||Bf(e,r.key)):yl()}function jf(e,t){const n=t.key,r=n.path.canonicalString();e.ia.get(n)||e.sa.has(r)||(pl("SyncEngine","New document in limbo: "+n),e.sa.add(r),zf(e))}function zf(e){for(;e.sa.size>0&&e.ia.size<e.maxConcurrentLimboResolutions;){const t=e.sa.values().next().value;e.sa.delete(t);const n=new iu(zl.fromString(t)),r=e.ca.next();e.ra.set(r,new Cf(n)),e.ia=e.ia.insert(n,r),Fd(e.remoteStore,new Kh($u(Gu(n.path)),r,2,xl.A))}}async function qf(e,t,n){const r=bl(e),i=[],a=[],s=[];r.ea.isEmpty()||(r.ea.forEach(((e,o)=>{s.push(r.la(o,t,n).then((e=>{if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(o.targetId,e.fromCache?"not-current":"current"),i.push(e);const t=td.Ys(o.targetId,e);a.push(t)}})))})),await Promise.all(s),r.ta.Qo(i),await async function(e,t){const n=bl(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Vh.forEach(t,(t=>Vh.forEach(t.Hs,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Vh.forEach(t.Js,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!jh(e))throw e;pl("LocalStore","Failed to update sequence numbers: "+e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=n.ii.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.ii=n.ii.insert(t,i)}}}(r.localStore,a))}async function Hf(e,t){const n=bl(e);if(!n.currentUser.isEqual(t)){pl("SyncEngine","User change. New user:",t.toKey());const e=await id(n.localStore,t);n.currentUser=t,function(e,t){e.aa.forEach((e=>{e.forEach((e=>{e.reject(new El(Al.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.aa.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await qf(n,e.hi)}}function Kf(e,t){const n=bl(e),r=n.ra.get(t);if(r&&r.Zu)return th().add(r.key);{let e=th();const r=n.na.get(t);if(!r)return e;for(const t of r){const r=n.ea.get(t);e=e.unionWith(r.view.Ku)}return e}}function Gf(e){const t=bl(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Df.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Lf.bind(null,t),t}class Wf{constructor(){this.synchronizeTabs=!1}async initialize(e){this.M=Nd(e.databaseInfo.databaseId),this.sharedClientState=this._a(e),this.persistence=this.wa(e),await this.persistence.start(),this.gcScheduler=this.ma(e),this.localStore=this.ga(e)}ma(e){return null}ga(e){return function(e,t,n,r){return new rd(e,t,n,r)}(this.persistence,new nd,e.initialUser,this.M)}wa(e){return new vd(wd.zi,this.M)}_a(e){return new Ad}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Qf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Of(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Hf.bind(null,this.syncEngine),await async function(e,t){const n=bl(e);t?(n.fu.delete(2),await Md(n)):t||(n.fu.add(2),await Ud(n),n.wu.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new gf}createDatastore(e){const t=Nd(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new Td(r));var r;return function(e,t,n,r){return new Pd(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>Of(this.syncEngine,e,0),a=kd.vt()?new kd:new Ed,new Ld(t,n,r,i,a);var t,n,r,i,a}createSyncEngine(e,t){return function(e,t,n,r,i,a,s){const o=new Nf(e,t,n,r,i,a);return s&&(o.ha=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=bl(e);pl("RemoteStore","RemoteStore shutting down."),t.fu.add(5),await Ud(t),t._u.shutdown(),t.wu.set("Unknown")}(this.remoteStore)}}class Yf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.pa(this.observer.next,e)}error(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Ia(){this.muted=!0}pa(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Jf{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=cl.UNAUTHENTICATED,this.clientId=Pl.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{pl("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(pl("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new El(Al.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new kl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=hf(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Xf(e,t){e.asyncQueue.verifyOperationInProgress();const n=await async function(e){return e.offlineComponents||(pl("FirestoreClient","Using default OfflineComponentProvider"),await async function(e,t){e.asyncQueue.verifyOperationInProgress(),pl("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await id(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e.offlineComponents=t}(e,new Wf)),e.offlineComponents}(e);pl("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>of(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>of(t.remoteStore,n))),e.onlineComponents=t}async function Zf(e){return e.onlineComponents||(pl("FirestoreClient","Using default OnlineComponentProvider"),await Xf(e,new Qf)),e.onlineComponents}async function $f(e){const t=await Zf(e),n=t.eventManager;return n.onListen=Rf.bind(null,t.syncEngine),n.onUnlisten=_f.bind(null,t.syncEngine),n}const ep=new Map;function tp(e,t,n){if(!n)throw new El(Al.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function np(e){if(!iu.isDocumentKey(e))throw new El(Al.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function rp(e){if(iu.isDocumentKey(e))throw new El(Al.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function ip(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":yl()}function ap(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new El(Al.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ip(e);throw new El(Al.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}class sp{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new El(Al.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new El(Al.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new El(Al.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class op{constructor(e,t,n){this._authCredentials=t,this._appCheckCredentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sp({}),this._settingsFrozen=!1,e instanceof tu?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new El(Al.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tu(e.options.projectId)}(e))}get app(){if(!this._app)throw new El(Al.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new El(Al.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sp(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Il;switch(e.type){case"gapi":const t=e.client;return wl(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Nl(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new El(Al.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=ep.get(e);t&&(pl("ComponentProvider","Removing Datastore"),ep.delete(e),t.terminate())}(this),Promise.resolve()}}class lp{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cp(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lp(this.firestore,e,this._key)}}class up{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new up(this.firestore,e,this._query)}}class cp extends up{constructor(e,t,n){super(e,t,Gu(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lp(this.firestore,null,new iu(e))}withConverter(e){return new cp(this.firestore,e,this._path)}}function hp(e,t,...n){if(e=Ve(e),tp("collection","path",t),e instanceof op){const r=zl.fromString(t,...n);return rp(r),new cp(e,null,r)}{if(!(e instanceof lp||e instanceof cp))throw new El(Al.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(zl.fromString(t,...n));return rp(r),new cp(e.firestore,null,r)}}function dp(e,t,...n){if(e=Ve(e),1===arguments.length&&(t=Pl.R()),tp("doc","path",t),e instanceof op){const r=zl.fromString(t,...n);return np(r),new lp(e,null,new iu(r))}{if(!(e instanceof lp||e instanceof cp))throw new El(Al.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(zl.fromString(t,...n));return np(r),new lp(e.firestore,e instanceof cp?e.converter:null,new iu(r))}}class fp{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new Rd(this,"async_queue_retry"),this.qa=()=>{const e=Cd();e&&pl("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Do.Ao()};const e=Cd();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ka(),this.Ga(e)}enterRestrictedMode(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;const t=Cd();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}enqueue(e){if(this.Ka(),this.Oa)return new Promise((()=>{}));const t=new kl;return this.Ga((()=>this.Oa&&this.La?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Ma.push(e),this.Qa())))}async Qa(){if(0!==this.Ma.length){try{await this.Ma[0](),this.Ma.shift(),this.Do.reset()}catch(e){if(!jh(e))throw e;pl("AsyncQueue","Operation failed with retryable error: "+e)}this.Ma.length>0&&this.Do.To((()=>this.Qa()))}}Ga(e){const t=this.ka.then((()=>(this.Ba=!0,e().catch((e=>{this.$a=e,this.Ba=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw ml("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Ba=!1,e))))));return this.ka=t,t}enqueueAfterDelay(e,t,n){this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);const r=cf.createAndSchedule(this,e,t,n,(e=>this.ja(e)));return this.Fa.push(r),r}Ka(){this.$a&&yl()}verifyOperationInProgress(){}async Wa(){let e;do{e=this.ka,await e}while(e!==this.ka)}za(e){for(const t of this.Fa)if(t.timerId===e)return!0;return!1}Ha(e){return this.Wa().then((()=>{this.Fa.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Fa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Wa()}))}Ja(e){this.Ua.push(e)}ja(e){const t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}class pp extends op{constructor(e,t,n){super(e,t,n),this.type="firestore",this._queue=new fp,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||gp(this),this._firestoreClient.terminate()}}function mp(e){return e._firestoreClient||gp(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function gp(e){var t;const n=e._freezeSettings(),r=function(e,t,n,r){return new eu(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Jf(e._authCredentials,e._appCheckCredentials,e._queue,r)}class vp{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new El(Al.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hl(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class yp{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yp(Gl.fromBase64String(e))}catch(e){throw new El(Al.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new yp(Gl.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class wp{constructor(e){this._methodName=e}}class bp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new El(Al.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new El(Al.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Dl(this._lat,e._lat)||Dl(this._long,e._long)}}const Ap=/^__.*__$/;class Ep{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Oc(e,this.data,this.fieldMask,t,this.fieldTransforms):new xc(e,this.data,t,this.fieldTransforms)}}class kp{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Oc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Sp(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yl()}}class Ip{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.M=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Ya(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(e){return new Ip(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Za({path:n,ec:!1});return r.nc(e),r}sc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Za({path:n,ec:!1});return r.Ya(),r}ic(e){return this.Za({path:void 0,ec:!0})}rc(e){return jp(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Ya(){if(this.path)for(let e=0;e<this.path.length;e++)this.nc(this.path.get(e))}nc(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(Sp(this.Xa)&&Ap.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}class Tp{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=n||Nd(e)}ac(e,t,n,r=!1){return new Ip({Xa:e,methodName:t,uc:n,path:Hl.emptyPath(),ec:!1,oc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Cp(e){const t=e._freezeSettings(),n=Nd(e._databaseId);return new Tp(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Np(e,t,n,r,i,a={}){const s=e.ac(a.merge||a.mergeFields?2:0,t,n,i);Up("Data must be an object, but it was:",s,r);const o=Lp(r,s);let l,u;if(a.merge)l=new Kl(s.fieldMask),u=s.fieldTransforms;else if(a.mergeFields){const e=[];for(const r of a.mergeFields){const i=Fp(t,r,n);if(!s.contains(i))throw new El(Al.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);zp(e,i)||e.push(i)}l=new Kl(e),u=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,u=s.fieldTransforms;return new Ep(new bu(o),l,u)}class Rp extends wp{_toFieldTransform(e){if(2!==e.Xa)throw 1===e.Xa?e.rc(`${this._methodName}() can only appear at the top level of your update data`):e.rc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rp}}function _p(e,t,n){return new Ip({Xa:3,uc:t.settings.uc,methodName:e._methodName,ec:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}class xp extends wp{_toFieldTransform(e){return new Ac(e.path,new fc)}isEqual(e){return e instanceof xp}}class Op extends wp{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=_p(this,e,!0),n=this.cc.map((e=>Dp(e,t))),r=new pc(n);return new Ac(e.path,r)}isEqual(e){return this===e}}class Pp extends wp{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=_p(this,e,!0),n=this.cc.map((e=>Dp(e,t))),r=new gc(n);return new Ac(e.path,r)}isEqual(e){return this===e}}function Dp(e,t){if(Mp(e=Ve(e)))return Up("Unsupported field value:",t,e),Lp(e,t);if(e instanceof wp)return function(e,t){if(!Sp(t.Xa))throw t.rc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.rc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ec&&4!==t.Xa)throw t.rc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Dp(i,t.ic(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Ve(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return lc(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Ml.fromDate(e);return{timestampValue:gh(t.M,n)}}if(e instanceof Ml){const n=new Ml(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:gh(t.M,n)}}if(e instanceof bp)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof yp)return{bytesValue:vh(t.M,e._byteString)};if(e instanceof lp){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.rc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:bh(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.rc(`Unsupported field value: ${ip(e)}`)}(e,t)}function Lp(e,t){const n={};return Vl(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Bl(e,((e,r)=>{const i=Dp(r,t.tc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Mp(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ml||e instanceof bp||e instanceof yp||e instanceof lp||e instanceof wp)}function Up(e,t,n){if(!Mp(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=ip(n);throw"an object"===r?t.rc(e+" a custom object"):t.rc(e+" "+r)}}function Fp(e,t,n){if((t=Ve(t))instanceof vp)return t._internalPath;if("string"==typeof t)return Vp(e,t);throw jp("Field path arguments must be of type string or ",e,!1,void 0,n)}const Bp=new RegExp("[~\\*/\\[\\]]");function Vp(e,t,n){if(t.search(Bp)>=0)throw jp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new vp(...t.split("."))._internalPath}catch(r){throw jp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function jp(e,t,n,r,i){const a=r&&!r.isEmpty(),s=void 0!==i;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new El(Al.INVALID_ARGUMENT,o+e+l)}function zp(e,t){return e.some((e=>e.isEqual(t)))}class qp{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new lp(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Hp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Kp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Hp extends qp{data(){return super.data()}}function Kp(e,t){return"string"==typeof t?Vp(e,t):t instanceof vp?t._internalPath:t._delegate._internalPath}class Gp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wp extends qp{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Qp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Kp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Qp extends Wp{data(e={}){return super.data(e)}}class Yp{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Gp(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Qp(this._firestore,this._userDataWriter,n.key,n,new Gp(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new El(Al.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>({type:"added",doc:new Qp(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Gp(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++})))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Qp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Gp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,a=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:Jp(t.type),doc:r,oldIndex:i,newIndex:a}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Jp(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yl()}}class Xp{}function Zp(e,...t){for(const n of t)e=n._apply(e);return e}class $p extends Xp{constructor(e,t,n){super(),this.lc=e,this.fc=t,this.dc=n,this.type="where"}_apply(e){const t=Cp(e.firestore),n=function(e,t,n,r,i,a,s){let o;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new El(Al.INVALID_ARGUMENT,`Invalid Query. You can't perform '${a}' queries on documentId().`);if("in"===a||"not-in"===a){im(s,a);const t=[];for(const n of s)t.push(rm(r,e,n));o={arrayValue:{values:t}}}else o=rm(r,e,s)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||im(s,a),o=function(e,t,n,r=!1){return Dp(n,e.ac(r?4:3,t))}(n,"where",s,"in"===a||"not-in"===a);const l=xu.create(i,a,o);return function(e,t){if(t.S()){const n=Ju(e);if(null!==n&&!n.isEqual(t.field))throw new El(Al.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${t.field.toString()}'`);const r=Yu(e);null!==r&&am(0,t.field,r)}const n=function(e,t){for(const n of e.filters)if(t.indexOf(n.op)>=0)return n.op;return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new El(Al.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new El(Al.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}(e,l),l}(e._query,0,t,e.firestore._databaseId,this.lc,this.fc,this.dc);return new up(e.firestore,e.converter,function(e,t){const n=e.filters.concat([t]);return new Ku(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}function em(e,t,n){const r=t,i=Kp("where",e);return new $p(i,r,n)}class tm extends Xp{constructor(e,t){super(),this.lc=e,this._c=t,this.type="orderBy"}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new El(Al.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new El(Al.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new ju(t,n);return function(e,t){if(null===Yu(e)){const n=Ju(e);null!==n&&am(0,n,t.field)}}(e,r),r}(e._query,this.lc,this._c);return new up(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Ku(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function nm(e,t="asc"){const n=t,r=Kp("orderBy",e);return new tm(r,n)}function rm(e,t,n){if("string"==typeof(n=Ve(n))){if(""===n)throw new El(Al.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Xu(t)&&-1!==n.indexOf("/"))throw new El(Al.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(zl.fromString(n));if(!iu.isDocumentKey(r))throw new El(Al.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return du(e,new iu(r))}if(n instanceof lp)return du(e,n._key);throw new El(Al.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ip(n)}.`)}function im(e,t){if(!Array.isArray(e)||0===e.length)throw new El(Al.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new El(Al.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function am(e,t,n){if(!n.isEqual(t))throw new El(Al.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}function sm(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}function om(e){e=ap(e,lp);const t=ap(e.firestore,pp);return function(e,t,n={}){const r=new kl;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const a=new Yf({next:a=>{t.enqueueAndForget((()=>yf(e,s)));const o=a.docs.has(n);!o&&a.fromCache?i.reject(new El(Al.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&a.fromCache&&r&&"server"===r.source?i.reject(new El(Al.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:e=>i.reject(e)}),s=new Ef(Gu(n.path),a,{includeMetadataChanges:!0,Cu:!0});return vf(e,s)}(await $f(e),e.asyncQueue,t,n,r))),r.promise}(mp(t),e._key).then((n=>function(e,t,n){const r=n.docs.get(t._key),i=new lm(e);return new Wp(e,i,t._key,r,new Gp(n.hasPendingWrites,n.fromCache),t.converter)}(t,e,n)))}class lm extends class{convertValue(e,t="none"){switch(au(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yl(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Jl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw yl()}}convertObject(e,t){const n={};return Bl(e.fields,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new bp(Yl(e.latitude),Yl(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Zl(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const t=Ql(e);return new Ml(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=zl.fromString(e);wl(Bh(n));const r=new tu(n.get(1),n.get(3)),i=new iu(n.popFirst(5));return r.isEqual(t)||ml(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new yp(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new lp(this.firestore,null,t)}}function um(e){e=ap(e,up);const t=ap(e.firestore,pp),n=mp(t),r=new lm(t);return function(e){if(Qu(e)&&0===e.explicitOrderBy.length)throw new El(Al.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(e._query),function(e,t,n={}){const r=new kl;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const a=new Yf({next:n=>{t.enqueueAndForget((()=>yf(e,s))),n.fromCache&&"server"===r.source?i.reject(new El(Al.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new Ef(n,a,{includeMetadataChanges:!0,Cu:!0});return vf(e,s)}(await $f(e),e.asyncQueue,t,n,r))),r.promise}(n,e._query).then((n=>new Yp(t,r,e,n)))}function cm(e,t,n){e=ap(e,lp);const r=ap(e.firestore,pp),i=sm(e.converter,t,n);return pm(r,[Np(Cp(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,kc.none())])}function hm(e,t,n,...r){e=ap(e,lp);const i=ap(e.firestore,pp),a=Cp(i);let s;return s="string"==typeof(t=Ve(t))||t instanceof vp?function(e,t,n,r,i,a){const s=e.ac(1,t,n),o=[Fp(t,r,n)],l=[i];if(a.length%2!=0)throw new El(Al.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<a.length;e+=2)o.push(Fp(t,a[e])),l.push(a[e+1]);const u=[],c=bu.empty();for(let e=o.length-1;e>=0;--e)if(!zp(u,o[e])){const t=o[e];let n=l[e];n=Ve(n);const r=s.sc(t);if(n instanceof Rp)u.push(t);else{const e=Dp(n,r);null!=e&&(u.push(t),c.set(t,e))}}const h=new Kl(u);return new kp(c,h,s.fieldTransforms)}(a,"updateDoc",e._key,t,n,r):function(e,t,n,r){const i=e.ac(1,t,n);Up("Data must be an object, but it was:",i,r);const a=[],s=bu.empty();Bl(r,((e,r)=>{const o=Vp(t,e,n);r=Ve(r);const l=i.sc(o);if(r instanceof Rp)a.push(o);else{const e=Dp(r,l);null!=e&&(a.push(o),s.set(o,e))}}));const o=new Kl(a);return new kp(s,o,i.fieldTransforms)}(a,"updateDoc",e._key,t),pm(i,[s.toMutation(e._key,kc.exists(!0))])}function dm(e){return pm(ap(e.firestore,pp),[new Mc(e._key,kc.none())])}function fm(e,t){const n=ap(e.firestore,pp),r=dp(e),i=sm(e.converter,t);return pm(n,[Np(Cp(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,kc.exists(!1))]).then((()=>r))}function pm(e,t){return function(e,t){const n=new kl;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Gf(e);try{const e=await function(e,t){const n=bl(e),r=Ml.now(),i=t.reduce(((e,t)=>e.add(t.key)),th());let a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>n.ci.Ks(e,i).next((i=>{a=i;const s=[];for(const e of t){const t=Nc(e,a.get(e.key));null!=t&&s.push(new Oc(e.key,t,Au(t.value.mapValue),kc.exists(!0)))}return n.Bs.addMutationBatch(e,r,s,t)})))).then((e=>(e.applyToLocalDocumentSet(a),{batchId:e.batchId,changes:a})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.ua[e.currentUser.toKey()];r||(r=new qc(Dl)),r=r.insert(t,n),e.ua[e.currentUser.toKey()]=r}(r,e.batchId,n),await qf(r,e.changes),await Xd(r.remoteStore)}catch(e){const t=hf(e,"Failed to persist write");n.reject(t)}}(await function(e){return Zf(e).then((e=>e.syncEngine))}(e),t,n))),n.promise}(mp(e),t)}function mm(){return new xp("serverTimestamp")}function gm(...e){return new Op("arrayUnion",e)}function vm(...e){return new Pp("arrayRemove",e)}!function(e,t=!0){hl="9.6.11",ft(new We("firestore",((e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=new pp(r,new Tl(e.getProvider("auth-internal")),new _l(e.getProvider("app-check-internal")));return n=Object.assign({useFetchStreams:t},n),i._setSettings(n),i}),"PUBLIC")),wt(ul,"3.4.8",e),wt(ul,"3.4.8","esm2017")}();const ym="firebasestorage.googleapis.com";class wm extends Re{constructor(e,t){super(bm(e),`Firebase Storage: ${t} (${bm(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,wm.prototype)}_codeEquals(e){return bm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}function bm(e){return"storage/"+e}function Am(){return new wm("unknown","An unknown error occurred, please check the error payload for server response.")}function Em(e){return new wm("invalid-argument",e)}function km(){return new wm("app-deleted","The Firebase app was deleted.")}function Sm(e,t){return new wm("invalid-format","String does not match format '"+e+"': "+t)}function Im(e){throw new wm("internal-error","Internal error: "+e)}class Tm{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Tm.makeFromUrl(e,t)}catch(t){return new Tm(e,"")}if(""===n.path)return n;throw new wm("invalid-default-bucket","Invalid default bucket '"+e+"'.")}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)",i=new RegExp("^gs://"+r+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),o=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${s}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp(`^https?://${t===ym?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:a}];for(let t=0;t<o.length;t++){const r=o[t],i=r.regex.exec(e);if(i){const e=i[r.indices.bucket];let t=i[r.indices.path];t||(t=""),n=new Tm(e,t),r.postModify(n);break}}if(null==n)throw function(e){return new wm("invalid-url","Invalid URL '"+e+"'.")}(e);return n}}class Cm{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Nm(e){return"string"==typeof e||e instanceof String}function Rm(e){return _m()&&e instanceof Blob}function _m(){return"undefined"!=typeof Blob}function xm(e,t,n,r){if(r<t)throw Em(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw Em(`Invalid value for '${e}'. Expected ${n} or less.`)}function Om(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function Pm(e){const t=encodeURIComponent;let n="?";for(const r in e)e.hasOwnProperty(r)&&(n=n+(t(r)+"=")+t(e[r])+"&");return n=n.slice(0,-1),n}var Dm;!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Dm||(Dm={}));class Lm{constructor(e,t,n,r,i,a,s,o,l,u,c){this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=s,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=c,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(e){r(e)}else if(null!==i){const e=Am();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else t.canceled?r(this.appDelete_?km():new wm("canceled","User canceled the upload/download.")):r(new wm("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))};this.canceled_?e(0,new Mm(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,a=null,s=!1,o=0;function l(){return 2===o}let u=!1;function c(...e){u||(u=!0,t.apply(null,e))}function h(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function d(){a&&clearTimeout(a)}function f(e,...t){if(u)return void d();if(e)return d(),void c.call(null,e,...t);if(l()||s)return d(),void c.call(null,e,...t);let n;r<64&&(r*=2),1===o?(o=2,n=0):n=1e3*(r+Math.random()),h(n)}let p=!1;function m(e){p||(p=!0,d(),u||(null!==i?(e||(o=2),clearTimeout(i),h(0)):e||(o=1)))}return h(0),a=setTimeout((()=>{s=!0,m(!0)}),n),m}(((e,t)=>{if(t)return void e(!1,new Mm(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===Dm.NO_ERROR,i=n.getStatus();if(!t||this.isRetryStatusCode_(i)){const t=n.getErrorCode()===Dm.ABORT;return void e(!1,new Mm(!1,null,t))}const a=-1!==this.successCodes_.indexOf(i);e(!0,new Mm(a,n))}))}),e,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}class Mm{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function Um(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Fm(...e){const t=Um();if(void 0!==t){const n=new t;for(let t=0;t<e.length;t++)n.append(e[t]);return n.getBlob()}if(_m())return new Blob(e);throw new wm("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Bm="base64",Vm="base64url",jm="data_url";class zm{constructor(e,t){this.data=e,this.contentType=t||null}}function qm(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<=127?t.push(r):r<=2047?t.push(192|r>>6,128|63&r):55296==(64512&r)?n<e.length-1&&56320==(64512&e.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):t.push(239,191,189):56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Hm(e,t){switch(e){case Bm:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw Sm(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break}case Vm:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r)throw Sm(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=atob(t)}catch(t){throw Sm(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let e=0;e<n.length;e++)r[e]=n.charCodeAt(e);return r}class Km{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Sm(jm,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){return e.length>=t.length&&e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1)}}class Gm{constructor(e,t){let n=0,r="";Rm(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(Rm(this.data_)){const a=(n=this.data_,r=e,i=t,n.webkitSlice?n.webkitSlice(r,i):n.mozSlice?n.mozSlice(r,i):n.slice?n.slice(r,i):null);return null===a?null:new Gm(a)}var n,r,i;{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Gm(n,!0)}}static getBlob(...e){if(_m()){const t=e.map((e=>e instanceof Gm?e.data_:e));return new Gm(Fm.apply(null,t))}{const t=e.map((e=>Nm(e)?function(e,t){switch(e){case"raw":return new zm(qm(t));case Bm:case Vm:return new zm(Hm(e,t));case jm:return new zm(function(e){const t=new Km(e);return t.base64?Hm(Bm,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(e){throw Sm(jm,"Malformed data URL.")}return qm(t)}(t.rest)}(t),new Km(t).contentType)}throw Am()}("raw",e).data:e.data_));let n=0;t.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return t.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new Gm(r,!0)}}uploadData(){return this.data_}}function Wm(e){let t;try{t=JSON.parse(e)}catch(e){return null}return function(e){return"object"==typeof e&&!Array.isArray(e)}(t)?t:null}function Qm(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Ym(e,t){return t}class Jm{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Ym}}let Xm=null;function Zm(){if(Xm)return Xm;const e=[];e.push(new Jm("bucket")),e.push(new Jm("generation")),e.push(new Jm("metageneration")),e.push(new Jm("name","fullPath",!0));const t=new Jm("name");t.xform=function(e,t){return function(e){return!Nm(e)||e.length<2?e:Qm(e)}(t)},e.push(t);const n=new Jm("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Jm("timeCreated")),e.push(new Jm("updated")),e.push(new Jm("md5Hash",null,!0)),e.push(new Jm("cacheControl",null,!0)),e.push(new Jm("contentDisposition",null,!0)),e.push(new Jm("contentEncoding",null,!0)),e.push(new Jm("contentLanguage",null,!0)),e.push(new Jm("contentType",null,!0)),e.push(new Jm("metadata","customMetadata",!0)),Xm=e,Xm}function $m(e,t,n){const r=Wm(t);return null===r?null:function(e,t,n){const r={type:"file"},i=n.length;for(let e=0;e<i;e++){const i=n[e];r[i.local]=i.xform(r,t[i.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new Tm(n,r);return t._makeStorageReference(i)}})}(r,e),r}(e,r,n)}class eg{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function tg(e){if(!e)throw Am()}function ng(e){return function(t,n){let r;var i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new wm("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new wm("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new wm("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new wm("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function rg(e,t,n,r,i){const a=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},o=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();s["Content-Type"]="multipart/related; boundary="+o;const l=function(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return t&&t.type()||"application/octet-stream"}(0,t)),r}(t,r,i),u="--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+function(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}(l,n)+"\r\n--"+o+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",c="\r\n--"+o+"--",h=Gm.getBlob(u,r,c);if(null===h)throw new wm("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.");const d={name:l.fullPath},f=Om(a,e.host,e._protocol),p=e.maxUploadRetryTime,m=new eg(f,"POST",function(e,t){return function(n,r){const i=$m(e,r,t);return tg(null!==i),i}}(e,n),p);return m.urlParams=d,m.headers=s,m.body=h.uploadData(),m.errorHandler=ng(t),m}class ig extends class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Dm.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=Dm.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=Dm.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw Im("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const e in r)r.hasOwnProperty(e)&&this.xhr_.setRequestHeader(e,r[e].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Im("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Im("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw Im("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Im("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function ag(){return new ig}class sg{constructor(e,t){this._service=e,this._location=t instanceof Tm?t:Tm.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new sg(e,t)}get root(){const e=new Tm(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Qm(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Tm(this._location.bucket,e);return new sg(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new wm("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function og(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=Om(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new eg(r,"GET",function(e,t){return function(n,r){const i=$m(e,r,t);return tg(null!==i),function(e,t,n,r){const i=Wm(t);if(null===i)return null;if(!Nm(i.downloadTokens))return null;const a=i.downloadTokens;if(0===a.length)return null;const s=encodeURIComponent;return a.split(",").map((t=>{const i=e.bucket,a=e.fullPath;return Om("/b/"+s(i)+"/o/"+s(a),n,r)+Pm({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}(e,n),i);return a.errorHandler=function(e){const t=ng(e);return function(n,r){let i=t(n,r);var a;return 404===n.getStatus()&&(a=e.path,i=new wm("object-not-found","Object '"+a+"' does not exist.")),i.serverResponse=r.serverResponse,i}}(t),a}(e.storage,e._location,Zm());return e.storage.makeRequestWithTokens(t,ag).then((e=>{if(null===e)throw new wm("no-download-url","The given file does not have any download URLs.");return e}))}function lg(e,t){if(e instanceof cg){const n=e;if(null==n._bucket)throw new wm("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");const r=new sg(n,n._bucket);return null!=t?lg(r,t):r}return void 0!==t?function(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Tm(e._location.bucket,n);return new sg(e.storage,r)}(e,t):e}function ug(e,t){const n=null==t?void 0:t.storageBucket;return null==n?null:Tm.makeFromBucketSpec(n,e)}class cg{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=ym,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Tm.makeFromBucketSpec(r,this._host):ug(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=Tm.makeFromBucketSpec(this._url,e):this._bucket=ug(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){xm("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){xm("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new sg(this,e)}_makeRequest(e,t,n,r){if(this._deleted)return new Cm(km());{const i=function(e,t,n,r,i,a){const s=Pm(e.urlParams),o=e.url+s,l=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(l,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(l,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(l,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(l,r),new Lm(o,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((()=>this._requests.delete(i)),(()=>this._requests.delete(i))),i}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const hg="@firebase/storage",dg="0.9.5",fg="storage";function pg(e){return og(e=Ve(e))}function mg(e,t){return function(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof cg)return new sg(e,t);throw Em("To use ref(service, url), the first argument must be a Storage instance.")}return lg(e,t)}(e=Ve(e),t)}ft(new We(fg,(function(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new cg(n,r,i,t,vt)}),"PUBLIC").setMultipleInstances(!0)),wt(hg,dg,""),wt(hg,dg,"esm2017");const gg="@firebase/installations",vg="0.5.8",yg="w:0.5.8",wg=new _e("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function bg(e){return e instanceof Re&&e.code.includes("request-failed")}function Ag({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function Eg(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function kg(e,t){const n=(await t.json()).error;return wg.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Sg({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}async function Ig(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Tg(e){return new Promise((t=>{setTimeout(t,e)}))}const Cg=/^[cdef][\w-]{21}$/;function Ng(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){return(t=e,btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return Cg.test(t)?t:""}catch(e){return""}}function Rg(e){return`${e.appName}!${e.appId}`}const _g=new Map;function xg(e,t){const n=Rg(e);Og(n,t),function(e,t){const n=(!Pg&&"BroadcastChannel"in self&&(Pg=new BroadcastChannel("[Firebase] FID Change"),Pg.onmessage=e=>{Og(e.data.key,e.data.fid)}),Pg);n&&n.postMessage({key:e,fid:t}),0===_g.size&&Pg&&(Pg.close(),Pg=null)}(n,t)}function Og(e,t){const n=_g.get(e);if(n)for(const e of n)e(t)}let Pg=null;const Dg="firebase-installations-store";let Lg=null;function Mg(){return Lg||(Lg=Ge("firebase-installations-database",1,((e,t)=>{0===t&&e.createObjectStore(Dg)}))),Lg}async function Ug(e,t){const n=Rg(e),r=(await Mg()).transaction(Dg,"readwrite"),i=r.objectStore(Dg),a=await i.get(n);return await i.put(t,n),await r.complete,a&&a.fid===t.fid||xg(e,t.fid),t}async function Fg(e){const t=Rg(e),n=(await Mg()).transaction(Dg,"readwrite");await n.objectStore(Dg).delete(t),await n.complete}async function Bg(e,t){const n=Rg(e),r=(await Mg()).transaction(Dg,"readwrite"),i=r.objectStore(Dg),a=await i.get(n),s=t(a);return void 0===s?await i.delete(n):await i.put(s,n),await r.complete,!s||a&&a.fid===s.fid||xg(e,s.fid),s}async function Vg(e){let t;const n=await Bg(e.appConfig,(n=>{const r=function(e){return qg(e||{fid:Ng(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(wg.create("app-offline"))};const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=Ag(e),i=Sg(e),a=t.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const s={fid:n,authVersion:"FIS_v2",appId:e.appId,sdkVersion:yg},o={method:"POST",headers:i,body:JSON.stringify(s)},l=await Ig((()=>fetch(r,o)));if(l.ok){const e=await l.json();return{fid:e.fid||n,registrationStatus:2,refreshToken:e.refreshToken,authToken:Eg(e.authToken)}}throw await kg("Create Installation",l)}(e,t);return Ug(e.appConfig,n)}catch(n){throw bg(n)&&409===n.customData.serverCode?await Fg(e.appConfig):await Ug(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:jg(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}));return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function jg(e){let t=await zg(e.appConfig);for(;1===t.registrationStatus;)await Tg(100),t=await zg(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await Vg(e);return n||t}return t}function zg(e){return Bg(e,(e=>{if(!e)throw wg.create("installation-not-found");return qg(e)}))}function qg(e){return 1===(t=e).registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function Hg({appConfig:e,heartbeatServiceProvider:t},n){const r=function(e,{fid:t}){return`${Ag(e)}/${t}/authTokens:generate`}(e,n),i=function(e,{refreshToken:t}){const n=Sg(e);return n.append("Authorization",function(e){return`FIS_v2 ${e}`}(t)),n}(e,n),a=t.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const s={installation:{sdkVersion:yg,appId:e.appId}},o={method:"POST",headers:i,body:JSON.stringify(s)},l=await Ig((()=>fetch(r,o)));if(l.ok)return Eg(await l.json());throw await kg("Generate Auth Token",l)}async function Kg(e,t=!1){let n;const r=await Bg(e.appConfig,(r=>{if(!Wg(r))throw wg.create("not-registered");const i=r.authToken;if(!t&&(2===(a=i).requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(a)))return r;var a;if(1===i.requestStatus)return n=async function(e,t){let n=await Gg(e.appConfig);for(;1===n.authToken.requestStatus;)await Tg(100),n=await Gg(e.appConfig);const r=n.authToken;return 0===r.requestStatus?Kg(e,t):r}(e,t),r;{if(!navigator.onLine)throw wg.create("app-offline");const t=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return n=async function(e,t){try{const n=await Hg(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await Ug(e.appConfig,r),n}catch(n){if(!bg(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Ug(e.appConfig,n)}else await Fg(e.appConfig);throw n}}(e,t),t}}));return n?await n:r.authToken}function Gg(e){return Bg(e,(e=>{if(!Wg(e))throw wg.create("not-registered");return 1===(t=e.authToken).requestStatus&&t.requestTime+1e4<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var t}))}function Wg(e){return void 0!==e&&2===e.registrationStatus}function Qg(e){return wg.create("missing-app-config-values",{valueName:e})}const Yg="installations";ft(new We(Yg,(e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Qg("App Configuration");if(!e.name)throw Qg("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Qg(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:pt(t,"heartbeat"),_delete:()=>Promise.resolve()}}),"PUBLIC")),ft(new We("installations-internal",(e=>{const t=pt(e.getProvider("app").getImmediate(),Yg).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await Vg(t);return r?r.catch(console.error):Kg(t).catch(console.error),n.fid}(t),getToken:e=>async function(e,t=!1){const n=e;return await async function(e){const{registrationPromise:t}=await Vg(e);t&&await t}(n),(await Kg(n,t)).token}(t,e)}}),"PRIVATE")),wt(gg,vg),wt(gg,vg,"esm2017");const Jg="analytics",Xg="https://www.googletagmanager.com/gtag/js",Zg=new it("@firebase/analytics");function $g(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}const ev=new _e("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),tv=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function nv(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function rv(e,t=tv,n){const{appId:r,apiKey:i,measurementId:a}=e.options;if(!r)throw ev.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw ev.create("no-api-key")}const s=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new av;return setTimeout((async()=>{o.abort()}),void 0!==n?n:6e4),iv({appId:r,apiKey:i,measurementId:a},s,o,t)}async function iv(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=tv){const{appId:a,measurementId:s}=e;try{await function(e,t){return new Promise(((n,r)=>{const i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener((()=>{clearTimeout(a),r(ev.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(r,t)}catch(e){if(s)return Zg.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${e.message}]`),{appId:a,measurementId:s};throw e}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:nv(r)},a="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),s=await fetch(a,i);if(200!==s.status&&304!==s.status){let e="";try{const n=await s.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(e){}throw ev.create("config-fetch-failed",{httpStatus:s.status,responseMessage:e})}return s.json()}(e);return i.deleteThrottleMetadata(a),t}catch(t){if(!function(e){if(!(e instanceof Re&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(t)){if(i.deleteThrottleMetadata(a),s)return Zg.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${t.message}]`),{appId:a,measurementId:s};throw t}const o=503===Number(t.customData.httpStatus)?Be(n,i.intervalMillis,30):Be(n,i.intervalMillis),l={throttleEndTimeMillis:Date.now()+o,backoffCount:n+1};return i.setThrottleMetadata(a,l),Zg.debug(`Calling attemptFetch again in ${o} millis`),iv(e,l,r,i)}}class av{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}class sv{constructor(e){this.app=e}_delete(){return delete ov[this.app.options.appId],Promise.resolve()}}let ov={},lv=[];const uv={};let cv,hv,dv="dataLayer",fv=!1;function pv(e,t,n){!function(){const e=[];if(Se()&&e.push("This is a browser extension environment."),"undefined"!=typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map(((e,t)=>`(${t+1}) ${e}`)).join(" "),n=ev.create("invalid-analytics-context",{errorInfo:t});Zg.warn(n.message)}}();const r=e.options.appId;if(!r)throw ev.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw ev.create("no-api-key");Zg.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ov[r])throw ev.create("already-exists",{id:r});if(!fv){!function(e){let t=[];Array.isArray(window.dataLayer)?t=window.dataLayer:window.dataLayer=t}();const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let a=function(...e){window.dataLayer.push(arguments)};return window.gtag&&"function"==typeof window.gtag&&(a=window.gtag),window.gtag=function(e,t,n,r){return async function(i,a,s){try{"event"===i?await async function(e,t,n,r,i){try{let a=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await $g(n);for(const n of e){const e=r.find((e=>e.measurementId===n)),i=e&&t[e.appId];if(!i){a=[];break}a.push(i)}}0===a.length&&(a=Object.values(t)),await Promise.all(a),e("event",r,i||{})}catch(e){Zg.error(e)}}(e,t,n,a,s):"config"===i?await async function(e,t,n,r,i,a){const s=r[i];try{if(s)await t[s];else{const e=(await $g(n)).find((e=>e.measurementId===i));e&&await t[e.appId]}}catch(e){Zg.error(e)}e("config",i,a)}(e,t,n,r,a,s):e("set",a)}catch(e){Zg.error(e)}}}(a,e,t,n),{gtagCore:a,wrappedGtag:window.gtag}}(ov,lv,uv);hv=e,cv=t,fv=!0}return ov[r]=async function(e,t,n,r,i,a,s){var o;const l=rv(e);l.then((t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Zg.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)})).catch((e=>Zg.error(e))),t.push(l);const u=async function(){if(!Ce())return Zg.warn(ev.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await Ne()}catch(e){return Zg.warn(ev.create("indexeddb-unavailable",{errorInfo:e}).message),!1}return!0}().then((e=>e?r.getId():void 0)),[c,h]=await Promise.all([l,u]);(function(){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Xg))return t;return null})()||function(e,t){const n=document.createElement("script");n.src=`${Xg}?l=${e}&id=${t}`,n.async=!0,document.head.appendChild(n)}(a,c.measurementId),i("js",new Date);const d=null!==(o=null==s?void 0:s.config)&&void 0!==o?o:{};return d.origin="firebase",d.update=!0,null!=h&&(d.firebase_id=h),i("config",c.measurementId,d),c.measurementId}(e,lv,uv,t,cv,dv,n),new sv(e)}const mv="@firebase/analytics",gv="0.7.8";ft(new We(Jg,((e,{options:t})=>pv(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t)),"PUBLIC")),ft(new We("analytics-internal",(function(e){try{const t=e.getProvider(Jg).getImmediate();return{logEvent:(e,n,r)=>function(e,t,n,r){e=Ve(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(hv,ov[e.app.options.appId],t,n,r).catch((e=>Zg.error(e)))}(t,e,n,r)}}catch(e){throw ev.create("interop-component-reg-failed",{reason:e})}}),"PRIVATE")),wt(mv,gv),wt(mv,gv,"esm2017");var vv=function(e,t={}){"object"!=typeof t&&(t={name:t});const n=Object.assign({name:"[DEFAULT]",automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw mt.create("bad-app-name",{appName:String(r)});const i=ct.get(r);if(i){if(Oe(e,i.options)&&Oe(n,i.config))return i;throw mt.create("duplicate-app",{appName:r})}const a=new Je(r);for(const e of ht.values())a.addComponent(e);const s=new gt(e,n,a);return ct.set(r,s),s}({apiKey:"AIzaSyDaw6lweyO0X0iWtkvP_n9dHtiL0XL5nQ8",authDomain:"triptracks-tw.firebaseapp.com",projectId:"triptracks-tw",storageBucket:"triptracks-tw.appspot.com",messagingSenderId:"527843874697",appId:"1:527843874697:web:c7137b65ab4ddb9008f358",measurementId:"G-0YTLTJKYJG"}),yv=(function(e=yt()){const t=pt(e=Ve(e),Jg);t.isInitialized()?t.getImmediate():function(e,t={}){const n=pt(e,Jg);if(n.isInitialized()){const e=n.getImmediate();if(Oe(t,n.getOptions()))return e;throw ev.create("already-initialized")}n.initialize({options:t})}(e)}(vv),function(e=yt()){const t=pt(e,"auth");return t.isInitialized()?t.getImmediate():function(e,t){const n=pt(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Oe(n.getOptions(),null!=t?t:{}))return e;Dt(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Qr,persistence:[gr,$n,tr]})}(vv)),wv=new qn,bv=function(e=yt()){return pt(e,"firestore").getImmediate()}(vv),Av=function(e=yt(),t){return pt(e=Ve(e),fg).getImmediate({identifier:t})}(vv);function Ev(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function kv(e){return!!e&&!!e[uy]}function Sv(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===cy}(e)||Array.isArray(e)||!!e[ly]||!!e.constructor[ly]||_v(e)||xv(e))}function Iv(e,t,n){void 0===n&&(n=!1),0===Tv(e)?(n?Object.keys:hy)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function Tv(e){var t=e[uy];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:_v(e)?2:xv(e)?3:0}function Cv(e,t){return 2===Tv(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Nv(e,t,n){var r=Tv(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function Rv(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function _v(e){return iy&&e instanceof Map}function xv(e){return ay&&e instanceof Set}function Ov(e){return e.o||e.t}function Pv(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=dy(e);delete t[uy];for(var n=hy(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function Dv(e,t){return void 0===t&&(t=!1),Mv(e)||kv(e)||!Sv(e)||(Tv(e)>1&&(e.set=e.add=e.clear=e.delete=Lv),Object.freeze(e),t&&Iv(e,(function(e,t){return Dv(t,!0)}),!0)),e}function Lv(){Ev(2)}function Mv(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function Uv(e){var t=fy[e];return t||Ev(18,e),t}function Fv(){return ny}function Bv(e,t){t&&(Uv("Patches"),e.u=[],e.s=[],e.v=t)}function Vv(e){jv(e),e.p.forEach(qv),e.p=null}function jv(e){e===ny&&(ny=e.l)}function zv(e){return ny={p:[],l:ny,h:e,m:!0,_:0}}function qv(e){var t=e[uy];0===t.i||1===t.i?t.j():t.O=!0}function Hv(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||Uv("ES5").S(t,e,r),r?(n[uy].P&&(Vv(t),Ev(4)),Sv(e)&&(e=Kv(t,e),t.l||Wv(t,e)),t.u&&Uv("Patches").M(n[uy].t,e,t.u,t.s)):e=Kv(t,n,[]),Vv(t),t.u&&t.v(t.u,t.s),e!==oy?e:void 0}function Kv(e,t,n){if(Mv(t))return t;var r=t[uy];if(!r)return Iv(t,(function(i,a){return Gv(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return Wv(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=Pv(r.k):r.o;Iv(3===r.i?new Set(i):i,(function(t,a){return Gv(e,r,i,t,a,n)})),Wv(e,i,!1),n&&e.u&&Uv("Patches").R(r,n,e.u,e.s)}return r.o}function Gv(e,t,n,r,i,a){if(kv(i)){var s=Kv(e,i,a&&t&&3!==t.i&&!Cv(t.D,r)?a.concat(r):void 0);if(Nv(n,r,s),!kv(s))return;e.m=!1}if(Sv(i)&&!Mv(i)){if(!e.h.F&&e._<1)return;Kv(e,i),t&&t.A.l||Wv(e,i)}}function Wv(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&Dv(t,n)}function Qv(e,t){var n=e[uy];return(n?Ov(n):e)[t]}function Yv(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Jv(e){e.P||(e.P=!0,e.l&&Jv(e.l))}function Xv(e){e.o||(e.o=Pv(e.t))}function Zv(e,t,n){var r=_v(t)?Uv("MapSet").N(t,n):xv(t)?Uv("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:Fv(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=py;n&&(i=[r],a=my);var s=Proxy.revocable(i,a),o=s.revoke,l=s.proxy;return r.k=l,r.j=o,l}(t,n):Uv("ES5").J(t,n);return(n?n.A:Fv()).p.push(r),r}function $v(e){return kv(e)||Ev(22,e),function e(t){if(!Sv(t))return t;var n,r=t[uy],i=Tv(t);if(r){if(!r.P&&(r.i<4||!Uv("ES5").K(r)))return r.t;r.I=!0,n=ey(t,i),r.I=!1}else n=ey(t,i);return Iv(n,(function(t,i){r&&function(e,t){return 2===Tv(e)?e.get(t):e[t]}(r.t,t)===i||Nv(n,t,e(i))})),3===i?new Set(n):n}(e)}function ey(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Pv(e)}var ty,ny,ry="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),iy="undefined"!=typeof Map,ay="undefined"!=typeof Set,sy="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,oy=ry?Symbol.for("immer-nothing"):((ty={})["immer-nothing"]=!0,ty),ly=ry?Symbol.for("immer-draftable"):"__$immer_draftable",uy=ry?Symbol.for("immer-state"):"__$immer_state",cy=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),hy="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,dy=Object.getOwnPropertyDescriptors||function(e){var t={};return hy(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},fy={},py={get:function(e,t){if(t===uy)return e;var n=Ov(e);if(!Cv(n,t))return function(e,t,n){var r,i=Yv(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!Sv(r)?r:r===Qv(e.t,t)?(Xv(e),e.o[t]=Zv(e.A.h,r,e)):r},has:function(e,t){return t in Ov(e)},ownKeys:function(e){return Reflect.ownKeys(Ov(e))},set:function(e,t,n){var r=Yv(Ov(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=Qv(Ov(e),t),a=null==i?void 0:i[uy];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(Rv(n,i)&&(void 0!==n||Cv(e.t,t)))return!0;Xv(e),Jv(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==Qv(e.t,t)||t in e.t?(e.D[t]=!1,Xv(e),Jv(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Ov(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){Ev(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Ev(12)}},my={};Iv(py,(function(e,t){my[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),my.deleteProperty=function(e,t){return my.set.call(this,e,t,void 0)},my.set=function(e,t,n){return py.set.call(this,e[0],t,n,e[0])};var gy=function(){function e(e){var t=this;this.g=sy,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,s=Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(s))}))}}var s;if("function"!=typeof n&&Ev(6),void 0!==r&&"function"!=typeof r&&Ev(7),Sv(e)){var o=zv(t),l=Zv(t,e,void 0),u=!0;try{s=n(l),u=!1}finally{u?Vv(o):jv(o)}return"undefined"!=typeof Promise&&s instanceof Promise?s.then((function(e){return Bv(o,r),Hv(e,o)}),(function(e){throw Vv(o),e})):(Bv(o,r),Hv(s,o))}if(!e||"object"!=typeof e){if(void 0===(s=n(e))&&(s=e),s===oy&&(s=void 0),t.F&&Dv(s,!0),r){var c=[],h=[];Uv("Patches").M(e,s,c,h),r(c,h)}return s}Ev(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){Sv(e)||Ev(8),kv(e)&&(e=$v(e));var t=zv(this),n=Zv(this,e,void 0);return n[uy].C=!0,jv(t),n},t.finishDraft=function(e,t){var n=(e&&e[uy]).A;return Bv(n,t),Hv(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!sy&&Ev(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=Uv("Patches").$;return kv(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),vy=new gy,yy=vy.produce;vy.produceWithPatches.bind(vy),vy.setAutoFreeze.bind(vy),vy.setUseProxies.bind(vy),vy.applyPatches.bind(vy),vy.createDraft.bind(vy),vy.finishDraft.bind(vy);const wy=yy;function by(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ay(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ey(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ay(Object(n),!0).forEach((function(t){by(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ay(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ky(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Sy="function"==typeof Symbol&&Symbol.observable||"@@observable",Iy=function(){return Math.random().toString(36).substring(7).split("").join(".")},Ty={INIT:"@@redux/INIT"+Iy(),REPLACE:"@@redux/REPLACE"+Iy(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Iy()}};function Cy(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Ny(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(ky(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(ky(1));return n(Ny)(e,t)}if("function"!=typeof e)throw new Error(ky(2));var i=e,a=t,s=[],o=s,l=!1;function u(){o===s&&(o=s.slice())}function c(){if(l)throw new Error(ky(3));return a}function h(e){if("function"!=typeof e)throw new Error(ky(4));if(l)throw new Error(ky(5));var t=!0;return u(),o.push(e),function(){if(t){if(l)throw new Error(ky(6));t=!1,u();var n=o.indexOf(e);o.splice(n,1),s=null}}}function d(e){if(!Cy(e))throw new Error(ky(7));if(void 0===e.type)throw new Error(ky(8));if(l)throw new Error(ky(9));try{l=!0,a=i(a,e)}finally{l=!1}for(var t=s=o,n=0;n<t.length;n++)(0,t[n])();return e}function f(e){if("function"!=typeof e)throw new Error(ky(10));i=e,d({type:Ty.REPLACE})}function p(){var e,t=h;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(ky(11));function n(){e.next&&e.next(c())}return n(),{unsubscribe:t(n)}}})[Sy]=function(){return this},e}return d({type:Ty.INIT}),(r={dispatch:d,subscribe:h,getState:c,replaceReducer:f})[Sy]=p,r}function Ry(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function _y(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(ky(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=Ry.apply(void 0,a)(n.dispatch),Ey(Ey({},n),{},{dispatch:r})}}}function xy(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"==typeof i?i(n,r,e):t(i)}}}}var Oy=xy();Oy.withExtraArgument=xy;const Py=Oy;var Dy,Ly=(Dy=function(e,t){return Dy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Dy(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Dy(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),My=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},Uy=Object.defineProperty,Fy=Object.defineProperties,By=Object.getOwnPropertyDescriptors,Vy=Object.getOwnPropertySymbols,jy=Object.prototype.hasOwnProperty,zy=Object.prototype.propertyIsEnumerable,qy=function(e,t,n){return t in e?Uy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Hy=function(e,t){for(var n in t||(t={}))jy.call(t,n)&&qy(e,n,t[n]);if(Vy)for(var r=0,i=Vy(t);r<i.length;r++)n=i[r],zy.call(t,n)&&qy(e,n,t[n]);return e},Ky=function(e,t){return Fy(e,By(t))},Gy="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?Ry:Ry.apply(null,arguments)};"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;var Wy=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Ly(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,My([void 0],e[0].concat(this)))):new(t.bind.apply(t,My([void 0],e.concat(this))))},t}(Array);function Qy(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return Hy(Hy({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function Yy(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"==typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function Jy(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:wy(e.initialState,(function(){})),i=e.reducers||{},a=Object.keys(i),s={},o={},l={};function u(){var t="function"==typeof e.extraReducers?Yy(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,a=t[1],s=void 0===a?[]:a,l=t[2],u=void 0===l?void 0:l,c=Hy(Hy({},i),o);return function(e,t,n,r){void 0===n&&(n=[]);var i,a="function"==typeof t?Yy(t):[t,n,r],s=a[0],o=a[1],l=a[2];if(function(e){return"function"==typeof e}(e))i=function(){return wy(e(),(function(){}))};else{var u=wy(e,(function(){}));i=function(){return u}}function c(e,t){void 0===e&&(e=i());var n=My([s[t.type]],o.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[l]),n.reduce((function(e,n){if(n){var r;if(kv(e))return void 0===(r=n(e,t))?e:r;if(Sv(e))return wy(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return c.getInitialState=i,c}(r,c,s,u)}return a.forEach((function(e){var n,r,a=i[e],u=t+"/"+e;"reducer"in a?(n=a.reducer,r=a.prepare):n=a,s[e]=n,o[u]=n,l[e]=r?Qy(u,r):Qy(u)})),{name:t,reducer:function(e,t){return n||(n=u()),n(e,t)},actions:l,caseReducers:s,getInitialState:function(){return n||(n=u()),n.getInitialState()}}}var Xy=["name","message","stack","code"],Zy=function(e,t){this.payload=e,this.meta=t},$y=function(e,t){this.payload=e,this.meta=t},ew=function(e){if("object"==typeof e&&null!==e){for(var t={},n=0,r=Xy;n<r.length;n++){var i=r[n];"string"==typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}};function tw(e,t,n){var r=Qy(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:Ky(Hy({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=Qy(e+"/pending",(function(e,t,n){return{payload:void 0,meta:Ky(Hy({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),a=Qy(e+"/rejected",(function(e,t,r,i,a){return{payload:i,error:(n&&n.serializeError||ew)(e||"Rejected"),meta:Ky(Hy({},a||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),s="undefined"!=typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){}}}return e.prototype.abort=function(){},e}();return Object.assign((function(e){return function(o,l,u){var c,h=(null==n?void 0:n.idGenerator)?n.idGenerator(e):function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t}(),d=new s,f=new Promise((function(e,t){return d.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:c||"Aborted"})}))})),p=!1,m=function(){return s=this,c=null,m=function(){var s,c,m,g,v;return function(e,t){var n,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}}(this,(function(y){switch(y.label){case 0:return y.trys.push([0,4,,5]),null===(w=g=null==(s=null==n?void 0:n.condition)?void 0:s.call(n,e,{getState:l,extra:u}))||"object"!=typeof w||"function"!=typeof w.then?[3,2]:[4,g];case 1:g=y.sent(),y.label=2;case 2:if(!1===g)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return p=!0,o(i(h,e,null==(c=null==n?void 0:n.getPendingMeta)?void 0:c.call(n,{requestId:h,arg:e},{getState:l,extra:u}))),[4,Promise.race([f,Promise.resolve(t(e,{dispatch:o,getState:l,extra:u,requestId:h,signal:d.signal,rejectWithValue:function(e,t){return new Zy(e,t)},fulfillWithValue:function(e,t){return new $y(e,t)}})).then((function(t){if(t instanceof Zy)throw t;return t instanceof $y?r(t.payload,h,e,t.meta):r(t,h,e)}))])];case 3:return m=y.sent(),[3,5];case 4:return v=y.sent(),m=v instanceof Zy?a(null,h,e,v.payload,v.meta):a(v,h,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&a.match(m)&&m.meta.condition||o(m),[2,m]}var w}))},new Promise((function(e,t){var n=function(e){try{i(m.next(e))}catch(e){t(e)}},r=function(e){try{i(m.throw(e))}catch(e){t(e)}},i=function(t){return t.done?e(t.value):Promise.resolve(t.value).then(n,r)};i((m=m.apply(s,c)).next())}));var s,c,m}();return Object.assign(m,{abort:function(e){p&&(c=e,d.abort())},requestId:h,arg:e,unwrap:function(){return m.then(nw)}})}}),{pending:i,rejected:a,fulfilled:r,typePrefix:e})}function nw(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var rw="listenerMiddleware";Qy(rw+"/add"),Qy(rw+"/removeAll"),Qy(rw+"/remove"),function(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[uy];return py.get(t,e)},set:function(t){var n=this[uy];py.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][uy];if(!i.P)switch(i.i){case 5:r(i)&&Jv(i);break;case 4:n(i)&&Jv(i)}}}function n(e){for(var t=e.t,n=e.k,r=hy(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==uy){var s=t[a];if(void 0===s&&!Cv(t,a))return!0;var o=n[a],l=o&&o[uy];if(l?l.t!==s:!Rv(o,s))return!0}}var u=!!t[uy];return r.length!==hy(t).length+(u?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};!function(e,t){fy[e]||(fy[e]=t)}("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=dy(n);delete a[uy];for(var s=hy(a),o=0;o<s.length;o++){var l=s[o];a[l]=e(l,t||!!a[l].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:Fv(),P:!1,I:!1,D:{},l:n,t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,uy,{value:a,writable:!0}),i},S:function(e,n,i){i?kv(n)&&n[uy].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[uy];if(n){var i=n.t,a=n.k,s=n.D,o=n.i;if(4===o)Iv(a,(function(t){t!==uy&&(void 0!==i[t]||Cv(i,t)?s[t]||e(a[t]):(s[t]=!0,Jv(n)))})),Iv(i,(function(e){void 0!==a[e]||Cv(a,e)||(s[e]=!1,Jv(n))}));else if(5===o){if(r(n)&&(Jv(n),s.length=!0),a.length<i.length)for(var l=a.length;l<i.length;l++)s[l]=!1;else for(var u=i.length;u<a.length;u++)s[u]=!0;for(var c=Math.min(a.length,i.length),h=0;h<c;h++)a.hasOwnProperty(h)||(s[h]=!0),void 0===s[h]&&e(a[h])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}();var iw=tw("user/getAvatar",function(){var e=C(_().mark((function e(t){var n;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,om(dp(bv,"user",t));case 2:return n=e.sent,e.abrupt("return",n.data().avatar);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),aw=Jy({name:"user",initialState:{userId:null,username:null,email:null,avatar:null},reducers:{setUser:function(e,t){var n=t.payload,r=n.userId,i=n.username,a=n.email;e.userId=r,e.username=i,e.email=a},changeAvatar:function(e,t){e.avatar=t.payload},changeName:function(e,t){e.username=t.payload,window.localStorage.getItem("username")&&window.localStorage.setItem("username",t.payload)}},extraReducers:function(e){e.addCase(iw.fulfilled,(function(e,t){e.avatar=t.payload}))}}),sw=aw.actions,ow=sw.setUser,lw=sw.changeAvatar,uw=sw.changeName;const cw=aw.reducer,hw=function(){return e.createElement("div",{className:"loading-container"},e.createElement("div",{className:"loading"},e.createElement("div",null,"T"),e.createElement("div",null,"r"),e.createElement("div",null,"i"),e.createElement("div",null,"p"),e.createElement("div",null,"T"),e.createElement("div",null,"r"),e.createElement("div",null,"a"),e.createElement("div",null,"c"),e.createElement("div",null,"k"),e.createElement("div",null,"s")))},dw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAABmJLR0QA/wD/AP+gvaeTAAADoElEQVRIid2WbUxTVxjH/+f03haKUAuRsfJWq7JkAgN8w+gymJmbmuzDNvWDin5Z1Li4sGRLZpeFaDbfohiNmdElJs5Ep8kyw158GSCZbzHqDDqMTloWWDsYlIK02N57z9mHrdjbe1uuhk/+P537nOf+f7e9z/OcCzzvIkYT+WZxFkxsI4ZRBoXlgBAOC+lDGjow2dRIGqIdEwLk9bQePv45/HwyeAqXfBJAseAmO6RDzwTkH6IIg/QyvKxgvIdSyUW6MJXPIw3o09umujC3WA0vefDUMADwcCc89EaybQ2QfwIH7soXMcgtTw0DgGwSRYHp7WTbgibSS68hwLSwSYTBRZthx2EIykUAFI9Nr2EIG+BlNQhxihwSQYVYlaqAVO+Q7zEvR1P0FJSErELih5PPIl/Cr2fC3ShEH/0e+cKa8apVDWyztMDHa/GtBAz8X5JO2oPHbBo5jWgqI6MaA/JfMl6AKPsAUEQANMnAQ8ZQxgvJLvgmAgbEv0NBWYpYEVkAvCcAXWwfWSvpwj4+0LDXEIAooQwS/fmzTTuvqIEU0zWN7cKxZEbHu9+pNwIEgGV5LbUAFv6HiYkxhyZTljqNmqbSiGLNja2fAKnO4BKNz9pU4iBj3nGNT7UlL4nTJgKYTiP9sXV84/8RnxTiIs5J+R8B9+v0TFYXfteoF38Qcq26HqjIjY/ZzcHfY+snbXF5Ui5kyQfA5FGysH2kEqNMZDXm7uL3l7b3GPkljV9tcH7916rOQNSmGpmrX2yq3F3vvq0CAgBvszRfiBS8fij8MqLcBAAoFQZ7qkZznStWnE6cPyqtO3o0rd8vem8Gy/Pi46/Y7gXOulfmxK5VT3IyXPLN/lDZGAwA7sr2gt+svV1HfipPenIca5pZJDzq7UiEAcCMzM5t8deaKtzyw6t/tks5RYlxG5FYuXmgNc80ciQTo63BdMLlcEZtQLGub5eya8LMTKl3Ma72Lhi7Z679dveZT+tUXprTojirv/qfwXSvn1lVJ8YQF+mvkbxFABYBAMIJNxIOMvU83rL6ca7rXRSl+yIvUU91or9un504Xzq7ZdRxKRFqVK6gI5j9yL6kYfMX1wwBAeDAmUqHj2ZevSNna/7eVKoy93umC/75dW926n5ijDtJ9p+t+sArZW19KNvsPEk6AUeJMDRQIgxvWb/k1uFUfoZH18Ef51QolG0KsLRSmZEpBISnEeXvLFO0wyawfXVv3Lpn1Ov51r/ysEdqEp4VkwAAAABJRU5ErkJggg==",fw=function(t){var n=t.isSignModalOpen,r=t.setIsSignModalOpen,i=t.setIsUserStateProcessing,a=A(),s=ne(),o=I((0,e.useState)(!0),2),l=o[0],u=o[1],c=I((0,e.useState)(""),2),h=c[0],d=c[1],f=I((0,e.useState)("test@gmail.com"),2),p=f[0],m=f[1],g=I((0,e.useState)("testtest"),2),v=g[0],y=g[1],w=I((0,e.useState)(""),2),b=w[0],E=w[1],k=l?"sign-in-container":"display-none",S=l?"display-none":"sign-up-container";(0,e.useEffect)((function(){d(""),E(""),u(!0)}),[n]);var T=function(){var e=C(_().mark((function e(t){var n,r,o;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),p&&v){e.next=5;break}E("Please enter your email and password"),e.next=18;break;case 5:return i(!0),e.prev=6,n=Zp(hp(bv,"user"),em("email","==",p),em("password","==",v)),e.next=10,um(n);case 10:(r=e.sent).empty?(i(!1),E("Wrong Email or password. Please try again.")):(o=r.docs[0],a(ow({userId:o.id,username:o.data().name,email:o.data().email})),window.localStorage.setItem("userId",o.id),window.localStorage.setItem("username",o.data().name),window.localStorage.setItem("email",o.data().email),i(!1),s("/dashboard")),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(6),i(!1),E("Something went wrong. PLease try later.");case 18:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=C(_().mark((function e(t){var n,r;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),h&&p&&v){e.next=6;break}i(!1),E("Please enter your username, email and password"),e.next=27;break;case 6:return i(!0),e.prev=7,n=Zp(hp(bv,"user"),em("email","==",p),em("password","==",v)),e.next=11,um(n);case 11:if(!e.sent.empty){e.next=19;break}return e.next=15,fm(hp(bv,"user"),{name:h,email:p,password:v,tripId:[],FirstEntryTime:mm(),avatar:"default"});case 15:(r=e.sent).id&&(a(ow({userId:r.id,username:h,email:p})),window.localStorage.setItem("userId",r.id),window.localStorage.setItem("username",h),window.localStorage.setItem("email",p),i(!1),s("/dashboard")),e.next=21;break;case 19:i(!1),E("This email has already been registered");case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(7),i(!1),E("Something went wrong. PLease try later.");case 27:case"end":return e.stop()}}),e,null,[[7,23]])})));return function(t){return e.apply(this,arguments)}}(),R=function(){d(""),E(""),u((function(e){return!e}))},x=function(){try{r(!1),async function(e,t,n){const r=_n(e);!function(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Dt(e,"argument-error"),Mt(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(e,t,Vn);const i=wr(r,void 0);new Tr(r,"signInViaPopup",t,i).executeNotNull()}(yv,wv)}catch(e){console.log("google sign in err",e)}};return e.createElement("div",{className:"auth-container"},e.createElement("div",{className:k},e.createElement("div",{className:"auth-title"},"Sign in to TripTracks"),e.createElement("div",{onClick:function(){return r(!1)},className:"close-btn"},""),e.createElement("form",{className:"auth-form",onSubmit:T},e.createElement("input",{type:"email",placeholder:"Email",value:p,onChange:function(e){return m(e.target.value)}}),e.createElement("br",null),e.createElement("input",{type:"password",placeholder:"Password",value:v,onChange:function(e){return y(e.target.value)}}),e.createElement("br",null),e.createElement("input",{type:"submit",value:"Sign In"})),e.createElement("div",{className:"auth-separate-line"},e.createElement("div",{className:"straight-line"}),e.createElement("div",null,"or"),e.createElement("div",{className:"straight-line"})),e.createElement("div",{className:"google-auth",onClick:x},e.createElement("img",{src:dw}),"Sign In with Google"),e.createElement("div",{className:"alert"},b),e.createElement("div",{className:"switch-form",onClick:R},"Don't have an account yet?",e.createElement("span",null,"Sign up"))),e.createElement("div",{className:S},e.createElement("div",{className:"auth-title"},"Sign up to TripTracks"),e.createElement("div",{onClick:function(){return r(!1)},className:"close-btn"},""),e.createElement("form",{className:"auth-form",onSubmit:N},e.createElement("input",{type:"text",placeholder:"Username",value:h,onChange:function(e){return d(e.target.value)}}),e.createElement("br",null),e.createElement("input",{type:"email",placeholder:"Email",value:p,onChange:function(e){return m(e.target.value)}}),e.createElement("br",null),e.createElement("input",{type:"password",placeholder:"Password",value:v,onChange:function(e){return y(e.target.value)}}),e.createElement("br",null),e.createElement("input",{type:"submit",value:"Sign Up"})),e.createElement("div",{className:"auth-separate-line"},e.createElement("div",{className:"straight-line"}),e.createElement("div",null,"or"),e.createElement("div",{className:"straight-line"})),e.createElement("div",{className:"google-auth",onClick:x},e.createElement("img",{src:dw}),"Sign Up with Google"),e.createElement("div",{className:"alert"},b),e.createElement("div",{className:"switch-form",onClick:R},"Already have an account?",e.createElement("span",null,"Sign in"))))},pw=n.p+"img/function_demo_01.png",mw=n.p+"img/function_demo_02.png",gw=n.p+"img/function_demo_03.png",vw=n.p+"img/map_demo.gif",yw=n.p+"img/RWD.png",ww=function(){var t=f((function(e){return e.user.userId})),n=I((0,e.useState)(!1),2),r=n[0],i=n[1],a=I((0,e.useState)(!1),2),s=a[0],o=a[1],l=r?"auth-modal":"display-none",u=s?"user-state-loading":"display-none",c=ne();return e.createElement("div",null,e.createElement("div",{className:u}),e.createElement("div",{className:"home-hero"},e.createElement("div",{className:"home-title"},e.createElement("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAAElElEQVRoge2YTWhcVRTH/+e+12SapNTppGkDxkRtRbAGJCAJkmYyEeoH4he6sbSmSESwKxF0URy6UUFw0YVSQo0l4KIUhFS7MenERBq6UJpuhFaaBCHJJOMYOmYmmbn3uIgfM+O7b+7LvEkjzA9mMfee++7/vHfuxzlAlSpVqvyfICOrcNRuErdbc2Q1CSCggIzNMh5X988iFs1VWKMRJR1pPDLQzNlcJ4EDxX0MylB2fWp5Yni+MvLMsdw6G48MNGNN9hDxDqd+AmyQaK1rOZRYnZtOVUaiGULbE47anM11Qij3ryaIeEdNJzoGHJ3dKrQimyLHH1QQj5s+SAIhYjxanhhaA9SCIvFTqLZ+7NblM2umY21dRw5in/5zOYgg7CXGgIchDjAAgmBGMpP6PRQ58XGwtv5TE4e0WoWUtV4kCIk7XuwNuAfMHybTqStNfW/sKzm/rkPZdsbLrMrCLi/2xhC6pFLf3Nv1yk43M21o2SzjCqLNdD5mLAE460GiA0QEPgigGwU7Knes1jacBvCudqT2meGwHRIPPOd0fhTDxOmEnLmEWMyXwzHYd6xdKOsigAN5zRlLWG3x0cFFpzH69RyL5Si7PgXF7DqrYhYSU345AQDJ0fPTQvIzAPLDO6CUel43xnVjWp4YnofMjTPIcb0wcZqA2FJsaGFzkvUsfT90E6ALhfOpLp19yR12eWJ4PqHuG8lCXVOSZiBpQUmayUJdS8iZS5Vw4m+Icb3wv9ivs9Uu9gJi0dwK8As2flsGCw4iL7AZ6g+drZczb2uJRgUYLxS0kbilM9+2jjSOz34A4JH8NgH6VmdvFloOBJ8c2K0yKV9fRI1dU8vAw0x0koGXirp/XDrcMokx57FmiRU2hAuVewvML2PjTbmetD6TVUyRZOzcpM7A6IuEIidehMwOAtjjmzRzFIHednMCKJFYAUBjuP9NAOcB1PmlzAOLRPza8pUvvipl6Bpawd7jTwiIcRg47CMZANcJdBHr+Hz5h3NGt2q30CJB4jNwkROMEbb4jCVxYz23bpz4mCACDSr53dmVzYzVOhKK9PeiOONj/igRG3p/MxNVGu32ycxPFTX9nEDbqQrr2TRaRwj0UP5/Bo9slxqWE25rpCAPESwc8wDfKLMI6OZIwa2WidvLFqthowg416kgAuKv9EcAUBBtITHXTt1HSxYB9aFFNFXU9Orew68fLFt1Ef8UATWZKIEDsOyexu6jzW7P0Tui1NcoztAsuhzsO+bfl/GxCOj6gD2R/k+I8U5RswIwQYSbiqGMRTtNTrhBQMLUPgt1bWXsS8ecyPWuVZdOnUoHdoUB7shrFgB6mNFjfOPUwIzTROaOWGQ1QZPcuV7Df716IW0J8SwYVz1qNEIo9lT4FlJpi4Yl84n46OBicGdDL5jfAyjpZeJSKEvUe7TXXok8RceBp0/W/pa+00tEjwHUzGBPZdX/TO7jGik3zMvDxyLg3c3ZfSwCbmWe4cjq3HSqruVQgi17PznsokycFozJUvWzuxta+YSj9m5xu9WS/961pCXjK2p21s9ybJUqVapsD/4EhTLNw/60vgoAAAAASUVORK5CYII="}),"TripTracks"),e.createElement("div",{className:"home-slogan"},e.createElement("h1",null,"Explore the world with our trip planner"),e.createElement("div",{className:"home-slogan-text"},e.createElement("h3",null,"Travel needs to be simple"),e.createElement("h3",null,"Build and map your itineraries in a easier may")),e.createElement("button",{onClick:function(){t?c("/dashboard"):i(!0)}},"Start planning"))),e.createElement("div",{className:"home-description"},e.createElement("div",{className:"home-part1"},e.createElement("div",{className:"home-part1-text"},e.createElement("h2",null,"A map is your daily itinerary"),e.createElement("h3",null,"Separate daily itineraries by maps. Easy to switch between different days."),e.createElement("h3",null,"Follow the track you planned, and enjoy a wonderful trip.")),e.createElement("img",{src:vw})),e.createElement("div",{className:"home-part2"},e.createElement("h2",null,"Easy to use"),e.createElement("div",{className:"home-part2-imgs"},e.createElement("img",{src:pw}),e.createElement("img",{src:mw}),e.createElement("img",{src:gw}))),e.createElement("div",{className:"home-part3"},e.createElement("img",{src:yw}),e.createElement("div",{className:"home-part3-text"},e.createElement("h2",null,"Easy to browse"),e.createElement("h3",null,"We support desktop and a mobile device."),e.createElement("h3",null,"Arrange your trip in anywhere and wherever you want")))),e.createElement("div",{className:l},e.createElement(fw,{isSignModalOpen:r,setIsSignModalOpen:i,setIsUserStateProcessing:o})))};var bw=function(){var e=C(_().mark((function e(t){var n,r,i;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Zp(hp(bv,"trips"),em("userId","==",t)),e.next=3,um(n);case 3:return r=e.sent,i=[],r.forEach((function(e){var t={tripId:e.id,destination:e.data().destination,destinationLatLng:e.data().destinationLatLng,tripName:e.data().tripName,startDate:e.data().startDate,endDate:e.data().endDate,cover:e.data().cover};i.push(t)})),e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Aw=function(){var e=C(_().mark((function e(t){var n,r,i,a,s,o,l,u,c,h,d,f;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.userId,r=t.destination,i=t.destinationLatLng,a=t.tripName,s=t.startDate,o=t.endDate,e.next=3,fetch("https://api.unsplash.com/photos/random?query=nature&count=1&client_id=".concat("JE3VonyXDV9yMj109du3GIi54Gpzge1A3aW0F2mscL0"),{method:"GET"}).then((function(e){return e.json()})).then((function(e){return e[0].urls.thumb})).catch((function(e){console.log("err",e)}));case 3:return l=e.sent,e.prev=4,e.next=7,fm(hp(bv,"trips"),{userId:n,timestamp:mm(),destination:r,destinationLatLng:i,tripName:a,startDate:s,endDate:o,cover:l});case 7:if(!(u=e.sent).id){e.next=21;break}hm(dp(bv,"user",n),{tripId:gm(u.id)}),c=new Date(s),h=new Date(o),d=(h-c)/864e5+1,f=0;case 14:if(!(f<d)){e.next=20;break}return e.next=17,fm(hp(bv,"trips",u.id,"tracks"),{mapCenter:i,zoom:9,directions:[]});case 17:f++,e.next=14;break;case 20:return e.abrupt("return",u.id);case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(4),console.log("Error creating new trip: ",e.t0);case 26:case"end":return e.stop()}}),e,null,[[4,23]])})));return function(t){return e.apply(this,arguments)}}(),Ew=function(){var e=C(_().mark((function e(t){var n,r,i;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.userId,r=t.tripId,e.prev=1,e.next=4,dm(dp(bv,"trips",r));case 4:return e.next=6,hm(dp(bv,"user",n),{tripId:vm(r)});case 6:return e.next=8,bw(n);case 8:return i=e.sent,e.abrupt("return",i);case 12:e.prev=12,e.t0=e.catch(1),console.log("Error updating pinList",e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),kw=tw("dashboard/asyncFetchTripList",function(){var e=C(_().mark((function e(t){var n;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bw(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Sw=tw("dashboard/asyncCreateNewTrip",function(){var e=C(_().mark((function e(t){var n;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Aw(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Iw=tw("dashboard/asyncDeleteTrip",function(){var e=C(_().mark((function e(t){var n;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ew(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Tw=Jy({name:"dashboard",initialState:{tripList:[],newtTripId:null,isProcessing:!1,isNewTrip:!1},reducers:{resetNewTrip:function(e){e.isNewTrip=!1}},extraReducers:function(e){e.addCase(kw.pending,(function(e){e.isProcessing=!0})).addCase(kw.fulfilled,(function(e,t){e.tripList=t.payload,e.isProcessing=!1})).addCase(Sw.pending,(function(e){e.isProcessing=!0})).addCase(Sw.fulfilled,(function(e,t){e.newtTripId=t.payload,e.isProcessing=!1,e.isNewTrip=!0})).addCase(Iw.pending,(function(e){e.isProcessing=!0})).addCase(Iw.fulfilled,(function(e,t){e.tripList=t.payload,e.isProcessing=!1}))}}),Cw=Tw.actions.resetNewTrip;const Nw=Tw.reducer,Rw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAABJUlEQVRYhe2WQU7DMBBFn1GF5CPQK2SbeJOzlGMU2ACCm5SrlG7sbY7QXsERi5gFsmSlDaS2SxDKW9mxPPPzx04GZgYwxjhjjLv0/qvYBLkQftA0zXXbtq/OuRVwkznPAXiTUj4WRfERLiz8wFr7AqwzJ/YsgTtrrQMeTgoAVgBd19VKqZ2vX1mWggjC/VrrWgixBW77AsIzsARQSu1iEn5HVVXvYY6QRf+BJ/bNz90/+S04ciDl7sfw9xxIrf0QQ85O7sBoAf1v+7nzZAEXJ/XvFxt/cgcGBaTWfD4DY+NP7kC2M5BdwG8xuh/4aR5L6MABQGtd5wgcEsTc99dCBzbAvRBia4zJrSHMcVqAlPLJWgtfjeNR75bIHthIKZ8zx535B3wCkWzAoDWI/ZoAAAAASUVORK5CYII=",_w="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAAD10lEQVRoge1ZXWscVRh+3hPTTdZ81IuCFJRFsykaSnBzVkF64V54Vy8NeJPeC174B/wLgjf9AZUK8UKhfyFi2UzTVslFskkEoUVaawK7m9XdnPN40cmymcxMzuzODIj7wMBw3s9n3vedOTMDjDHGGHGQtB16nlcUkRWSr4cGFPmD5AOt9XGacVMlUq/XP1RKfQ/g6gWqT5RSn1YqlZ/Tip0aEc/zJgHsA3jD0eT3ZrP5dq1WO0kj/itpOAEApdS71tpTEl0Av0aoXgdwCcCb8/PzSwAepxE/NSLGmNdE+gV+qrXWYXqe5/0GoHRqk1b8oVtre3t75vj4uKyUWiRZJvm+iHzii5skvwsNKPIZgFkAIHlPROoi0rDW7haLxcbS0lJrmHxiiayvr08sLCxcs9YuikiZZBlAGcAiLh7oYfEUwC6Ahog0SDaUUrt7e3s7q6urJsootrVKpdJ1a+1DACCZbrrRuOofH53GtNaiVCq9B+BRlJHKJ7fsEVuRbre7XygUPs4rmTh0u939OLnTsG9tbV0xxswaY7rFYrHtO25prXtpJJkGnIh4nvcNgC8ixARw5J//A+B069EC0CNJpdQRAJDsy0Wkaa09UUqRZJh9U0ROAPyysrJy/6IcXZ8jz2NkAiDyeSAioTcKkpGyQR0AXwG4kIjrsP/pqJcFnGI7ESEZV5FM4Rr7/0UE4eWtk1wDcDfGbhfA5/7RiFIi+S3JNRHZdIx9Dk5ECoXCuatCcq1ard45ODhYw8ttRRCHSqkbWuvbWuvbk5OTNwAchug90VrfqlardwDcCgqttekR2dnZeQHADq4ZY44AwN//PAvakNyoVCr9C7C8vPwMwE8h7p+LiAWAXq/3V0BmO53OC5ccnYj4yZ65miJSjHWsVDu4JiKxO9uJiYlXA0uHri9eSfZaZ9pLKRUMOjJEJOjT+SYzNJGQoCMjLyJnhk4pNZPA1gnW2jM+k9z2nYkEnRpjUq8IgKBP5x2FMxGlVPDqZN5aITEjMXRr5TEjmbQWzg9eHq2V/YxkURFrbfYzEiQSEnRk5NJaJDOfEQRayxiTPpF2u537jHQ6nfRbq1ar/Y2X7+EAABFJ/YFIctBn04/phKTftfpVyWFGEr3MDU0khxlJ9J0gKZFB51kTSVSRpL8VBp1f3tzcfMs/LwQVSc4MyPtrIT4LA3rzA+uJKjIKkWsiEvcZ86aI3HTw+U6En+xmhORWEv1RICJeEv1ERFqt1g8A8iDzYG5u7sckBon/WG1sbMxOTU19CeADEbmU1D4OJLsA7k9PT3897J+rMcYYY4z/Bv4FJF+PenAW8F0AAAAASUVORK5CYII=",xw=function(t){var n=t.trip,r=t.index,i=t.openedTripCardOptionModal,a=t.setOpenedTripCardOptionModal,s=ne(),o=f((function(e){return e.user.userId})),l=A(),u=(0,e.useRef)(),c=new Date(n.startDate),h=new Date(n.endDate),d=c.toDateString().split(" ")[1],p=c.toDateString().split(" ")[2],m=h.toDateString().split(" ")[1],g=h.toDateString().split(" ")[2],v="".concat(d," ").concat(p," - ").concat(m," ").concat(g);return e.createElement("div",{className:"trip-card"},e.createElement("div",{className:"trip-card-cover"},e.createElement("div",{className:"trip-card-option",onClick:function(e){i?i==u.current?"trip-card-option-modal"==u.current.className?(u.current.parentNode.className="trip-card-option",u.current.className="display-none"):(u.current.parentNode.className="trip-card-option-opened",u.current.className="trip-card-option-modal"):(i.parentNode.className="trip-card-option",i.className="display-none",u.current.className="trip-card-option-modal",u.current.parentNode.className="trip-card-option-opened",a(u.current)):(u.current.parentNode.className="trip-card-option-opened",u.current.className="trip-card-option-modal",a(u.current))}},e.createElement("img",{id:r,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAAlElEQVRYhe3SMQ7CMAwF0O8KMceHy0i5BYiFIrhJGXO3JDMDZkOt2zFVl/+2ON+RZQUgIiLamUwPMcajqr4AnACYmb1rrfeU0mer3GHaEEJ4Arj8pxO5qqoBuG2V62brEOmXS8LZF1rmOndpKw3flVqznB9g9GkRWdRa5mZ/oJQyqCoA9ABMRMac88M/0jpHRES0qx8HKVdkOZwqmQAAAABJRU5ErkJggg=="}),e.createElement("div",{className:"display-none",ref:u,onClick:function(){return e=n.tripId,void l(Iw({userId:o,tripId:e}));var e},title:"Delete"},e.createElement("img",{src:_w}),e.createElement("div",null,"Delete"))),e.createElement("div",{style:{backgroundImage:"url(".concat(n.cover)},className:"trip-card-img",onClick:function(){return s("/trip/".concat(n.tripId))}})),e.createElement("div",{className:"trip-card-content",onClick:function(){return s("/trip/".concat(n.tripId))}},e.createElement("div",{className:"trip-name"},n.tripName),e.createElement("div",{className:"trip-card-date"},e.createElement("img",{className:"calendar-icon",src:Rw}),e.createElement("div",{className:"duration"},v))))};var Ow=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!=i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;0!=i--;){var s=a[i];if(!e(t[s],n[s]))return!1}return!0}return t!=t&&n!=n};const Pw="__googleMapsScriptId";var Dw;!function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"}(Dw||(Dw={}));class Lw{constructor({apiKey:e,authReferrerPolicy:t,channel:n,client:r,id:i=Pw,language:a,libraries:s=[],mapIds:o,nonce:l,region:u,retries:c=3,url:h="https://maps.googleapis.com/maps/api/js",version:d}){if(this.CALLBACK="__googleMapsCallback",this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=e,this.authReferrerPolicy=t,this.channel=n,this.client=r,this.id=i||Pw,this.language=a,this.libraries=s,this.mapIds=o,this.nonce=l,this.region=u,this.retries=c,this.url=h,this.version=d,Lw.instance){if(!Ow(this.options,Lw.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(Lw.instance.options)}`);return Lw.instance}Lw.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?Dw.FAILURE:this.done?Dw.SUCCESS:this.loading?Dw.LOADING:Dw.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+=`?callback=${this.CALLBACK}`,this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),this.libraries.length>0&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(e+=`&auth_referrer_policy=${this.authReferrerPolicy}`),e}deleteScript(){const e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise(((e,t)=>{this.loadCallback((n=>{n?t(n.error):e(window.google)}))}))}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){if(document.getElementById(this.id))return void this.callback();const e=this.createUrl(),t=document.createElement("script");t.id=this.id,t.type="text/javascript",t.src=e,t.onerror=this.loadErrorCallback.bind(this),t.defer=!0,t.async=!0,this.nonce&&(t.nonce=this.nonce),document.head.appendChild(t)}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){const e=this.errors.length*Math.pow(2,this.errors.length);console.log(`Failed to load Google Maps script, retrying in ${e} ms.`),setTimeout((()=>{this.deleteScript(),this.setScript()}),e)}else this.onerrorEvent=e,this.callback()}setCallback(){window.__googleMapsCallback=this.callback.bind(this)}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach((e=>{e(this.onerrorEvent)})),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version)return console.warn("Google Maps already loaded outside @googlemaps/js-api-loader.This may result in undesirable behavior as options and script parameters may not match."),void this.callback();this.loading||(this.loading=!0,this.setCallback(),this.setScript())}}}var Mw=function(e){var t=new Date,n=new Date(t.setDate(t.getDate()+e)),r=n.getFullYear(),i=n.getMonth()+1,a=n.getDate();return i<10&&(i="0"+i),a<10&&(a="0"+a),r+"-"+i+"-"+a};const Uw=function(t){var n=t.openModal,r=f((function(e){return e.user.userId})),i=(0,e.useRef)(),a=I((0,e.useState)(null),2),s=a[0],o=a[1],l=Mw(0),u=Mw(2),c=I((0,e.useState)(null),2),h=c[0],d=c[1],p=I((0,e.useState)(""),2),m=p[0],g=p[1],v=I((0,e.useState)(""),2),y=v[0],w=v[1],b=I((0,e.useState)(""),2),E=b[0],k=b[1],S=I((0,e.useState)(l),2),T=S[0],C=S[1],N=I((0,e.useState)(u),2),R=N[0],_=N[1],x=I((0,e.useState)(!0),2),O=x[0],P=x[1],D=ne(),L=A(),M=f((function(e){return e.dashboard})),U={strictBounds:!1,types:["country","locality","sublocality"]},F=new Lw({apiKey:"AIzaSyChp1JW3huDyuAiQrt3vb3hvYSQAuQazvA",libraries:["places"]});return(0,e.useEffect)((function(){M.isNewTrip&&(D("/trip/".concat(M.newtTripId)),n(!1))}),[M.isNewTrip]),(0,e.useEffect)((function(){F.load().then((function(e){var t=new e.maps.Map(i.current);o(t)}))}),[]),(0,e.useEffect)((function(){if(s&&h){var e=new google.maps.places.Autocomplete(h,U);e.addListener("place_changed",(function(){g(h.value);var t=e.getPlace().geometry.location;w(t)}))}}),[h]),(0,e.useEffect)((function(){P(!m||!E)}),[m,E]),e.createElement("div",{className:"modal"},e.createElement("div",{className:"modal-main"},e.createElement("div",{className:"create-form-name"},"Plan A New Trip"),e.createElement("div",{onClick:function(){return n(!1)},className:"close-btn"},""),e.createElement("form",{className:"create-form",onSubmit:function(e){e.preventDefault(),L(Sw({userId:r,destination:m,destinationLatLng:{lat:y.lat(),lng:y.lng()},tripName:E,startDate:T,endDate:R}))}},e.createElement("div",{className:"create-form-input"},e.createElement("label",{htmlFor:"trip-name",className:"label-value"},"Destination"),e.createElement("input",{type:"text",id:"trip-destination",placeholder:"Choose a destination e.g country/city...",onClick:function(e){return d(e.target)}})),e.createElement("div",{className:"create-form-input"},e.createElement("label",{htmlFor:"trip-name",className:"label-value"},"Trip Name"),e.createElement("input",{type:"text",id:"trip-name",placeholder:"Give a name to your trip!",onChange:function(e){return k(e.target.value)}})),e.createElement("div",{className:"create-form-input"},e.createElement("label",{htmlFor:"start-date",className:"label-value"},"Start Date"),e.createElement("input",{type:"date",id:"start-date",placeholder:"Start from",defaultValue:l,onChange:function(e){return C(e.target.value)}})),e.createElement("div",{className:"create-form-input"},e.createElement("label",{htmlFor:"end-date",className:"label-value"},"End Date"),e.createElement("input",{type:"date",id:"end-date",placeholder:"End on",defaultValue:u,onChange:function(e){return _(e.target.value)}})),e.createElement("input",{type:"submit",value:"Start to Plan",className:"create-btn",disabled:O})),e.createElement("div",{ref:i})))},Fw=function(){return e.createElement("div",{className:"footer-container"},e.createElement("div",null,"COPYRIGHT @ TripTracks"))},Bw=n.p+"img/blank_profile_avatar.png",Vw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABmJLR0QA/wD/AP+gvaeTAAABC0lEQVRYhe3XMUrEQBQG4H8mFhbJFAtaeAiFZArbtB5gL6A3Erv1AGJtnXpZJqCHsFDcIqSwyfwWFitI3irMFMr72nn874cUjwBKKZWVkR67rjt0zl2SLLMsN2YchuG2bdv3uZkDKaAsyyuS1+mrfSIJ5xwA3MzNWCnAGLMBsE3c66u3GOMmY75SSv154qkDgL7vz6ZpOsqxvCiK17quH6UZsWAIYUnyLm2tb5be+/u5R/HUkWT6Pr/bsfcThxBOY4zH6SrtWGtfmqZ5ypGtlFL/xb5Td07yAcAi0/4tgAvv/XpuQDx1MUaPfOUAYGGM8dKA+F88juOqqioL4CRprZ1n59wqU7ZSSv3EBxHmTD78ZVyQAAAAAElFTkSuQmCC",jw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAADlklEQVRYhe1Xz2tcVRT+vpfJdXBhQ0ULDoILMXVRIhjdhJZ2LS5U2tKF5km590YnYBF1lcVQs1EhUPoj7707tK9F7B/gOrYLWyQ2oKCQCbRKF1lUCi0UYt9M7nHhRF+GN5OJ05KNZ3XvOd/9zse95753Lo0x0wBeyLJsNk3TexjAwjAcUUrNAEC/fNRaXyF5EMBdEfm8UqmcrtVqfpu5aa19V0S+BLCn7euLb0PAcyLyB8kJEbkGYNo591M/mbXWrwA4s7GW5DMA0C9f0AavOuf2k5wk+SLJJWPMpWq1+nS3xGEYjhhjTpH8keTLInKiUqkcEJHV7fAFubHEcXwpy7K9AM4AONZsNhta649qtVoeR2vte0qpZQDTAC4PDw+/5Jw71bHVRXwrnXzUWl8BAOfcobwya+2Y9/4syQkAN4IgqIrIw05fFEWLHUfSN18URYulblscx/HPAPZrrSdJfuG9vw4AJO+KyPvOuYsApNv6fvistZ8FW6wT51yaZdkogAaARpZlo865dDvJu/F579/cSgAAIE3TeyJyR0TuDPqtyPMBm4twR+x/ATsuoOs1HMC+2VEBzjm3IwKstePe+2MkR9uuZe/95Xq9vvRYBYRhWFZKnRORkCRzoTeCIPhYa32+2WxOp2n65+MQQKXU1wDe6RYneVwp9RSAI0WAgW6B1vrtjuQ3SZ4keRLArZz/sNb6rUcugKTJTX9ZW1sbE5FZEZktlUpjAH7tgn00AgCM5xLMlUqlJwHcBnC71WqVRWQuh32tiGDQGlC58f1yubx7fX19DwARkd0A7ufiTxQRDLoDv28MROTI/Px8g+RBkoeccyskj+awtwrWD1wDC7npUWttIiIPROSB1roO4HAuvoACC9pEz4ZhOPIfBGz67IqIBrAEYInk8V7YfwQEQfAtgFGlVENrHQJgEbDIoihaFJGrfUAX4ji+USggjuM5kq8CWCF5wRizODU19Xq/IoaGhmbQuz3z3vuZbsEA+LthTJLkAIAQwPPe++vGmNO9jsUYs8sYsy+KomsALvQQcL5er/9gjNlnjNlVKKBtkiTJxSzL9orIOQAfKKWWjTGT2HwsbPsaaBdWq9U6AWClIPlNAJ+0x98BaHTydT3vfB/f7ckVBEG13W7DWjsuIt/j3/v+0Hs/sfE3LOITkdWtCm5bj06t9Yckz7anU0mSxL34RORqXxW/nWe3MeZTAEiS5Ks++H77C98M/YxSnes1AAAAAElFTkSuQmCC",zw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAABnUlEQVRYhe2VsUrDYBSFvxs1cyk4lCIUdXFtuvoI2ip08AHaTA4KIjplcFCHTi5JHqEIFZ07uWnAyUHESbJ2V/A6WEHEJvlrig4963/+c75ckhuYaqo/loxzyXXduqruADUAVb2xLKvj+/6ladaM6YVWq3UMnAEVwAZsEakAW47j2FEU9U3yjCYwfPJekkdV18IwvMqaaZkADMeeKBHZNck0AgCcDJ7aJAGySCcGoKq3aR4RSfWMDWBZVifNo6qpnq8y+gyjKHpwHMcGVkeUH4Vh6E8MYAjRr1arkYiUgHngRUSugW3T8n8ho0XUbDbtQqHQEJE6UAUW+Hjrn0UkUtULoBcEwWvuAK7rbqrqKbCUYn0E9oIgSNyYmQE8z7PiOD4G9rIEfkpVT8rl8qHneW9Jvtm0oHHKAURkP45jBQ4SfUmHw7Gfm5Z/A2n4vn9hDNBut+eAe2D5NwDA02AwWOl2uy8/HY7chKq6kUM5wGKxWFwfdZi0ihs5lAOgqnVjABEx+q2maGRW0gRKOQKUxwG4y6tdRHLLmmqq3PUOpQmDgmSlN6gAAAAASUVORK5CYII=",qw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAABmUlEQVRYhe2UL0wCURzHv7+HO4cmZmCjEbRZuKLVhGNzMzzcVNp7j0BwJivNLsUdNySDNt2wON2cpsNgs5h0o5ocO3gGYQMEPOSP5T7x3e9+38/e3r6Azxhwzg3OuTHODvrrj6lUajEYDJaJaN4wjO1cLvcxM4FMJrPkuu6l1noNAIjIaTQaCdu2a1MXEEJEGWMVACs9n1611vF8Pv8yNQGl1CqACoDIgJFas9lM2LbteN3JvA4KITYA3A8JB4AwY+xOSrnpdW/Ay5CUco8xVgaw4GHcIKKdWCz2Vq1Wn8YWkFIeENEpgDkP4W0YEW2ZpkmO49wOGxz2BkhKeUxERyME9+MkEokcZrPZpmcBzrkRCoXOAOyOGd7mol6v7xeLxc9fBVoFcw4gPqHw7yCim36F1SUghAgHAoErrbU5yfAOnl3XjRcKhfcfAq2CuQawPKXwNl2FxVrhJmPscQbhABAlood0Or0ODHiESqkSAD7h4LJlWcneQ89NOC18gVHqtZOkZVnlzgOlFAdQGnXRv9+AL+AL+AI+Pl+YCHMstCDobgAAAABJRU5ErkJggg==",Hw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAABnklEQVRYhe2WsWsUQRSHv7lzDFwKEa7QIpWlKQJXBsHCItgf9rL3DoXrLEwsE0h5lSwMx/4DafIHhICihaxYCSbYaGMjEjAc8WBun01CqtvdkTlFcj8YpvmG9zHMvBlY5KrH/Mmibrd7vd1uL1dxaZqexBYwIpICjwFbg/8BJM65/VnAtZDqIrIO9IGnqvq5ijfGJMBLII4AcBvAOZfWgUXkJvCojGkECkTPQiBIwHv/VlW3YgqEHEKTZdk3YDemQK0d6PV6myJyHLPwRSp3QEReANvAk78uICLPgR3gjTFG+/2+zEB/tVqtveFweBZVAOidz2uqereE8+Px+CPwIapAs9l8OJ1OD4Ev3vuNLMtOQwtUpfQQpml6XBTFA+COtXZmP5+bAMBoNPoE3C+K4mAeArX6gHPuiMv7bwCNJRDUCZMkuSciX2MVDxZoNBq3gJV/JjCP/F8CquoBBoPBUh3eGLME+DIm6EtmrX3vvT+bTCbvROR7Fa+qq8CrMqYZIpDn+c9Op3OgqjeMMafAScV4ba19lud58BuxyNXJb5Zug8/+DAbYAAAAAElFTkSuQmCC",Kw=function(){var t=I((0,e.useState)(!1),2),n=t[0],r=t[1],i=A(),a=f((function(e){return e.user})),s=a.userId,o=a.username,l=a.avatar,u=f((function(e){return e.dashboard})),c=u.tripList,h=u.isProcessing,d=I((0,e.useState)(null),2),p=d[0],m=d[1],g=I((0,e.useState)(null),2),v=g[0],y=g[1],w=I((0,e.useState)(!1),2),b=w[0],E=w[1],k=l?"dashboard-avatar":"dashboard-avatar dashboard-avatar-loading-background",S=h?"creating-new-trip":"display-none",T=b?"hamburger-menu":"display-none";(0,e.useEffect)((function(){i(kw(s))}),[]),(0,e.useEffect)((function(){l&&("default"==l?y(Bw):pg(mg(Av,l)).then((function(e){y(e)})).catch((function(e){console.log("Something goes wrong",e)})))}),[l]);var C=function(){window.localStorage.removeItem("userId"),window.localStorage.removeItem("username"),window.localStorage.removeItem("email"),function(e){Ve(e).signOut()}(yv),i(ow({userId:null,username:null,email:null}))};return e.createElement("div",null,e.createElement("div",{className:"dashboard-container"},e.createElement("div",{className:S}),e.createElement("div",{className:"dashboard-sidebar"},e.createElement("div",{className:k},e.createElement("div",{className:"dashboard-avatar-img",style:{backgroundImage:"url(".concat(v,")")}})),e.createElement("div",{className:"dashboard-username"},o),e.createElement("hr",null),e.createElement("div",{className:"dashboard-menu"},e.createElement(me,{to:"/dashboard"},e.createElement("div",{className:"dashboard-menu-item"},"My Trips")),e.createElement(me,{to:"/profile"},e.createElement("div",{className:"dashboard-menu-item"},"Profile")),e.createElement(me,{to:"/home"},e.createElement("div",{className:"dashboard-menu-item"},"Home"))),e.createElement("button",{className:"dashboard-sign-out-btn",onClick:C},"Sign Out"),e.createElement("img",{src:Vw,className:"hamburger",onClick:function(){return E((function(e){return!e}))}}),e.createElement("div",{className:T},e.createElement("div",{className:"nav-btn"},e.createElement("img",{src:jw}),e.createElement("div",{onClick:function(){return E(!1)}},"My Trips")),e.createElement(me,{to:"/profile"},e.createElement("div",{className:"nav-btn"},e.createElement("img",{src:zw}),e.createElement("div",null,"Profile"))),e.createElement(me,{to:"/home"},e.createElement("div",{className:"nav-btn"},e.createElement("img",{src:qw}),e.createElement("div",null,"Home"))),e.createElement("div",{className:"nav-btn",onClick:C},e.createElement("img",{src:Hw}),e.createElement("div",null,"Sign Out")))),e.createElement("div",{className:"new-trip-btn",onClick:function(){return r(!0)}},"+"),e.createElement("div",{className:"collections"},e.createElement("div",{key:c.length,className:"trip-card new-trip-card",onClick:function(){return r(!0)}},e.createElement("div",{className:"plus-container"},e.createElement("div",{className:"plus"},"+"))),c.map((function(t,n){return e.createElement(xw,{key:n,trip:t,index:n,openedTripCardOptionModal:p,setOpenedTripCardOptionModal:m})}))),n?e.createElement(Uw,{openModal:r}):e.createElement("div",null)),e.createElement(Fw,null))};function Gw(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||S(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ww=function(){var e=C(_().mark((function e(t,n){var r,i,a,s,o,l,u,c,h,d,f,p;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,um(hp(bv,"trips",t,"tracks"));case 3:return r=e.sent,i=[],a=[],r.forEach((function(e){i.push(e.id),a.push(e.data())})),s=i[n],o=a[n],l=o.mapCenter,u=o.zoom,c=o.directions,h=Zp(hp(bv,"trips",t,"tracks",s,"pins"),nm("index")),e.next=12,um(h);case 12:return d=e.sent,f=[],p=[],d.forEach((function(e){f.push(e.id),p.push(e.data())})),e.abrupt("return",{tripId:t,trackId:s,mapCenter:l,zoom:u,pinIds:f,pinList:p,directions:c});case 19:e.prev=19,e.t0=e.catch(0),console.log("Error getting document: ",e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t,n){return e.apply(this,arguments)}}(),Qw=function(e,t,n,r,i,a,s,o,l,u){return"<div style='width: 300px'>\n      <div style='width: 100%; display: flex'>\n        <div style='width: 60%'>\n          <h2>".concat(e,"</h2>\n          <div style='display: flex; align-items: center'>\n            <img src=").concat(t," style='width: 20px'>\n            <div style='font-size: 16px; margin: 0 3px'>").concat(n,"</div>\n          </div>\n          <h4>").concat(r,"</h4>\n        </div>\n        <div style='width: 40%; margin: 10px; background: #ffffff url(\"").concat(i,"\") no-repeat center center; background-size: cover'></div>\n      </div>\n      <div style='width: 100%; display: flex; align-items: end'>\n        <div>\n          <div style='display: flex; align-items: center; margin: 5px 0'>\n            <img src=").concat("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAABmJLR0QA/wD/AP+gvaeTAAABQ0lEQVQokbWSu0pDQRCGvz1IIjbihSSCjUW6qI2gCEmwsRCtRH0MBfEhrH0IwcJGSaGN2GmhSGJaEYQ0djkKYnZ+i3NyJacJODCwzM43M//swn+ZXnN7o4H1bEHVrKmWWU7KCRLplo4xOX51mJTihnZ9yWaQ3pHGkX4wFtzKZ2MorPrsHD5YwDGHd/Ngm3htIYEArwqyG9AHZg1a/s2VvhsRXM1dIW0jgYkI6p5lcZFu7DooNncizcHMLl7nWHzZ42oXM4tcunSt5l6fZgnH0/Qpciedjr2TmJB0FhTDI+ewoQvT41RVpsLAmIBqQTFcTHwqvZKSlO8bsy3BK68K6USYcHIJr3QMGKY7ZBYXSjM2kdwZr7UYfHC49aAUbji0gukeE+BXe9PH+gXry3kduHJ40fkI5e9noKzb1D5oYnBHI9sfqUPYW3ZynU0AAAAASUVORK5CYII="," style='width: 15px; height: 15px'/>\n            <p style='margin: 0 3px'>").concat(a," ").concat(s,"</p>\n          </div>\n          <a style='color: #313131' href='https://www.google.com/maps/search/?api=1&query=Google&query_place_id=").concat(o,"' target='_blank'>Find on google map</a>\n        </div>\n        <img id=").concat(l," src=").concat(u," style='width: 28px; height: 28px; margin: 0 10px 0 auto; cursor: pointer;'/>\n      </div>\n    </div>")},Yw=function(){var e=C(_().mark((function e(t){var n,r,i,a,s,o,l,u,c,h,d,f,p,m,g;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.tripId,r=t.trackId,i=t.currentPinListLength,a=t.placeName,s=t.address,o=t.lat,l=t.lng,u=t.photo,c=t.placeId,h=t.placeType,d=t.rating,f=t.voteNumber,p=t.newDirections,e.prev=1,m={index:i||0,name:a,address:s,position:{lat:o,lng:l},photo:u,id:c,type:h,rating:d||0,voteNumber:f||0,notes:""},e.next=6,fm(hp(bv,"trips",n,"tracks",r,"pins"),m);case 6:return g=e.sent,e.next=9,hm(dp(bv,"trips",n,"tracks",r),{directions:p});case 9:if(!g.id){e.next=11;break}return e.abrupt("return",{pinId:g.id,pinContent:m,newDirections:p});case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log("Error updating pinList",e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),Jw=function(){var e=C(_().mark((function e(t){var n,r,i,a,s,o,l,u,c;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.tripId,r=t.trackId,i=t.pinId,a=t.restPinIds,s=t.newDirections,e.prev=1,e.next=4,dm(dp(bv,"trips",n,"tracks",r,"pins",i));case 4:return e.next=6,hm(dp(bv,"trips",n,"tracks",r),{directions:s});case 6:return a.forEach((function(e,t){hm(dp(bv,"trips",n,"tracks",r,"pins",e),{index:t})})),o=Zp(hp(bv,"trips",n,"tracks",r,"pins"),nm("index")),e.next=10,um(o);case 10:return l=e.sent,u=[],c=[],l.forEach((function(e){u.push(e.id),c.push(e.data())})),e.abrupt("return",{newPinIds:u,newPinList:c,newDirections:s});case 17:e.prev=17,e.t0=e.catch(1),console.log("Error updating pinList",e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}(),Xw=function(){var e=C(_().mark((function e(t){var n,r,i,a,s,o,l;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.tripId,r=t.trackId,i=t.newPinIds,e.prev=1,i.forEach((function(e,t){hm(dp(bv,"trips",n,"tracks",r,"pins",e),{index:t})})),a=Zp(hp(bv,"trips",n,"tracks",r,"pins"),nm("index")),e.next=6,um(a);case 6:return s=e.sent,o=[],l=[],s.forEach((function(e){o.push(e.id),l.push(e.data())})),e.abrupt("return",{newPinIds:o,newPinList:l});case 13:e.prev=13,e.t0=e.catch(1),console.log("Error updating pinList order",e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),Zw=function(){var e=C(_().mark((function e(t){var n,r,i;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.tripId,r=t.trackId,i=t.newDirections,e.prev=1,e.next=4,hm(dp(bv,"trips",n,"tracks",r),{directions:i});case 4:return e.abrupt("return",i);case 7:e.prev=7,e.t0=e.catch(1),console.log("Error updating directions",e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),$w=tw("trip/fetchDayTrack",function(){var e=C(_().mark((function e(t){var n,r,i;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.tripId,r=t.trackIndex,e.next=3,Ww(n,r);case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),eb=tw("trip/addNewPin",function(){var e=C(_().mark((function e(t){var n;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yw(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),tb=tw("trip/deletePin",function(){var e=C(_().mark((function e(t){var n;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jw(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),nb=tw("trip/reOrderPinList",function(){var e=C(_().mark((function e(t){var n;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xw(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),rb=tw("trip/changeDirectionOptions",function(){var e=C(_().mark((function e(t){var n;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zw(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ib=Jy({name:"trip",initialState:{isFetching:!0,isPinUpdating:!1,isPathUpdating:!1,tripId:null,trackId:null,mapCenter:null,zoom:null,pinIds:[],pinList:[],directions:[]},reducers:{initTrackData:function(e,t){var n=t.payload,r=n.tripId,i=n.trackId,a=n.mapCenter,s=n.zoom,o=n.pinIds,l=n.pinList,u=n.directions;a&&s?(e.mapCenter=a,e.zoom=s):(e.mapCenter={lat:23.247797913420555,lng:119.4327646617118},e.zoom=3),e.tripId=r,e.trackId=i,e.pinIds=o,e.pinList=l,e.directions=u,e.isFetching=!1},clearPinList:function(e){e.pinList=[]},upDateDirections:function(e,t){e.directions=t.payload}},extraReducers:function(e){e.addCase($w.pending,(function(e,t){e.isFetching=!0})).addCase($w.fulfilled,(function(e,t){console.log("dayTrack data fetch success");var n=t.payload,r=n.tripId,i=n.trackId,a=n.mapCenter,s=n.zoom,o=n.pinIds,l=n.pinList,u=n.directions;e.mapCenter=a,e.zoom=s,e.tripId=r,e.trackId=i,e.pinIds=o,e.pinList=l,e.directions=u,e.isFetching=!1})).addCase(eb.pending,(function(e){e.isPinUpdating=!0})).addCase(eb.fulfilled,(function(e,t){var n=t.payload,r=n.pinId,i=n.pinContent,a=n.newDirections;e.pinIds.push(r),e.pinList.push(i),e.directions=a,e.isPinUpdating=!1})).addCase(tb.pending,(function(e){e.isPinUpdating=!0})).addCase(tb.fulfilled,(function(e,t){var n=t.payload,r=n.newPinIds,i=n.newPinList,a=n.newDirections;e.pinIds=r,e.pinList=i,e.directions=a,e.isPinUpdating=!1})).addCase(nb.pending,(function(e){e.isPathUpdating=!0})).addCase(nb.fulfilled,(function(e,t){var n=t.payload,r=n.newPinIds,i=n.newPinList;e.pinIds=r,e.pinList=i,e.isPathUpdating=!1})).addCase(rb.pending,(function(e,t){console.log("change direction choice pending")})).addCase(rb.fulfilled,(function(e,t){console.log("update directions success"),e.directions=t.payload}))}}),ab=ib.actions,sb=ab.initTrackData,ob=ab.clearPinList;ab.upDateDirections;const lb=ib.reducer,ub="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAAB2ElEQVQ4jd2TsWtTURjFf+fmJVZF6dDBpTh0qkJnF9FR8A8ojbiIOKhBjKSgJvAgMYqlXR46FFcFETcXd/8CwW5ddBAxoLbWmibvHQcbbWxKiJN44HLh++79cQ58H/zr0qBiqVKdyhxmJKJBfZtuUPY6WWisDgWW5qsVW/eAMMRMJnk+ud9Y3BN4uXx7MuTCKlJTm5/uJknSHpigVNrH2Pgtw80szaYeLt151+v1uQi5cA5YnzgQmnvBAJIkabe/fGgAa4pU7GP02/Wc0bM4jreGxGV5ebkDPFemuX5GL8aN+JhD+sb4MQovg30UdMQ4LzEOYPNZqGNn7x3CW9lngKKy3PFkMV75BYzjOLQ2uk9As8OcDZafThyMinEcZwGg9S29+PcwAM1+3EgvANtzZk79vLRY6IZmJ0pfAdOCWrJQb+z8WqrUqoY6sJLv5k52oqwKvg4+DTzqDW4eIMjaCIRCLwhculqpzfSFgxM9W1tjbYU0kg1Chd8Oe49NuRDS8o7S5PYZpGl1o5b/KA7bhpG1a1cNjWDlLcbA+5FzWIcBkNewUtCmzPdM7giqu4H2VyQM6w8W6rVRHF2p1K4JDhnWdzqsI3cFL0bOaJ0nZGfzIWqO/Pf/0A9T6bJxVEaC6wAAAABJRU5ErkJggg==",cb="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAABnElEQVQ4jc2SP2hTURTGf+fljwkI7ebg6iS4FJ3spkMgaDenSHETfB0CaaTCy5AI0UbIkBRBXRS6lw5uWgUXZ8FJRJzURQUxsTX5HEzhvZd7NUMEv+nd37nnO9+798L/LvMVqtVq8SB/9ISNdEwWLACYxl+VsY+5/W9vut3uYCbDtVqjLFMNOAvkPPMOBC9Ad7Y6Nx97Da/VG5dNevSXv0omMqv0Npvbh+tsoqhxGey9md2Q2P/dQF5SG5CLS+MLgNsQLABexicChOvRCoCbWxBnicU8NGVokHcxH0+zbBoISmvr0Y6YnBXkBSUAD9/9oyFwRLASGxAf5uRx/fsznOgz8NQTRAZPgC8zG5q00e+0zgmeOcp7vU7rPMaGqzf5sLFPQkBQCeuRIZYcPUthPbqKqEy6PngNfyq4l7HRFZmWEcuuBMAi4u7k+zuB7idDpRRej04hHiJOknoSMV3EeI2x2r/deuVNCFAYDd4OrXjcsAe9TjN0uYW1aMvgUpEf79K1qUsZUjgDPMeCW550WJBpC/aGFE779sxNvwDyCZB3X7xpAwAAAABJRU5ErkJggg==",hb="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAAB4ElEQVQ4ja2SP2gUURDGf/Pu2AQ9CRaCqE3AGME/mICFonaW2sipZRqvMBeUmMuB3uHTFc4ka+OuZyAKacVCol0QoqSxFAQRbETLCFrcEcXbHYuIMRd3s9FM9+Z9349vhoENLkkrLI5UutWY3ds2mTlrbStOZ9LABsvVfYi8FdXZz43WgyRtKiAq/UAnACLH/htoFs0MMA98UZEbSdo1d5jP5zPbu/ccVjHNYMx9s5Y+FmitNQuN8KwI14G9v9peMOGW1g28NFrpDVUeAwdWGVRP+t6t53HAVTsslMtdLZWZpVT6qP1fReoD1namBjqRMy3QK8JwRPZ2W75XQE+uGc4OXrl2Ig1QUPYLct8fd4MMYf+KcNkfpxGdAo6IMS+LpeqTdmC2faLAc3uWX+T+2PInv1ZbAApDpcpYhFwV2NoOTDybQrnc5agzh9IHICoF37s5leRJPGyn1XHUhFwAngKoaDBUqh7/ZyBGz0fCCyKZFOQe4Ch6N8kSO/LFkj1kNJxH6CDKHGxs4UOuGb4HdkVk+uoT9nXqhMVRu8MQPkPYLMJwcMe+m7b2G0JtyRQNxA71t6ZqOAnsFOWyP+4Gv8dZ/PoQ+Ah6an1AtA5yzvfcFfvyff87Ep1RlZE44IbXT2nLnNiI+dejAAAAAElFTkSuQmCC",db=n.p+"img/icons_loading.gif",fb=function(t){var n=t.index,r=A(),i=I(ge(),1)[0].get("day"),a=i?i-1:0,s=f((function(e){return e.trip})),o=s.tripId,l=s.trackId,u=s.pinList,c=s.directions,h=I((0,e.useState)(null),2),d=h[0],p=h[1],m=I((0,e.useState)(),2),g=m[0],v=m[1],y=I((0,e.useState)(null),2),w=y[0],b=y[1],E=I((0,e.useState)([]),2),k=E[0],S=E[1],T=I((0,e.useState)([]),2),C=T[0],N=T[1],R=(0,e.useContext)(Pb).map,_=(0,e.useContext)(Ob).pinLatLng,x=(0,e.useRef)(),O=[{mode:"DRIVING",icon:ub},{mode:"TRANSIT",icon:cb},{mode:"WALKING",icon:hb}],P=k[n]?"display-none":"direction-fetching-icon",D=n==u.length-1?"display-none":"arrow";(0,e.useEffect)((function(){if(R){S([]);for(var e=new google.maps.DirectionsService,t=0;t<_.length-1;t++){var n={origin:_[t],destination:_[t+1],travelMode:s.directions[t],drivingOptions:{departureTime:new Date(Date.now()),trafficModel:"pessimistic"},transitOptions:{modes:["BUS","RAIL","SUBWAY","TRAIN","TRAM"],routingPreference:"FEWER_TRANSFERS"}};e.route(n,(function(e,t){if("OK"==t){var n=e.routes[0].legs[0].distance.text,r=e.routes[0].legs[0].duration.text;S((function(e){return[].concat(Gw(e),["".concat(n,"").concat(r)])}))}else S((function(e){return[].concat(Gw(e),["No results"])}))}))}}}),[_]);var L=function(e){switch(e){case"DRIVING":v(ub);break;case"TRANSIT":v(cb);break;default:v(hb)}};(0,e.useEffect)((function(){k&&(p(k[n]),L(c[n]))}),[k]),(0,e.useEffect)((function(){x.current.className="display-none",N([])}),[a]);var M=function(e){var t,n=new google.maps.DirectionsService,r=u[e].position,i=u[parseInt(e)+1].position;"DRIVING"==c[e]?t=O.filter((function(e){return"DRIVING"!=e.mode})):"TRANSIT"==c[e]?t=O.filter((function(e){return"TRANSIT"!=e.mode})):"WALKING"==c[e]&&(t=O.filter((function(e){return"WALKING"!=e.mode}))),t.forEach((function(e){var t={origin:r,destination:i,travelMode:e.mode,drivingOptions:{departureTime:new Date(Date.now()),trafficModel:"pessimistic"},transitOptions:{modes:["BUS","RAIL","SUBWAY","TRAIN","TRAM"],routingPreference:"FEWER_TRANSFERS"},unitSystem:google.maps.UnitSystem.METRIC};n.route(t,(function(t,n){if("OK"==n){var r=t.routes[0].legs[0].distance.text,i=t.routes[0].legs[0].duration.text;N((function(t){return[].concat(Gw(t),[{mode:e.mode,value:"".concat(r,"").concat(i),icon:e.icon}])}))}else N((function(t){return[].concat(Gw(t),[{mode:e.mode,value:"No results",icon:e.icon}])}))}))}))},U=function(e){var t=C[e.target.id].mode;p(C[e.target.id].value),L(t);var n=Gw(c);n.splice(x.current.parentNode.id,1,t),r(rb({tripId:o,trackId:l,newDirections:n}))};return e.createElement("div",{className:D,onClick:function(e){w?w==x.current?(N([]),b(null),x.current.className="display-none"):(N([]),w.className="display-none",x.current.className="dropdownModal",b(x.current),M(e.target.parentNode.id)):(x.current.className="dropdownModal",b(x.current),M(e.target.parentNode.id))}},e.createElement("div",{className:"arrow-content",id:n},e.createElement("img",{className:"path-icon",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAABa0lEQVRIidWT0UrjQBSGvzONgfgE9VJ8gFKTQmFXsZe+ii/orSDxauZi0XVfQNC92YKoUEvye6EtoU1NSBHcHwIzcGa+OTP54H+PVSfe+13g0DnXB5D0dz6f/xqPx49bA7z3u5JOgXil5tXMzrMse+kCcJXxIRDbe35+fAbEkoZdNgeIliTn+kVRAPwAzgDMTJJyYK8rYNlBURTzjUXOlV0BUWV8DxwAuZmpLEuAK4Ber3e3NSCO49+z2WwfcB/XgiQkldPp9LYrYHlFg8HgGbhZO0EUXU8mk6etAQCj0ejWzB4WczN7GA6Hf7puvgYwMyVJkkuaOuf+JUmSm5m2AVhzyea0Mb8zoK35bn0phBBy7/1lA6OV+VHdSkkl8OndtzW/FpBl2VHD6Rfm72yAL82vBbRMK/MbASGEXFK52lVb82sfuZpN79HW/E6/6aKrNE2PQwgnkvrwbn6aphdVORs7qMuiq68w//vlDVcMz8Tx0o3xAAAAAElFTkSuQmCC"}),e.createElement("img",{src:g,className:"default-direction-icon"}),e.createElement("img",{src:db,className:P}),e.createElement("div",{className:"direction"},d),e.createElement("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAABZ0lEQVRIie2TsU4CQRRFz+wS4HtYPkB742/QKKD+gcYYoh3VzjT0FIKoiZb2E2qNfAPZQtfdAGOBmA27LAtsYuPt5r159+blzMC//loCoFarDYwxBzl7D6SUhxbAZDI5Aj5zNPdt224C2ADD4dBzHKcI7OUUcOm6bg/AWlRKpdIV8JaD+SgMw9bi8BvQbrcDY0x9V3djTLPT6XzFAgCUUk/A3Q7mfaXUfbRmJdw7Bj628PeNMSfLRXu5oLX2KpVKQQixv2HAhVKqv1xM2oByudxiM+CjMAyvkxqJAVsAb0TBrg2AOXBjTGzlBPWklA+rmisDAIQQddKB+7PZ7DTNIwY5Kq215ziODSQCF0KcK6VSn3XqBgDj8bgFvCa03oMguFk3vzag2+2GQAy4EGIl2I0CAKSUz0AvYn7ruu5jltlMAT9qMAfuT6fTs6xDqZCj0lp71WrVAl7WgY2qkPUiQLFYTPytf6pvSBqGr86URx0AAAAASUVORK5CYII=",className:"dropdown-icon"}),e.createElement("div",{className:"display-none",ref:x},0==C.length?e.createElement("img",{src:db,className:"other-direction-fetching-icon"}):C.map((function(t,n){return e.createElement("div",{className:"other-direction-option",key:n,onClick:U},e.createElement("img",{src:t.icon,className:"other-direction-icon"}),e.createElement("div",{id:n},t.value))})),e.createElement("div",{className:"direction-anchor"},e.createElement("a",{onClick:function(){return window.open("https://www.google.com/maps/dir/?api=1&origin=".concat(u[n].position.lat,",").concat(u[n].position.lng,"&destination=").concat(u[parseInt(n)+1].position.lat,",").concat(u[parseInt(n)+1].position.lng))}},"Find Details")))))},pb="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAACdklEQVQ4jaVSS0iUURg95/7/6KgZVKDjCKLtoqBFYGgjCAXiIymIHlAtgqDcBLVq476NSC3aFAXtmiBB6eFKfBRFCL0LDSrIB4qWZOnM3HtazMxfjGNMdODCvYdzz/2+cz+iQEy1x3Zl98UuObHl/pOlfDpTqCGJZ5nVu3lDzfJ6Or9QQxCXAECQ/fxjeiOAxYLv5mK2o7FhtqOxobB3/4K5zj3lSctjJNtBeYCGVrzQtbq+oa//bDjTFtstgy4Cq06qIA1BfYFQJmeuR+8NDxdkqOZmf6YsdQFGbYK5TOk2xB4YEcJ5CEdgcBbA04XwYvf2+OvEuoaz7bGtlrhFkEY67ogRAFFRZyCQ4FUAs0ZodEY34FgqY09E+x+/y3oEYzPdETvpiBcEihNSu4V6AEQBwMhMeuJkRlrpyCvFP0s6QaQob3ymI3ZOmeIIAFP7mw5QugsAxnCnVSpBeW9/96Ed6Tz4KoiGdptHv8g5PU+feTDaP9KXrdDLCq1lck2ucFZwNpfP0XpAZrD9sPfQrdheObdAp3njOSP4pwXECDfi0yxh1cgWIeAM3WIilUz6vukmsImJ0gdBhhXxoe8SxghWw9Mb50ITkvYCmpHQmnKcTIX0QVJLmuM+50ITfsh7CTAimkeRwcHloMJMY6dEtP7RwlEoiDmLQ2kuQDmILgC1AO4EFWZQl5tR4VBw1wBA5str8mrp6qsGRlk1MErQ1a/jWJsdGwMA8y1NEQCleYRLkXD1ePYQCVePg/iWR1cy19ZcGRg6n/nbJUYYjwfjwnjcQhzLJ5VJ1AGZTzGe/egsD+eKjOH7tRwuOouba3iPn/IW9b/4Bee3BBFFaIXMAAAAAElFTkSuQmCC",mb="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAABb0lEQVQ4jc2SvU5UURSFv3WGFgVpuINTDEOEV5CaB7A2MRiegNBYAHKZqXwJo4mEypKEkkQbfzqCKIHbDVQmtAQ4y4IrXDL36mRCwa72OnuvL+vkHLjvpaI4WZt8A5CsZ6+OX0/+ig4vVbMU/bbezmYAumlrVtFbmO8BlsY72W6REYrCVtNWM5dParp8HGKcAKavDVd6BDEXxafucqtRCRygHoaaF+4SCGKmKIeKwsKynx6vtlbA2Hqem2IVz1atEij7BGggd3LQs3zU7TfwrSvLbACXvWt6NxAw6WTfDC+A8xsWH5LQSAcCAky0s01gLZdfE2XzSncuqgCW94t6qHQpeE9RIA6Ulj+I4BBYTH5k2/8FhhhGjXFkpDIZ6tbbR1s93tJlexRA4lEVEGKj7LT8YweP5d1Y6RwANX+nUw/6A1p/Qf9IiM5gqj+gGM67ngQOuv6ngVjvE6iPwCny+16DPgM/Qfs+C18q0t/j+gNZf3QButVeWwAAAABJRU5ErkJggg==",gb="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAABxElEQVQ4ja2TP0xTURTGf+e+V0DDosa4mWisqQOzToZQwuBCQhxkczBGG1ZjdEAHXY1JI3Qg1hVY2EoIRaLRRUcH21f5EwOxECIRDOmj7x4XIZT2PZ6RM53c75xfvi83B465JEoc6k11BVZTtRrTrz+Utv4beC+dnBRkoD3wz+w47hWjzvVd8d+MFRerYTsmTMj0JAcFuYky9XJ+adNgMog+T9Q6/X92+LS72606qyvAb7fNXvV9LhnMO0Vf5IrewyhgS4er7dWzCN8VXmULlXWjZlDh48Zp73EUrMHh3b7LKacuXUct7JUaayUwX0bflkoH3939pq7XVMjHBYoKGNX7vcnh0Vnv2d77fmSrxosLAzYEbgGfUXlyJ33hXBMw0RGUY7tDyiPF8rjCOOC2kTjfBMwWKusIP+Mh7cLf5iKAdYLlJiAASqzYFunM9CRvCwwAy7mZb2utgRArtkC/iuSBU6g8OKi5h2ZjOVThkShfVfmUmyuthAJF1VOJPG8A6rqbD7vnhsiqTpzI22PFxbUwsQHodtQ9QI8ALkTNNACzhcovYD6KJqoTUfrhT2En8G+ccBNprDnZgvZjZM57HwU89voDwRGks1rPEKIAAAAASUVORK5CYII=",vb="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAABWUlEQVQ4jc2TP0vDQBiHnzcpKMVFEHHoN1CaxUVwcRJXN8E/m5RKsaYUdBBHLbaNTk4u/QCOLg6ugoqG1l0oBRFBBBWENudQimm9pK049Nnu3vye+4XjYNAR/2Jz6jCOyUI/AsMzz52yXW6tI212U9aBjb4qGSoGpPRCjH2Ft6QgKh6LHjxrHTCuDM4EPkEOOmY/OK5dUyIJgWExSAaVEoOkwLASSTiuXWsvpSFt5UvASpCwmVSlo/vsmqb9b4Yi9RTwGKKrfjXqad1AK8zdbr8h3jLQ0Iw9RK2elHdedVkzqMLV00V1ZmI+Csz69xXkjt3saVBO27DFR2RkF7j2ye5G6+97YRntpfjZsoqTHt5N83Rj2nHth26ZrqStfCVt5Su9fBv6y39h8IWBl2JbhbmGMAYgShUAlEgGwFS8FN3MZc/CVDwXM8WshjcxYp3vuOeGnYQ1/He+AfkoY7RxA2stAAAAAElFTkSuQmCC",yb="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAABxklEQVQ4ja2SwUsUYRiHn3ecCIz2kJXI7iKB9QfYP1CnopTdvQQe69ihMHfLYzfTWA0h8qDQKWjBaq320iUIy3Ngp03UXSQo6NChdGbet0MtrDOrO4u+p29+v+975mG+gUMeGajMJnY87xKAqn6v5wrvDwJ0vD9B0oySGSURp5IqTZ84kOHJ8uTxbtzLajIo2DiwDGzFR1hgYhP1TOEzgDTigcrs0W3Pq2Gc6ljLuF7LjT0FcBpZ9cqtbZT5jmHCWsL79azx6DR3gevOAUFHcib51Wv3d1oCt4ZvbwJv48vZp3pm9FVz5kR2mTyOKydIHhHbF1jLjr4DqjF4zzeyYx/DqRsO0ktTfeCeBn4Ca3vQquJ6N1sVESDmTgAJR3RoI1OI/T0bI+EgXS5+xTgmMNPusJr8qOfuLLQx5AkwafCgrY3YKrALGDEEOFN+1Buon2oHRPi9mc1/2dcwvTSd8dVfQGS960gwtH717rfmvn9xpk8dfYNYPyI3gF3AyG8jqvdAeoDzgeeMhHt1dQRhEKRHzMbDfQRoyPL/pa/atRI5YKwA/r+3y4dwHx0zSZaLF1Ovp87utSX5ongu9fLhBcxa3sGhzl8tMp93C2VNMwAAAABJRU5ErkJggg==",wb="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAABQUlEQVQ4jeWSMS9DYRSGn3Nv6W1iIAxdDILJQKrC2K1pE4u1VU0YLAxGScN/8AcIBgsDUroYSBA6SIhEGjGwGxoi6f2ORZtWULntxJuc4ZzkPOc933fg38kGGI6nZrp7B/1PhavHRoEWgKgmjEW0UVgF2Ew1Hej7XBiOJkPYVqTFWNtnB6sPkUjaKTpmSoX2L/pffLg759nNytvXAEfi6aCqOUEJlMTMAz3FgMkAi/KNIxd7aTSWGCpDa1ZWcbuAwEca7IvNtYpIf50tO0vqmygnNcDL/fVrVckAp4JMF7Irb6jeC+R/CsuSu5oR4djkUTieWq7j5FeSMhBkTODVC0SFZ1WZzWfXctWf4ig4nmwpHRa6AOSadoeK+qHqbBT2LGTXC8yg4wJtFaAKW+qam4vDjWMvwFA0eYstA156/4DeAWgoZYzbTejrAAAAAElFTkSuQmCC",bb="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABmJLR0QA/wD/AP+gvaeTAAAGOUlEQVRYhbWYa2xTZRjH/+/anq5b261sCHPcCozLOuZ2ek6LBeZg0wByEYWJoFMQFfbBYNgHM6MkokYUA5qoM8F4iTeGkRjBS1AHAeZmT9cpl2mGHbhsgDBgo2u7tue8fkAUaM/paTf/H89z+/VJn+ec9yUYggRBYCmlSwCwAPIopbcCACGkB8AZAK0AvuR53ptqDZJswPHjx5lgMLghEonWnvyzZ8wv7Z04ebob/f4ArgwEAQCmTAPMxgxMHp+PkukTMWlcXpdOp91mMBjqbTZb+H8D9Hg8y8KRyPZD7uPjvz7QAn8gpCrOlGnAwnIHZnO2U1qNZiPP818OKyCllAiCsNnXdfa59z7/jly41K82/w3KtZjx6Ir51Dp29Ct2u72OECIlitEkcmhoaNCEQqFdwtGOmvpPvyb+QDAlOAAIhAbR0tZOLGbjbA2i0ysrK/fs3r2bKsVoEyW1Wq3bDv58dPmnXzWmDHa9oqKED/Z8j6goVc3hi7oA1Cr5pykZPR7PmpOnezY27Ds4LHDX67N9B/Cbr2uT2+2uVvKTBWxqahrR7x/YXv/JPohSwr9K0hJFCTt3fYNAaHCH1+vNThqQYZi6/Ue8WQNBdZOad0suHKU2OEptyLslV1WMPxDC/sOtFlEUn5bziTvFXq83+8LF/nPP7nifiUZFxSK322eg5uHlmDZ5wg3P2zs68dYHn6O59ZhivE6rxZanqgezzcZRHMf13WyP20FJkhZ5T3QkhFv3wFK8/vymGDgAmF5gxRtbarF25RLFHJFoFG3tPj2ldGE8e1xASunSX9p9iokXzHPhiYfuBSHyq5QQgg3V9+GuO2Yq5mpr/wMAlqoGDEeiZR2ne2QTMowOT669X7Ho9dq47gEwOvmN1nGqG6IolakCFARBd8UfyJUUJtdRUojcEbKDF6OROdngbiuUtYuihD7/wKjGxsaYXxEDKEnS6D7/gOJ+nDJxvGq4/2LGKdr7rgTSLBbLqISAGo3GOBiOKCbTM7pk+WBI1yvaB8NhRKNR083PYwAjkcjFDEO6YrJzFy4my4ez53sV7ZlXa164+XkMYDAY7LVkmRS/2Zpbj4FSxXf8DZIoRbNHfh8SQmAxG0M+n+9SQsC5c+dGTRnpnhyLWTZhz9nz+O5gs2rAbxubcOavmOb8q5EjsmAyZghVVVUxi1duGA5PtY5RLLqt/iN09ZxLCNfVcw6v1X+s6DNlQj4AHIlniwuo0Wj2sLbJikn7+v1YV/si3G0nZH2aW49hXe0L6PcPKOZiiwpAKf0ini3u9iwtLW0eDIe7zMaMsf3+gGzii5f7UFO3FXxJIea5OIzLHw0A+LP7LH447Ibwa7siGABkmTIwZUL+KY7j3KoBCSFUEIQ3yxwzXt77Y0vCIu62E4qdVFKZoxhareZNQkjcqZNdyKIo7pxtLwqksvPUKl2vwxyuaIBhmHflfGQBnU5nb7Y5c+v8Mu7/oQMwv4xHlinzpeLi4pj1ck2Kr7RwOPxqhauk25IVs+CHrGyzEeXO4jOU0h1KfoqALpcrqNNqNy+Z5xxeOgDL7nTBkK6v4zhOfgqRABAAOjs735/JFrYVXN1Vw6Ip1nw4SqZ5WJb9MJFvQsCqqipRk5a2uvqeivBwDIxez6B6WWWEAGvUHNwTAgIAy7InRuZkb16xYM6QAe9fWIZcS1Ydx3FH1firAgQAn8/36iy7rWnGVGvKcMXTrHCxhYd9Pt92tTFJXR653e6J/kCwdes7DVnJ3s+MyDahbv3Ky4Z0hnU6nZ1q41R3EAB4nvcZMwwr1q9aJCmdMW4Wo9OiZvViKTMjfVUycEkD/gO5P39UznMP3lOhyp8QgupllRgzOvcZnue/Sbae+jZcJ47jXiKElPzVe3l5onf1onlO2IsKdtnt9q2p1Eq6g8DVj4lwOFx9d7mjycXKn9Zm2W24u9xxyO/3PyL3MZCwVipB19TS0pJDKX5657N9BUd/P3WDbcZUK55YucDHMMxMlmXPp1ojpQ5ek9Pp7E1LIxWPr1x42lbw31F02qSxeKxqfrder68YChwwxA5ekyAIk0KD4UNvf7w3DwBqHlzcw+i0c3ieV74/UaFhAQQAt9s9FcBOSiklhDzG8/zvw5H3b6oVLRpk2ymJAAAAAElFTkSuQmCC",Ab=n.p+"img/img_placeholder.png",Eb=function(t){var n=t.setIsNoteOpen,r=t.currentFocusNote,i=t.setCurrentFocusNote,a=t.setFocusInfoWindow,s=(0,e.useRef)(),o=(0,e.useRef)(),l=A(),u=f((function(e){return e.trip})),c=(0,e.useContext)(Pb),h=c.map,d=c.infoWindow,p=(0,e.useContext)(Ob).pinMarkerList,m=u.isPinUpdating?"updating-pinList":"display-none",g=function(e){a(null);var t=e.target.id;h.panTo(u.pinList[t].position);var n=new google.maps.places.PlacesService(h),r={placeId:u.pinList[t].id,fields:["photos"]};n.getDetails(r,(function(e,n){if(n===google.maps.places.PlacesServiceStatus.OK){var r,i,a=e.photos?e.photos[0].getUrl():Ab,s=u.pinList[t].name,o=u.pinList[t].address,l=u.pinList[t].id,c=u.pinList[t].type,f=u.pinList[t].rating?u.pinList[t].rating:"",m=u.pinList[t].voteNumber?"(".concat(u.pinList[t].voteNumber," Reviews)"):"";switch(c){case"tourist_attraction":r="Attraction",i=pb;break;case"restaurant":r="Restaurant",i=mb;break;case"cafe":r="Cafe",i=gb;break;case"bar":r="Bar",i=vb;break;case"store":r="Shop",i=yb;break;case"lodging":r="Hotel",i=wb;break;default:r="Others",i=bb}var g=Qw(s,i,r,o,a,f,m,l,"deleteBtn",_w);d.setContent(g),d.open({anchor:p[t],map:h,shouldFocus:!0,maxWidth:350})}else console.log("can not get place info")}))},v=function(e){null==r||r==e.target.parentNode.id?(i(e.target.parentNode.id),n((function(e){return!e}))):(i(e.target.parentNode.id),n(!0))},y=function(e){n(!1);var t=Gw(u.pinIds),r=e.target.parentNode.id;t.splice(r,1);var i=Gw(u.directions),a=r==u.pinList.length?r-1:r;i.splice(a,1),l(tb({tripId:u.tripId,trackId:u.trackId,pinId:u.pinIds[e.target.parentNode.id],restPinIds:t,newDirections:i}))},w=function(){var e=Gw(u.pinIds),t=e[s.current];e.splice(s.current,1),e.splice(o.current,0,t),l(nb({tripId:u.tripId,trackId:u.trackId,newPinIds:e})),s.current=null,o.current=null};return e.createElement("div",{className:"pin-collection"},u.pinList.map((function(t,n){return e.createElement("div",{className:"pin-container",key:n,draggable:!0,onDragOver:function(e){return e.preventDefault()},onDragStart:function(e){return function(e,t){s.current=t}(0,n)},onDragEnter:function(e){return function(e,t){o.current=t}(0,n)},onDragEnd:w},e.createElement("div",{className:"pin-block"},e.createElement("div",{id:n,className:"pin-name",onClick:g},t.name),e.createElement("div",{className:"pin-btns",id:n},e.createElement("button",{className:"notes-btn",onClick:v}),e.createElement("button",{className:"delete-btn",onClick:y,title:"Delete"}))),e.createElement(fb,{index:n}))})),e.createElement("div",{className:m}))},kb=function(t){for(var n=t.tripInfo,r=t.setIsNoteOpen,i=t.currentFocusNote,a=t.setCurrentFocusNote,s=t.setFocusInfoWindow,o=f((function(e){return e.user})),l=f((function(e){return e.trip.tripId})),u=(k=n.startDate,S=n.endDate,T=void 0,C=void 0,N=void 0,R=void 0,_=void 0,x=void 0,O=void 0,P=void 0,T=I(k.split("-"),3),C=T[0],N=T[1],R=T[2],_=I(S.split("-"),3),x=_[0],O=_[1],P=_[2],C==x?"".concat(N,"/").concat(R," - ").concat(O,"/").concat(P,", ").concat(C):"".concat(N,"/").concat(R,", ").concat(C," - ").concat(O,"/").concat(P,", ").concat(x)),c=I((0,e.useState)(null),2),h=c[0],d=c[1],p=o.avatar?"header-avatar-circle":"header-avatar-circle header-avatar-loading-background",m=new Date(n.startDate),g=new Date(n.endDate),v=[],y=m,w=0;y<=g;){var b=y.toDateString().split(" ")[1].toUpperCase(),A=y.toDateString().split(" ")[2];v.push(e.createElement(me,{to:"/trip/".concat(l,"?day=").concat(w+1),key:w},e.createElement("div",{className:"trip-date-block"},e.createElement("div",{className:"trip-date-month"},b),e.createElement("div",{className:"trip-date-day"},A))));var E=y.setDate(y.getDate()+1);y=new Date(E),w++}var k,S,T,C,N,R,_,x,O,P;return(0,e.useEffect)((function(){o.avatar&&("default"==o.avatar?d(Bw):pg(mg(Av,o.avatar)).then((function(e){d(e)})).catch((function(e){console.log("Something goes wrong",e)})))}),[o.avatar]),e.createElement("div",{className:"sidebar"},e.createElement("div",{className:"header"},e.createElement("div",{className:"header-plan"},e.createElement("div",null,e.createElement("div",{className:"header-plan-place"},n.tripName),e.createElement("div",{className:"header-plan-date"},e.createElement("img",{src:Rw}),e.createElement("div",{className:"header-plan-duration"},u)))),e.createElement(me,{to:"/dashboard"},e.createElement("div",{className:"header-avatar"},e.createElement("div",{className:p},e.createElement("div",{style:{backgroundImage:"url(".concat(h,")")},className:"header-avatar-img"}))))),e.createElement("div",{className:"tracks-container"},e.createElement("div",{className:"trip-date"},v),e.createElement(Eb,{setIsNoteOpen:r,currentFocusNote:i,setCurrentFocusNote:a,setFocusInfoWindow:s})))},Sb="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAABmJLR0QA/wD/AP+gvaeTAAAIT0lEQVRoge2be3BUVx3HP79k82aTkPAIYEmE8mgeLTQJUCENlJJQEqBFICBPkUbEyrS2AQYsOC1DtU5FGWt1poAdpajgwNAK1kYKFBkgRoZAkhaEUORpAs1z887xj+xdMum9y93duypOvn/tOed3v/v77r3nnt/vd85CD3rQg/sZ4u8vUEoFACOBh4FEIAaIBAKABuAW8AlwBigTEeVvnyyHUkqUUtlKqbeVUreUedxUSu1QSk1y/lCWw9I77HRyEVAAJHUb40ZVDdV1jTiaWuhQipAgG/1i7PSPiSQg4AuulAGbgV0i0mGVj5YJVkqlAj8Hxmh91/5VzfGSixSVXubi1UqaW9p0rw0OCmR4fByjRzxAZupw4mIjuw6fAlaIyGkr/LREsFLqeeBHgA3g3MXr7Cksprj8M5SHM1IERo8YTF5WGklDB2rdrUCBiPzUV199EqyUsgE7gIUAt2saeHvvx3x8+h+++gVAxuhh5M/KoHdkuNb1K2C5iLR7y+m1YKfYncBcgDPnr/L6Ox9QU9/oLaUuou1hFCzO5pHhX9K69gDzvBXti+BfAvkAhSfL2frbQ3R0+GdFCQwI4PkFk5mUNkLr+omIvOANl1eClVLLgG0Ah4o+ZcvOQpSnk9VDiAgFi7N4/NFhWtdyEdnmMY+nFyilHgRKgLBPLt9k7da9tLW7f7pioyIYlzKE9KQE+sdGEhsVAXTO+ZtVNZwqvczJcxXcqWlwyxMcZOO17zzDiPj+AA4gSUQue+K/N4IPAlPrHc0898NdVFXXG9pG9QojLyuNnIwUAgPcxxHtHR18eKKcdw+e4k6tsfDYqAjeWreA8NBggAMikuOJ/x4JVkrlAO8DvPn7wxz86zlD2/SkBAoWZ2mOmUZDYzOvv/MBxeVXDG1yM1JYMTtTa04TkYNm+T0N31YDVFyr4k/HSw2Npk1I5uXlOR6LBYgIC2Fj/nSmfiXJ0OaPx85x+fptrfmSJ/ymBSul0oDHAf5w6LThS+rRkYNZ8dVMvVDRvFMBwso5E0lPSjDyhb0fuQKvJ5RSo0xze+BHHsCd2gaOnb6gaxBtD2fN0qk+iXU5FiC8uHAKUb3CdMePFF/g81qH1pxvmtcDH2YCnCipoK1dP5afl51ORJjnj7EReoWHMC87XXesrb2dk+cqtGauWU5TgpVSDwDDAE6VVujaRNvD3c47b/HU+CTDu1xU6lqREpVSg83wmb3Drjly/rNbugZjkxOwBVqfwtoCAw3nctmlG12byWb4zHqYCHCnpoHahiZdg7REfaesQHpivG5/naOJurv+DNM16gazgvsCbgOCbjmspYjrE2U4dqOqRvv4ZTNcZgX3BqhzNBsb3E3hLIcWiuqhpdVVVAgyw2VWsAL3YZk/cwcrszCzgmugMwoygrvH3Ve44w4Osmkf9etH3WBWcCW4f7SuV9YYjvkKd9wD+rrm9yUzXGYFlwLEREVgjwjVNeiyJloOI257RCj2cJc/+uFfN5gVfEb74MxFdZ1qafW61GSIltY2isr0BScNGdi1edYMnynBInIF+BRgbLL+27/O0cR7R8/ojvmC/UdKqDdYHcYku9b+syLyTzN8noRG+wEee3gIwUGBuga7C4uprrOuiFdd52B3YbHuWJAtkDF3I7ADZjk9EfxrQEXbw5kyNlHXoN7RzObtB+5Z8jGDtvZ2Nm8/SEOj/t2dMu4hou3h0LlkvmuW17RgETmL8y7PmZJKWIh+VlR26QZbdv6F1jbvRbe2tfPj3xR2j5VdCAsJZs6TqVrzfREpMcvtabT/KtDRJ7oX356baWh0pPg869/cR3Wdw9DGCHdqG1j3s30c/bvxS3fl3Ez69rYDdDh9Mg1vinibgPUAW3cd4s8nygxtQ0OCyM1IIS8rzfCJ0NDc0sZ7R0vYXfg3GhpbDO2yxiWyav4TWnOziKz3xH9vBNuAw8D4tvYONv5iP2fOX3V7TXhoMKkPxTMmOYG42Ehio3oBUFVdz83btRSVVlBcfgVHk7FQgKShA9m0ciZBtkDo3GSbICKtnvjvbSF+EHASGFTX0MSLW/ZwvbLaGyrTGNg3mjdemK0FPteBsSLi/pfWgVcZu4hcA6YD9faIUF751gzDqoQVsIeHsjE/VxPbCDzjjVjwUjCAc782D2iPi41k3bKntEfNUtgCA1j79akM6hcNnS+pr4nIKW/5fKrJiMgBYA10zq/n8ib5QqeLFbMzu+4crhaRfb7w+VyEEpE3gLcAJo8Zydwpab5SupCXlda1MLjN+V0+waqq2yrgQ4BFOeOYmDrcZ8Lxox5k4bSxWvMwsNJnUiwSLCJtwGzgrAismj+ZkQlxXvMNG9yP7y54EhEBKKfzJeV+zTIJy+qqIlILzABuBQcFsiE/lwFuim9G6BdjZ2N+LiHBNoAqYIaIWLbmWVpIdu7VTgcckRGhvPxsjtuyUHeEhQSz4dlcLSloAmaKiDUHRpywvHIuIkXAUkANjothzdLse+4NQ+deUsGSLBIGxkJnBrRcRI5b7Z9/TruJ7Aa+D527iSvnTrznNfmzHu+a324UkZ3+8M0vgp14lc4cmuzHEpk58RFDw6cnjiI3I0Vr/g7Y5C+n/CbYeUj0G8BHAMufnsC4lC+Wh9IS41k2c7zWPAYs8ecBU3/eYZyZzBzggojw0qIshgzq4xqPHxDL6iXZ2n5yBTBLRIy3N+4XKKWGKqUqlVLqdnW9WrJhh1r0ve2q8vM67RTtbaXUiHsz3UdwHgluVkqpC1duqQtXXKeKm5VS1gfh/wtQSi3VOSP9zf+2X36FUuq1LmI3/6e/3+9/AegO5yHytc7mD6w8/N2DHvTg/x//Bk+0/Z7Qg4vyAAAAAElFTkSuQmCC",Ib="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAADRUlEQVRIibWWT2hcVRSHv/PezIBpZaK2pqNoowVr3YhgFy6EUNqFi7iRWjAEqmgwycw8gtOsZ9FAhRTyZkJTWyqtWhd2EcUEKbaNiHSj3UgloP0HImmrabSTOhNm3hwXybRvJnPfzLTx7N455/f77rvvvnuv0GJof/8j2PYL2PYmADzvOqHQLzI29ncrPtIULJ2OsLDQi+pe4BXArmkpAedRPcHS0qdy5EjxgcEaj7+GZU0Am5sZJHANkffFdU8HNVlGIIg6zgEsa7oFKEAnqt9oIjGiAS9mLGgy+SEw3AKwjruMiesONQ3WZLIX+OSBoPfgPeK6nzcE69DQo5TLs6g+brD6AziKyIVlgb4MvAc8Yei/QbG4TSYmFvzJ0Ko2z3sXMEG/IhLpkdHRO77clA4MjGLbJxF5vY6mg0jkHeCgP1lvcb1lgP6M6p4aKABy6NAiudwe4GJdpWpPbaoKrMPDDwMvGsAjks0uGWrI8eMFYMRQfklTqXVGMPn8UyZjwuFzxlolVM8aa6XS02awbUeNwvn5xYbgXC5nrHlelXc1WORPozAafa4huL39eWNN9YYZHI1eAaqWvS/ebghWNfXMMz5+zQiWdLoMnDGYDmo8vsPITCR2otpv0J4RUCN4JU4avMNY1rQ6zgfa19d21zOVWqeJxD5EpoBwXaVlfVabWr1z7d5tE4v9BjxjGABAHtXZZQfZBjwU0HuZubmtcuqUFwgG0GSyD/gowCwwCiGP85vnAfg9mv/60mOLH+/vPvulv2f1lgkwN3eMWGwA82bSEDzz7M3KYzfoLaAKXPc8XpmWusfZWoXxIiCZzAzwxf8Frj/VlQiHBykWXwViQW2FkEchdG/t3Gor/QVsqDwL1vr0ZFenX9P4zuU4u1A9HdR7bstN/zdtKoxTfXdkrvstItmWXNcCDEA+nwK+X0twU/dqAHWcDlQvAE/W1mY33uZixz/5Xzfkpgph71/BWq/oG76Wy6A/3Bd4Bb4d1e+AtprSHcrlLhkf/wkgPdnVWQpZV33KE/u7Z/b6Bc1NdWWUrvsjqm8C/u2vDPRWoM1GS2AAyWangTjLp40Cg5LJTLbqE/wfm+CZzGF1nHYAcd3D9+PxH2IBF1Wo9QCXAAAAAElFTkSuQmCC",Tb=function(t){var n=t.setFocusInfoWindow,r=t.setIsNoteOpen,i=I(ge(),1)[0].get("day"),a=i?i-1:0,s=I((0,e.useState)(""),2),o=s[0],l=s[1],u=I((0,e.useState)(null),2),c=u[0],h=u[1],d=I((0,e.useState)(null),2),p=d[0],m=d[1],g=I((0,e.useState)(null),2),v=g[0],y=g[1],w=I((0,e.useState)(!1),2),b=w[0],E=w[1],k=I((0,e.useState)(null),2),S=k[0],T=k[1],C=I((0,e.useState)([]),2),N=C[0],R=C[1],_=I((0,e.useState)(!0),2),x=_[0],O=_[1],P=I((0,e.useState)(null),2),D=P[0],L=P[1],M=I((0,e.useState)("display-none"),2),U=M[0],F=M[1],B=(0,e.useRef)(),V=b?"display-none":"draw-btn",j=b?"draw-btn":"display-none",z=f((function(e){return e.trip})),q=A(),H=(0,e.useContext)(Pb),K=H.map,G=H.infoWindow,W=["name","types","geometry","formatted_address","photos","place_id","rating","user_ratings_total"],Q={fields:W,strictBounds:!1,types:["establishment"]};(0,e.useEffect)((function(){K&&K.addListener("click",(function(e){if(e.placeId){e.stop();var t=new google.maps.places.PlacesService(K),n=new google.maps.Marker({map:K,icon:Sb,zIndex:99}),r={placeId:e.placeId,fields:W};t.getDetails(r,(function(e,t){t===google.maps.places.PlacesServiceStatus.OK&&(y(e),m(n),Y(e,n),n.addListener("click",(function(){Y(e,n)})))}))}}))}),[K]),(0,e.useEffect)((function(){setTimeout((function(){if(K&&c){var e=new window.google.maps.places.Autocomplete(c,Q);e.bindTo("bounds",K),e.addListener("place_changed",(function(){console.log("autocomplete"),l("");var t=e.getPlace(),n=new google.maps.Marker({map:K,icon:Sb,zIndex:99});Y(t,n),m(n),y(t),n.addListener("click",(function(){Y(t,n)}))}))}}),1500)}),[c]),(0,e.useEffect)((function(){if(p&&v){var e=v.geometry.location;K.getBounds().contains(e)?(K.panTo(e),p.setPosition(e)):(K.setZoom(13),setTimeout((function(){K.setCenter(e),K.setZoom(14),p.setPosition(e)}),500))}}),[p]),(0,e.useEffect)((function(){if(v){var e=G.addListener("domready",(function(){document.getElementById("addBtn").addEventListener("click",(function(){var e=[].concat(Gw(z.directions),["DRIVING"]),t=v.name,n=v.formatted_address?v.formatted_address:v.vicinity,i=v.geometry.location.lat(),a=v.geometry.location.lng(),s=v.photos?v.photos[0].getUrl():"",o=v.place_id,l=D||v.types[0],u=v.rating,c=v.user_ratings_total?v.user_ratings_total:"";q(eb({tripId:z.tripId,trackId:z.trackId,currentPinListLength:z.pinList.length,placeName:t,address:n,lat:i,lng:a,photo:s,placeId:o,placeType:l,rating:u,voteNumber:c,newDirections:e})),r(!1),p.setMap(null),m(null),G.close()}))}));return n(e),function(){google.maps.event.removeListener(e),p&&p.setMap(null)}}}),[v]);var Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;console.log(e);var n,r,i=e.name,a=e.formatted_address?e.formatted_address:e.vicinity,s=e.photos?e.photos[0].getUrl():Ab,o=e.place_id,l=e.rating?e.rating:"",u=e.user_ratings_total?"(".concat(e.user_ratings_total," Reviews)"):"";switch(D){case"tourist_attraction":n="Attraction",r=pb;break;case"restaurant":n="Restaurant",r=mb;break;case"cafe":n="Cafe",r=gb;break;case"bar":n="Bar",r=vb;break;case"store":n="Shop",r=yb;break;case"lodging":n="Hotel",r=wb;break;default:n=e.types[0],r=bb}var c=Qw(i,r,n,a,s,l,u,o,"addBtn",Ib);G.setContent(c),K.panTo(e.geometry.location),G.open({anchor:t,map:K,shouldFocus:!0,maxWidth:300})},J=function(){if(o){console.log("find place"),l(""),G.close();var e=new google.maps.places.PlacesService(K),t={query:o,fields:W};e.findPlaceFromQuery(t,(function(e,t){if(t===google.maps.places.PlacesServiceStatus.OK&&e){y(e[0]);var n=new google.maps.Marker({map:K,icon:Sb,zIndex:99});Y(e[0],n),n.addListener("click",(function(){Y(e[0],n)})),m(n)}else console.log("no such place")}))}},X=function(){var e=new google.maps.Polyline({clickable:!1,map:K,strokeColor:"#848484",strokeWeight:3});K.addListener("mousemove",(function(t){return e.getPath().push(t.latLng)})),K.addListener("touchmove",(function(t){return e.getPath().push(t.latLng)}));var t=function(){F("display-none");var t=e.getPath();e.setMap(null);var n=new google.maps.Polygon({clickable:!1,fillColor:"#848484",fillOpacity:.3,geodesic:!0,map:K,path:t.getArray(),strokeColor:"#848484",strokeWeight:3});T(n)};K.addListener("mouseup",(function(){return t()})),K.addListener("touchend",(function(){return t()}))};(0,e.useEffect)((function(){if(S){K.setOptions({draggable:!0}),google.maps.event.clearListeners(K,"mousedown"),google.maps.event.clearListeners(K,"mousemove"),google.maps.event.clearListeners(K,"mouseup"),google.maps.event.clearListeners(K,"touchstart"),google.maps.event.clearListeners(K,"touchmove"),google.maps.event.clearListeners(K,"touchend");var e=new google.maps.places.PlacesService(K),t=S.getPaths(),n=[];t.forEach((function(e){e.getArray().forEach((function(e){var t=e.lat(),r=e.lng();n.push({lat:t,lng:r})}))}));var r=Math.max.apply(Math,Gw(n.map((function(e){return e.lat})))),i=Math.min.apply(Math,Gw(n.map((function(e){return e.lat})))),a=Math.max.apply(Math,Gw(n.map((function(e){return e.lng})))),s=Math.min.apply(Math,Gw(n.map((function(e){return e.lng})))),o=new google.maps.LatLng({lat:i,lng:s}),l=new google.maps.LatLng({lat:r,lng:a}),u=new google.maps.LatLng({lat:(r+i)/2,lng:(a+s)/2}),c=new google.maps.LatLngBounds(o,l),h={bounds:c,type:[D]};e.nearbySearch(h,(function(e,t){if(t===google.maps.places.PlacesServiceStatus.OK){K.fitBounds(c,20);var n,r=[];switch(D){case"tourist_attraction":n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABmJLR0QA/wD/AP+gvaeTAAAF60lEQVRYhbWYa2wUVRTH/3d29tXuoy2PQClYti3UIJRuZ8vSB9gWw1MLCVkIFC2CBghGTUxINEhQa1B8xheiHwxEPzQi4ZGQCGKkpUQ63VBeFoktpALF0udstzu7M3P9AiR0d2Znt+X/8Zxz/+e32Tv3nhmCJFVfX2/IyckpoZRWAygEMJmIoSwAoGZLJ4AuAH4AR9rb28/5fD45mT4k0QU8z6dQSl9nwuJr5o7r461tl2DqvAHDYB9IJAIAoEYjZEc6wtOmI5Q/G8PZufdgtnwC4HOO44KPDbClpaUG4vBe2/mzk+wNJ0HEkK511GhCYF45hLJFd6jF+gbHcT+NKWB9fb3B5XLVWdr/3pF++EcwwoBe/0ckO5zoW1WDUHbufkLIdo7jIqMGvHLliikYDB5JbTm3JO3EIRA5qa30UJRhIFQuR6B80QlKaXU8SCae4fDw8Ff2pt+XpB+vHzUcABBFgePUMaSePb2UUvplvHpNwObm5u3m639tdpw6NmqwkXL+ehTW61df5nl+q1adKmBra+tEdkjYk/HzDyCUjjkgQJFx6CAMQ4EP/X7/hIQBI5HILvuZk6mMKOpqZ5icBbNnPsye+TBMztK1hogh2BpO2hRF2alaEyvY2to6kXbfvTXxizo23r4zF5fCvuElsNk5j8SlG/9AOLAfYnOTNiVjQNcrb0p03IRMt9vdHZWOtUaSpGrrZX9cOFvNZqTv3BMFBwBsdg7S3/4AtvWbtAEVGdarrawsy8/G5I8VpJRWW9oua/paq5bCtuYF7eYAbGtrYa1cou3VdgkMw1TrBiRiqNz0701VQ2Iyw167JS7cA9lrt4KYzKp5U+cNkFBogS5AnudTDMKAA1B/cs3uYjBpGboBmfQMmAo9GhUUTGAwrampyRoXkBCSaRAGNRuyrjzdcA9knJ6rmTcIAzCZTJkj41GAsizbSCSsaUaMpkT5QMwW7XxYBMMwtpHxKECGYXqpNVXTTL73X6J8kLu7NPOKNQXhcLgnimdkwOl03o040iQtM9H/J5DI7UIpRP95zRLZmS7Z7faoXx4FmJeXJyrOtIuK3aluducWQo2ndfOFGn6D3HVb3c+RBsnuvDBr1qyovaV21TWK07UfhMF9n2o2fdj8zi0M7vtMs0bMzgWAxlg5tYP6cPDJOZqmyuAAenZsQ/iiX7Um3NqCnh3boMQZcIdnzQXDML/EyrGxgh0dHQ2unPwuxZoyiRlWf4VQenvQ+9arMM3lYJm/EOyUqQAA6VYnQuf+QPgCrwkGAEqKDaJr5m23231WN6DP55N5nv9mqKhkt73xVNwm4Qu8LphYGuJKoLDs14QQJVZeddySJOnbYHGZSI3GpBrrETUaEeRKQyaT6Tu1GlVAr9d7N2J3fhwoqXw8dACE0ipIDufegoIC1YNVc+QXRXFPoKSiW7Y7xhxOTrUj4F14T5Kkj7TqNAHLysoEarHuFp7WHpeSkVC1HNRi3en1ejUv/rhvdZTS/UNzPG3hrCfGDC6clY1ggeeqIAjfx6uNC8hxXARG4/reVTUyTWJIGCnKGtG3cp0sE1JbUVGheaXqArwP6Zcyxr83uCjmVJ6QBhZXQxo/8Z3i4uJmPfW6AAGAEFIneEr5kGtm0nBiTj6CXGmzIAjv612jG5DjuAgIqelfvSEgJTBNP5DsTEffqvUBBdig569NGBAAPB7PNcmaur537SZKWf0HOGVZ9K7ZSKVUW63H47mWSM+EAO9DHo1MmlI3sHy17jX9K3wIZ0571+PxHEq0X8KAAFBUVLRrqHDe8UBp/FtGKH8GwbnFR4qKinYn0yspQEKIYjQa1/ZXreCDczjVuuBThRisXHYewDq1YeCxAAJAQUHBkIFll/Wt8LWLrhlR+ZBrBvpXrrspyfJziX72HRNAAHC73d3EbF7cs/bFrvtTMQBAnJqNXt/GO5Q1Vnm93ruj6ZHwR/RY4nk+nxFDZ8Yd3DcBAHo2bOlWzJYFHMe1jdZ7TAABgOf52ZDlAwAAg+F5juMujYXv/4+yMYLg0PcTAAAAAElFTkSuQmCC";break;case"restaurant":n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABmJLR0QA/wD/AP+gvaeTAAAF7klEQVRYhbWYbWxTVRjH/6e3t13HXrpupCtSYHWgMBis67ULynC8iLwokehCAEE0xsgHg8IH3mQihshLgokS/YAvgfgBhhI0EROjJTBmZlvAsBEl7G7LYGWwdS9stL1vxw8IYbT39rYr/6Qfep7/c55fn5x7zrklGIUCgYCbUvoyADcAhwHyOABQwHQBCAG4AOAUx3EX061BUk1oaWkxRSKRdyELm/P6msdbuxsxJtwCNhYGG+sHAIhmK0SzDcO2MvTbn8VgwbROMOYDFovlq7KyMuGxAQaDwVeIFDtY1PnLRMfV72EUB3TlSaZ8hCavQY9zcbtsYDdyHHcqo4CUUhIIBOpy+6/snHRpHzHfDemdf4Ri2Q60V2yhQ9ap+yorK7cRQpRkOUwyw/Hjx5loNHqsMHRmgyu4i7CCvq4lklEcQuH134lgGftc63D21AULFpysr6+nmjnJJi0pKTkwtuPnVyc0f5422MMiVMSkvw/AoIi1cC3tBLBZy2/QCgaDwfW54csbnVe+zAjcw3I2f4Hcnkub/H7/Wi2f6hpsbGy0WUiEn37mrXyjMJhxQACQ2Hy01HzTR7OsroqKiv5EHtUOmkymbY7Wev1w+U7ANffeJ9+pK8UoDsDeWl8gy/IWNU/CDl68eNHKDHd3T/etMxFF1K5SOh+o2QE4ykeOd10CfJ8ArT7NdMXAoqXmSEzIKrR7PJ64JzBhBxVFWWYNnUsOV70ZWHUsHg4Axs0CVtcDcz7QnMKgiLB2nzdTSpckjCcapJQut3Y3asPNqAWe3wrtrZQANduBshWaU+XfPA8Ay3UDGuRYdU64WX1GoxlY+JFm0RF6YTfAmFXDub2XYaBitS7AQCDAskJfEaGyesGSuUCOXT9gbjFQMkc1TKgENtZn9/l8cftyHKCiKMVsNKy5P6J4un44nTlsNGwoKCiI+9VxIAzD5BjkqHYxoyVFOgDsGM0wI0cgSVLuo+NxgKIohiU2zjdSgzdSpAMwcF0zLLF5ANDz6HgcYCQS6RUtRdp3tlYfAM0zfqSoArT+oWEgELKKojzP9yUFrKmpkQTWGhQsxerz9XcAzT/oB7x8AhjoVA3Hxjggma2B2trauCdT7WFoGCycqV309FYg3JYcLswDv27VtNyxzQSA84liCQEZhjnZ71DfFgAAkTDw7WKg7ay6p9V3zxNNeA94oD5HNSilPyaKJTwGKKXkwl+NHTN8a51sLG5ZxKukGpi6DLCV3vsevgZc+Qlob0iaKpptaJ53tL2Cq3IRQuIWdsILKyGEBgKBQz0Tl33quHo0OWDbWe1Oauj2xJegGNhDieAAjeuWLMuHb01Yeldh0tjzdEo2ZqNn0pJhk8n0tZpHFdDr9fZKZtvem6UrHw8dgJulKyGZbHvKy8tV15HmkSYIwv5brhU3BMvYjMOJWUW4NWl5iFL6mZZPE3D27NkRiZjquqasyywdgOtPvwlqzN7m8Xjuavm0LwUA2travusbv/DSkG1GxuDuFJaj74n5QbfbfSSZNylgbW2tDAOzun3WJiETD4xstKC9fLNIQdbreXFPCggAbrf7Sswyrq5z2jujBuyctgFCdvE2j8dzWY9fFyAA8Dy/v3fi4sYBe1XacP32KvQ6FzXwPH9Qb05Kfx75/X6XURq8MLXhvfxU/58RLHb8U/1Ff5TkuL1er45D/J50dxAAOI7jJWPea3xlnaIY1N8xHpViMOOaZ5ciMHmrUoFLGfB/yN+Gc0t2dsx8X2cGQfvMTYjkubZzHHc61XopAwKAx+PZEx4370RoyutJvV1T1iLsmHussrJybzq10gIkhFBBENaGpqxp7HUuUvX1OF9EaPLqc0NDQ2+oXQaS1kon6b6ampoKWaL86Qp+PDn/VtOI2IC9CtcqdvAGNqvK7XbfTrdGWh28L6/X2yuBmc+7P+wYGMs9GB8sqgA/a/sNxmSZPxo4YJQdvK9AIPCkQY6cK/XvdABA6zO7uyRinsNxHD/auTMCCAB+v/8pQnAYoJRS8jbHcf9mYt7/ADmCGyPOr6HIAAAAAElFTkSuQmCC";break;case"cafe":n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABmJLR0QA/wD/AP+gvaeTAAAGIElEQVRYhbWYbUxTVxjH/6e3vS2UFso7SBVBkBd1Uu6liPgCGuc700y2zIXMuTcXZ4gj2eYSXfbB92QvxsUsLllm5qLOOT9Ml7jNTV0VeysuClGmBRXBNwRqpaW9vWcf1EVte3sp+P94nuf/PL97envOuYdgCBIEwUIpXQjAAiADoJkPIqQTQBeAMwAO8jzfFG0PMlhDc3Mz6/F4VgREf4O7qzXrblsTXF2t8Pf3we9xAQA0MUZoYuNhzMhHYo4Fcel51xi1ZmtMTMyO4uJi3zMDdDgci0S/77NbLX+O6rAfhOh1K/KpYwwwczVIKZrWrmLU9TzPHxxWQEopEQRhnfvGpbX//vY1GXDdVlr/CemMKcib9Q6NS8vdXFpauoYQIkXyMJES9u7dy3i93j3dlxrfbf11GxE9ymYtlMSBfty+YCOsIbHS5dcUzpw588C+ffuonEcdqejo0aO33jz/x4vOv76LGuxxUUnE5d93ggbE2pzi6dcANMjlq+SCDodj2b2u1vr2498PC9zjaju2C30dLe/b7fY6ubyw76DNZktUiQPOpt0fxYsD0f+sclLr4lCydFOPVm/MKSkp6Q2VE3YGWZZd03n2sGI4Q1ImzEXlMBeVw5CUqcgjet3obDpkCgQCH4bLCTmDTU1NCR7X7Ztndn3A0oBftsnI8ZWYtHgVUkYVPjF+q70Zp/Z/iavNNlm/Sq3BxFc3D2j1pjSO4/qC4qFMkiTN774kRITjF7yNhfVfBcEBQGp2MRau3gFu/luyNSTRjx7nGS2ldG7IBwg1SCmt6WmT353GTpoP66KVAJFZSglB+eL3kGedI1vrrtMBADWKAQOib6qr82LYgoxGi4ra1bJNH1flSw1g1GzYuKvzIqgUmKoIUBAEjdjvSqY0/CJvLrRCH5+iGFCfkIqswrKwcSoF4L/fm3b06NGgdTkIUJKkdF9/r+z6mDyyQDGcUo+vv09lMpnSIgIyDBMn+Qdki6lZ7WD5oNHGyMYlvxeiKBqeHg8C9Pv9dxmtXraY++6NwfLhXneXbFytiwOAO0+PBwF6PJ5urSFR9sx29bwNoLJ7/BOiVHrgCSdCoNGbvE6nsyciYFVVlajWGRxaQ3LYeq4719HaeFgxYOvJX3CvuzNsXGdMBRtrFGprawMRAR/qRHxW8OL7uI7t3oC+W1cjwvXevIJjP2yUzTGOKACAv0PFQgIyDHMgKZeXLep192L/+jp0tDSGzbnabMP+DXUYuO+SrZU0hgel9KdQsZDbAKWUnG48daVpV4PZ3x+0PQYpq8iKXMtMJKRnAwB6b7TjsnAEHRdOR/SysQkoqdvazpdZcwghQS92yAMrIYQKgrA9fVzVxmunf47YpKOlUXYm5ZQ2vhoqRr09FBwgc9wKBAI704qm9zMaXVSNlYjR6JBeNP0+y7LfhMsJC2i1Wrs1+oRNI0rnPRs6ACO4BdDo49dPmDAhaHl5JNktzefzbcmY8Px1rSFx2OFYvQkZ42Z0UUo/l8uTBayoqPAQtWZdVtni4aUDMHLSEjDamDUcx/XL5ckCAkBbW9u3qQWTzxoz84cNzjiiACljJzksFkvET8WIgLW1tQGVilk6pvoN33D8YRhWh9zq5X6ALFPy4R4REAAsFkuLNj513ajJLw8ZMLtyKXTGlDUcx51Tkq8IEACcTueW9KJpNlP2xKjhTNklSC2ccsLpdH6m1DOoyyO73Z4T8LjPnNv/abx3kPczWkMSnlvySS/YWIvVam1T6lM8gwDA87yTiYlbUjBnlST3jRHURM2iYG69pNLFvTIYuEEDPoQ8okvKWptT9boyAyHIrV6O2GTzxzzPKz+jRQsIABzHrU/OL//RXPZCxFxz2SIkjSnbU1pauimaXlEBEkKoz+erM3M1ttTCKWHzUgunIotbeNztdr8W7jAQsVc0pkdqbGxMIqAnWw9vy+u58s8TMVP2ROTNXunUaNhyi8US3Y0nopzBR7Jard0gqhl5s1deSRg5/v/x+Kwi5M9acZ1ltTOGAgcMcQYfSRCEXMnnPX7h0BcZAFA4r74TanYKz/POodYeFkAAsNvtYwmwE5RSSsibPM+HvzsZhP4DMMYan7SqBu8AAAAASUVORK5CYII=";break;case"bar":n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABmJLR0QA/wD/AP+gvaeTAAAGE0lEQVRYhbWYW1ATVxjH/yebbAj3cAkSQE0EKaAoIWuQeilCtYPWS2t50KlTO61TnU5lqp127Iw+dHRqtdU+2NrWztj2Se1o6cg4Tp36IFAwG7CjtHghiNysgAQJJiTZPX1obcVkN0vA/+Oe7/Kbb7/znbNLMAnxPG+hlK4GYAGQDgojAICgF0AfgGYANRzHtUSag0zUobW1lfV4PFsDfmHn4PXRzB6HCwPXR+AdDmDsgR8AoI3XICpBjZTcOGRY9UieHd2l1jAHdTrd0YKCAt9TA3Q4HOsCPnrI+eu9Ga0/9cI3ElDkp41XI3+tEeYyw22VmlZzHFczpYCUUsLz/J7Bm6O7m452kNF7Y0rjj1OsQQvbNjNNzo75pLi4eBchRAznw4QzOHnyJOP1ek90NQ5ta/i8nYwprFoo+UYFdNYNEl0Su8jDDudVVFScOXXqFJXzUYcLajKZDrZf6F/vON4ZMdjjEgMU9q9vgwZolXmZuQvATjl7ldyiw+HYPHDdXd38w50pgXtczd/dwb3WBzvsdvsmOTvJHmxoaEjCmMp57r1rCWPuyF+rnNg4NSoPzh3SxbPmoqIiVygbyQqyLLurrfauYji9MQ45CzOQszADemOcIh/fSABtZ/v0giB8IGUTsoItLS2J7n7PX7U7rrKiX7aHkbs4CyuqFyAjP2Xc8+5r/Th/+DJu1HfL+jOsCpWfzh3T6TVpVqt1+Mn1kBUURXFV1+WhsHDlWy3Y/FVlEBwAZM5JxevfrMSytyyyMQSfiB5+SEsprQy1HhKQUrqmtzlkS/ynotU5WP4OByIzSQkBVmznMK8yWzZWDz8EAGsUAwZ8wpL+NrdkQLWWwcqdJbJJH9eq90ugZqVHbn+bG6JAlygC5Hle4xsWUqgo/XqzSzIQlxqtGDDeEINZJUbJdVGgGHMF0i5evBg0l4MARVGc5nH5ZeejMS+458LJ+Iy8j8flU+n1+rSwgAzDxAbGBNlgGm3YEzJIrE7+0Ap4RQQCgaD5FATo9/vvszHyAK67oxPlg6tPuqcBgI1VA8DAk8+DAD0ez2B0klb2znazvgtUfgKNExUpbtRJz0NCAF2S2ut0OofCApaVlQXYeMYRk8pKBrzfPYLfa28pBmw5exNDvSOS6zGGKETFs3xVVVVQb0lthjpDfrxs0pq99Ri8EzT4gzTQOYyf9zbI2hjyYgGgPtRaSECGYc5kLtDLBn3o8uKLDTW41dgjaXOjvhtfbqyB54H8BTfTlgRK6elQayHPAUopudxo76ytvprlHfbLBgf+mYtzlpuQMjMRADBw24Wr551ob+oN6xuVqMHKw3NvL7BxZkJIUGeH3PuEEMrz/JFZ5akft54On+RWY49sJeWUXWEAo1YdCQUHyFy3BEE4Zi5LfaiOkp3Zk5JGxyC7zDDKsuy3UjaS2W0226BOr9mf92L606EDkLc6HdpE9b7CwsKg8fJIsuXx+XwHcl5I64lOkh45kUqXpEHO84Y+SulhOTtZwNLSUg/Dkj0F66UP+khVWJUJtY7ZZbVaH8rZhW2wjo6O46bFKVdSc5Vd45UoNS8OM55Ndlgslu/D2YYFrKqqElSMaiO3xeSbig2jiWLAbZnhB8FmJR/uijJaLJY/YtPYPfM3Zk0acP6rWYhNjdpltVqvKrFXXBKn03nA9JyhwViUGDGc0ZII09KUOqfTeUipz4R+HtntdrPfLTRf2PNngnuC/2eiU1gs/6jAxUTDYrPZOpT6TaipOI5zamKZV0qrs0WGVe7KsASL3s0RNbGqDROBmzDgv5C/JGRF7ebemKnInhCA22JC4nTdhxzHnZtovoi2pdVq3Te9NOnHgpfCz8eClzOQZdOfKC4u3h9JrogACSHU5/Ntyl+X0WBaKv0xZFqagvy16ZfcbvdrUpeBsLkicXqkpqamZFDyW8Ph9py+K+Mvr8aiRCzcbnJqWE2JxWLpjzTHpCavzWYbJCqUl27P6Zw27/8beFpBHEreNvewWrZ8MnDAJCv4SDzPzxK84qVLn91MB4AlO2b3EhaLOY5zTjb2lAACgN1uzwXIMUpBCaFvchx3fSri/g05ghlcfsIE5QAAAABJRU5ErkJggg==";break;case"store":n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABmJLR0QA/wD/AP+gvaeTAAAF6klEQVRYhbWYa2xTZRjH/+85Pee03dp13br7lHVjhAyG63rsQJngiAHGJd6aiICQaOLtAwkQyQTmBQkICRqD8QMmhOAHNhSIMX5QQQRmRltmmBDJpGPOMW5bd2/X03NeP8gI0Pb0tBv/j+f9P8/zy9P3PO97SjAJeb1eB6V0BQAHgHyZoAAAWIrrAHoBXABwQhTFtlRrkGQDLl26xAeDwbfCirypXR4tagkP4E9pGP1UwoAiAQAsDAcr4TCLM+Ep3oIKNq1bYNi9BoPhq4qKivAjA/T5fM+PU7rvh9DNxw8HezF4FyiRLESH1cZCLNXnXOMo3SCK4okpBaSUEq/X23hZHt2+a9hPepVxrfkfUD4roCG9lM7UpX1aXV3dQAhREsWwiQxNTU1sKBQ68qsUeLtx6G8ySCMpwQHACJXxc/gOsTH808ZbgzMXLVp0rLm5marF6BIlLSkp2ft96NZLn492pQx2vyRKsWekExKoe5nd3g1gk5qfUVv0+Xzr2yMjG/aP/TMlcPfri5EutElDGz0ez1o1X9w92NLSYg3qGP/6gfaMoUn8rGrKYDgczJwVsLCCvaqqaiCWJ24HeZ5vaArd0AxXbDBhQVYRFmQVodhg0hQzqEg4MnYjU5blLfE8MTvY1tZmuRkJ3lzTf5GXoLqHUZddjG1lLswxZz+YY+g2dnScx8m+btV4DgwOWyvHswiX63Q6Bx9ej9lBRVGW/TYeSAi32V6NZkd9FBwAVJltOFpdj412h2oOCQrOjgcESunSWOsxASmlK1vCMbfEPbnzy9FQJqoOUgJga9mTeCGvTDXXuXAAAFZqBhxX5Np2aThuQoFh8VF5jWrR+/XJjLkQmPgj96I0DAm0VhOg1+vlApCzZZWf95msIuQKRs2AeUIa5lsL465HQBGgkdxTp05FzeUoQEVR8vqVsOp8nG3K0gynNaZfCTOZmZm5CQFZlk0PUvUj0sAkPICilMZyqutjVEEkEomaT1GAkiT1m4j6Ed0TGkmWD/8miDETHQDcefh5FGAwGOyzMbzqne1kX3eCAfSgFErxi8o8JABsjC7k9/sDCQEXLlwYsRCdL4/h4ybsCg7j294OzYDNvR3oDsafCgWsHhaG97rdbjkh4F2dfYIzqxZ9769z8I9FDf4oXR0bxJYr51Q9c3QmAIhpignIsuyxWsGqmrRfCmHJ+eM43d8T13OyrxtLzh/HgKR+wa0VMkEp/S7WWsyDgFJKWjyertWDF4sDGq71z1gLsTzXjlJjBoD/u3biph9nVOAnZGV4fGOdfa3GIdoJIVFbO+a8IIRQr9e7f7k+Z9ehscRFTvf3qHZSTSv0NnCU2R8LDlC5bsmyfKBesI0ZiOrMnpSMhEW9PmeU5/mv43niVne5XH1ZDLf7FUPBo6EDsMqQDyvD7aysrIwaLxNSbU84HN7zojG3x6YyclJVNsNhpT63l1L6mZpPFXDevHlBXiGN64zxD/pU9bqxCEaGbXA6nWNqvoQbrLOz8+BzQvYfszlt13gtmsOZUCdk+xwOx6FE3oSAbrdbZhnm1c3p9vBUvDAGwmJz2jSJAOu1fLhrquhwOC4XMHzjm8bHJg34jrEYeay+wel0tmvxa26J3+/fs9SQ01LDW1KGm8tZsFhvO+v3+/dpjUnqzyOPx2MfovKFd4cuZ/TKyf0/k8vw+DJz1kC6DIfL5erUGpfUphJF0W8m7MsfmqYrQhL7USAEH5vLFTNlViUDlzTgXcifShj99o1p0zT5CYBNaXbYWcP7oij+mGy9lF5Lp9O581kh6+haDfPxNWMhFvCZR6qrq3enUislQEIIDYfDa9cYC1sW621xfUuEbKw2FJwZGRlZF+8ykLBWKkETam1tzVJ05PcPhq5Ob33oQ7+Gt2B7mt2v13E1Dofjdqo1JjV5XS5XHyujrtE0vUvkMu49d3BmbDWV9hg4vm4ycMAkOzghr9dbGqTKmW3DHfkAsMNcfl2gmC+Kon+yuacEEAA8Hs8MEHKAApRQ+oYoilemIu9/VEMWFRiiZjYAAAAASUVORK5CYII=";break;default:n=bb}e.forEach((function(e){var t={map:K,position:e.geometry.location,icon:n,optimized:!0,zIndex:99};if(google.maps.geometry.poly.containsLocation(e.geometry.location,S)){var i=new google.maps.Marker(t);i.addListener("click",(function(){Y(e,i),y(e)})),r.push(i)}})),K.panTo(u),R(r)}}))}}),[S]);var Z=function(){B.current.checked=!1,E(!1),O(!0),L(null),F("display-none"),G.close(),K.setOptions({draggable:!0,clickableIcons:!0}),S&&(S.setMap(null),T(null),N.forEach((function(e){return e.setMap(null)})),R([]))};return(0,e.useEffect)((function(){p&&(p.setMap(null),m(null)),G&&G.close(),B.current&&Z()}),[a]),e.createElement("div",null,e.createElement("div",{className:U}),e.createElement("div",{className:"search-input-block"},e.createElement("input",{type:"text",className:"search-input",value:o,onClick:function(e){return h(e.target)},onChange:function(e){return l(e.target.value)},onKeyPress:function(e){"Enter"==e.key&&J()}}),e.createElement("input",{type:"button",className:"search-button",onClick:function(){return J()}})),e.createElement("form",{className:"drawing-search-option",onChange:function(e){google.maps.event.clearListeners(K,"mousedown"),K.setOptions({draggable:!1,clickableIcons:!1}),B.current=e.target,O(!1),L(e.target.value),p&&p.setMap(null),E(!0),F("drawing-cover"),G.close(),K.addListener("mousedown",(function(){return X()})),K.addListener("touchstart",(function(){return X()}))}},e.createElement("div",{title:"Attraction"},e.createElement("input",{type:"radio",id:"tourist_attraction",value:"tourist_attraction",name:"search-option"}),e.createElement("label",{htmlFor:"tourist_attraction"},e.createElement("img",{src:pb,className:"drawing-search-option-icon"}))),e.createElement("div",{title:"Restaurant"},e.createElement("input",{type:"radio",value:"restaurant",id:"restaurant",name:"search-option"}),e.createElement("label",{htmlFor:"restaurant"},e.createElement("img",{src:mb,className:"drawing-search-option-icon"}))),e.createElement("div",{title:"Cafe"},e.createElement("input",{type:"radio",value:"cafe",id:"cafe",name:"search-option"}),e.createElement("label",{htmlFor:"cafe"},e.createElement("img",{src:gb,className:"drawing-search-option-icon"}))),e.createElement("div",{title:"Bar"},e.createElement("input",{type:"radio",value:"bar",id:"bar",name:"search-option"}),e.createElement("label",{htmlFor:"bar"},e.createElement("img",{src:vb,className:"drawing-search-option-icon"}))),e.createElement("div",{title:"Shop"},e.createElement("input",{type:"radio",value:"store",id:"store",name:"search-option"}),e.createElement("label",{htmlFor:"store"},e.createElement("img",{src:yb,className:"drawing-search-option-icon"}))),e.createElement("div",{title:"Hotel"},e.createElement("input",{type:"radio",value:"lodging",id:"lodging",name:"search-option"}),e.createElement("label",{htmlFor:"lodging"},e.createElement("img",{src:wb,className:"drawing-search-option-icon"}))),e.createElement("button",{className:V,title:"Choose a type, draw an area to search places!",disabled:x},e.createElement("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAACUElEQVRoge2WvWsUQRiHn1k8cxpPo6coJAZMY6cgxEJiIX4h2oiN/4CgWImaxvYKDRHL5AI2grWIYhEOEQ6ChaDYiEUsFAS/vXCeJ8q9Nt6eudvvnZ3dYn/V8s688z4Ps8VAnjx5Uo1Uqcgcs2lzRIpUqcg8IvNIVAmlGypopEoF4drqIjfVBa6EOScVAUd4ezGchHEBT3h7U3AJowKB4O3NwSSMCYSCt5v8JYwIRIK3m70lEheIBW8f4i6RqIAWePswZ4nEBLTC24cOSlhaB3TnJAEPoJDBkuYkBg+z6jxX+4taBUzDg0aBNOBBk0Ba8KBBIE14iCmQNjzEEMgCPEQUyAo8RBDIEjyEFMgaPIQQyCI8BBTIKjwEEMgyPPi8RqVenGC0cCjuEIdogQe/53RHjlKyDjBWWNIx7F+0wYOfgFKHATRKaIUHDwERLER6v098Ce3w4HUDTwr7gK2ratElEoEHLwFLHXGsh5dIDB68BLr/v1OCSyQKDy4C92/vLjVaQ1Oenf4SicODi8CHT+Vzlx8cL35tFb273SWMwIObQHP4zNtvm5h+eIwIEsbgwUXgXWPjXoBQEqOFpwjXTcKDw1vo7q3JiTvP9ix3pLc0vrnBzKlFtqxv9+2WLyjrMUINi5o62H6TNHB/1vQXPv8oXvwfHno3cePk4q/yhnYdkRqW1Jj6/VwpOsZoHTIg8LFZOtH9tpSwc6TRGhtZeVle9/Ne/fWuhdOXXnw3i+idAYGV9trt+8ffv9o23Hy0Y+jP3NnppeU0wPLkyRMsfwFLdQUU9pd5TQAAAABJRU5ErkJggg==",className:"draw-btn-icon"})),e.createElement("button",{className:j,onClick:function(e){e.preventDefault(),Z()},title:"Remove area/Stop drawing"},e.createElement("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAAEr0lEQVRoge2Yz29UVRTHP+e9N0xLpy22nTKtEhAlcSELExQjIhoTcOOCsJA/wIibYvwHjDGuCS6IMRK3ugJNXACycAGJmhIILgwk2oSWMjOFqTjjdH68d4+LdtrpMI95896bSUz4Lu99c+7ne855d+678EQhpCpvfjm3K45QVhxBupKqvHF24bRn2zde/2p+f9RwEgdTYK3Bq+rJtZGHqnLkyokdv4YN2b8KqMrBr+980QQPMCqiF1478+fLYcP2x8Ba5kFmHp0ydxYf/PP9M5/Nhmqn3rfQo23TNGVuzmeXdyuaAh4aMUcWPtnXVTv11kBw+Ia6NtE7A93DN9SVid68Ax3gF3LLz/nAA4xaal0M+k7EX4EA8EZ1KECkQJWItwJh4VUx5WVQ0zwaqBLxGYiQefVqmEoJt5jv2kQ8BqJkvlJE7CT28AS4dbS20vrUY01EN/BYeP19Ibv8vF/mTa2MKS/jlQuIM4gzOoUk2z46ujWRPHPw7Pwr8RromPnCboNubfM7TH0FKzmEDIyg1RLqVsB22i6zJeHcnhwfeRajl1oPgOF3oQg9b8p/YypF7KExJDmEulXESfrCZyZGJwQZWxvadAAMZyBCz6txEcvBKy2hbgV7ZAqxE22XSSSc21PpbROijG0KA7kVdXZfOzFdbl+zXsADXrmA1lewhyexU2m0vuILv575FnigBvr+tRPTZQC7L/CqoLraJvUyplrCSqa6aZt1eEWPXflg54+NgeAGomS+dB+tFrEGUkhiCMu2kcRAZPjgBqJkXkAsG1MtorUK1sBILJkPbEBV5eo3d0+5Rj9qnTPGXL+7tLzHD94r5lG3tpp5ZwCs+DIfyICqyr17udOHdloHLs5540ZxNua4eTdfaA+PgggYD60UUWOwksNIIr7MdzTQgEc4Oegw/dZO+0bDhCo3F3IPfNvGKy4harAGRwAQsXsCDz7/A83wzeOFKrMzP1Vl7l7hBf8jseIV76PuCvbgU8jAsO/iUeGhzVHCDx5gLMm+U4dszxJ9dPNWxZSWULeOnZpAnEFU1Xfh5Bbn1lR623gUeGipwOPgm3W/bGaPfpvbW/d0oy+Mh1vMgTHYw5OIk2gNv644Mt/QpgosZrOfdoIHmNhq7Tv33uR1x6K6EcnGGd4OloW61b7A07zKfD6/x/bMH3Tx57ZU8n45+l3uJdewUQk1IO0PuXHDQ1MFbFffpcujRTplv3r++PbNlfCBT25xbsUND5taSMfDBGhrokWr8Ntih4cmAyJ6O2yQVROZG+1MNOBRWhMUGR6aDDiOcw7Ihw2UTln7W030Gh6aDKTT6aKgx4FK2GDNJvoBD232usXF/DuIOQ+0P3UFUL5kfvv459ouV63JlqmKGjl65cMdF8LGblXbzXpxMXcY0R+IYKJQZfbk5dqLdbMeI9bMN+T7TRyXiZnLtb2uQXoBDx0+6uNop9y/XJ25XP88zrZpVsdbiYiVqFnCsUwmE3vmGwp0rRLSRM/hoYt7oS5N9AUeurzYCmiib/AQ4maug4m+wkOIy93p6e2XUHMYmGuZ+gu13u4nPES43FXVRDabPaBqPS1iFjKZzFURceOEe6L/g/4DYcWYptU3OKMAAAAASUVORK5CYII=",className:"draw-btn-icon"}))))},Cb=n.p+"img/icons_loading_circle.gif";var Nb=function(){var e=C(_().mark((function e(t){var n;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,om(dp(bv,"trips",t.tripId,"tracks",t.trackId,"pins",t.pinId));case 3:if(!(n=e.sent).exists()){e.next=6;break}return e.abrupt("return",n.data().notes);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error getting notes",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Rb=function(){var e=C(_().mark((function e(t){return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,hm(dp(bv,"trips",t.tripId,"tracks",t.trackId,"pins",t.pinId),{notes:t.notes});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("Error updating notes",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}();const _b=function(t){var n=t.isNoteOpen,r=t.setIsNoteOpen,i=t.currentFocusNote,a=t.setCurrentFocusNote,s=I(ge(),1)[0].get("day"),o=s?s-1:0,l=I((0,e.useState)(""),2),u=l[0],c=l[1],h=I((0,e.useState)("display-none"),2),d=h[0],p=h[1],m=I((0,e.useState)("display-none"),2),g=m[0],v=m[1],y=I((0,e.useState)("display-none"),2),w=y[0],b=y[1],A=I((0,e.useState)(!1),2),E=A[0],k=A[1],S=f((function(e){return e.trip})),T=i||0,C=n?"notes-container":"display-none";return(0,e.useEffect)((function(){r(!1),a(null)}),[o]),(0,e.useEffect)((function(){T&&n&&Nb({tripId:S.tripId,trackId:S.trackId,pinId:S.pinIds[T]}).then((function(e){c(e)}))}),[T]),(0,e.useEffect)((function(){E||c(""),v("display-none"),p("display-none"),b("display-none")}),[i,n]),S.pinList?S.pinList.length>0?e.createElement("div",{className:C},e.createElement("div",{onClick:function(){return r(!1)},className:"close-btn"},""),e.createElement("div",{className:"notes-top-part"},e.createElement("div",{className:"notes-title-block"},e.createElement("div",{className:"notes-icon"}),e.createElement("div",{className:"notes-title"},"Notes")),e.createElement("div",{className:"notes-pin-name"},S.pinList[T].name)),e.createElement("form",{onSubmit:function(e){e.preventDefault(),p("display-none"),b("saving"),Rb({tripId:S.tripId,trackId:S.trackId,pinId:S.pinIds[T],notes:u}).then((function(){k(!0),b("display-none"),v("saved")}))},className:"notes-field-block"},e.createElement("textarea",{type:"textarea",className:"notes-input-field",placeholder:"Take some notes!",value:u,onChange:function(e){v("display-none"),c(e.target.value),p("save-note-btn")}}),e.createElement("div",{className:"note-save-bock"},e.createElement("input",{type:"submit",value:"Save",className:d}),e.createElement("img",{src:Cb,className:w}),e.createElement("div",{className:g}," Saved")))):void 0:e.createElement("div",null,"Loading...")},xb="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAAGKklEQVRoge2ZWYwUVRSGv9PNLKBO9wCiMEIAMSKLsqg4EhUXFBBZFBE1iIhBB0XFEGOMRo36oMFE3DAq8mAixLgQN1TceEABdRAQBhkYRWUXRxSwZxrn96G6HIau7qrqboIPfEkn1Xc59/xVt+499xQc5SiHBTscRiWVAL2BCqAsNc4+4Cdgg5ntOxzjFgRJJ0u6X9IKSUllJilpmaQHJHUt1Ph5PxFJvYCHgbFAFIDGBti2BX7fBYmE07C4BNp3gI4VzrVDE/AG8LCZrcvHj5yFSCoGHgFmAEU0JGDFUlj1DfxYC01N3h2jUeh6MvQfBGdWQkkpQBKYBTxoZslc/MlJiKROOHeykgMHYMnH8OkH8Pf+cIbaHAMXDYchlzkC4UtgnJltC+tTaCGSOgNfAN3ZuQ3mPQfbt4Y105JOJ8GkadDhRICNwCVmtjmMiVBCJLUFlgM9qK2Buc9AQyKMicyUtoYp06FHT4AaoNLM9gTtHgnaUFIEeBXowaYf4OXZ/iKiUYiVOz9n6mQm8Te8+BT8tAngNGCBpMA3OnBDSVXA8/xRD08+BHv/8m54XAwGD4E+/aFTZzBzDcCWn+H7lbD0C9j7Z+b+dz8A8bYAU83spYIJkdQB+AGIM2cWbPBYKc1g6Ei4eMTBy6s3DQlY/B58tsgReCg9+8ItMwDqgVPNbJefj0Gn1l1AnJUrvEUUF8NN02H4WH8R4Cy5I8fB5NugqDi9fv0a+O5rgHLg9iAO+gqR1Aa4FQk+fje9gRlcOwX69PO+u5kNQ98BMOHG5ul3MIvfc6+qJLX2MxfkiQwDyqmtge1b0mvPHQL9znIc83IoE05bMeAcGHReev3WX2DjeoDjgaF+5oIIGQXA6m/Ta0pK4LLRBzsWFqfT8DHeU3JNtXs10s9QECGDAO934/SBcFxZABM+lMWdVe5Qata4V+f7mcgqJDU3T6EhAb/tTG/Qu18ALwPSx8PWbzshmQToLqlVtu5+T6QDEOWPeu8X+YROQd3058SK9DIJdu8CKAI6Z+vuJyQOwP4M56CymK9/gYnFvcuTje6VxzrdjJ8Qx0qrDE81mVPEnWGkRu/y5pmQdTXxE+IEba3bZKit9+kegky2mheTrIP5CdkO7KNte+8duG6Dn3vB8bJVVOzGXHvMbEe27lmFmFkTsJZIBCo83rXV1ellueK1T3Xu6u5PvsfgIPvIJwD0PiO95sdad/fNjw3r3PC9Jc1jfuhnIoiQhQAMrPQ+U7z92sErS3iSjWLh/PTyaBT6n+3+e9/PjK8QM/sa+IrydnDWuekNtv4K818JFzC6SPDaXGObRww3sBLK2wEsMzOPedeSoGH8owBcPs57vV+5Al55Fhob9J+DmXDrGhJi7jNuuN6SWByuuNr991gQB8OcEBcA17BxPcyZ5Z3uadceRlzppHoyBZESVC+H99+E+t3p9ZEIVM10z+6vm9k1hRYSA6qB7iz9HN54NXPjWLkTO3Xp5hxdAf7aA5vrYO2q7PvPuIkw+EKAOmBA0ARE2CxKL6SvMCtj4XxYsjhMd38uuBTGTABpL2aDzWx10K6BsygAZrYOs/HAAUZP8A69c+W0vjBqPMA/mF0XRgSEFAJgZh8B0zCDG24VXbqFNZFOxwqYVCUiEYC7zMzjTJ2d0EIAUimapykqMm6aDvHyXMw4lMVg6gwoKTVgtpk9m4uZnISkmAG8QywON98ZLHtyKEXFMOUON55aBMzM1ZmchaTisOuBVVR0gUlVpKZGUAMwcSqpqbkWuNbMDuTqTz5PBDPbC4wAfqXX6U6uKiijxjvpICfCHhEmz+tFXkIAzGwrMBppPxcOc/eA7JxznvMpQUoAY8zs53z9yFsIgJlVYzYRaOLK6+DU3pkb9+gJV00EEGaTzWx5IXwoiBAAM3sLuI9IFCbfJjqelN7ohI4wZbpSR+d7zWxBocYvmBAAM3sceIGSUuPmO1rmvI451lndSlsbMM/Mnijk2AVHUpGkxZKkzXXSPbdIM6dKdbXuV90lqe+P/38klUuqkSRVL3N+DjWS8tg9jwCSukna8d/X9aam3ZJOOdJ+5YSkwZISkhokDTnS/uSFpIGSBhxpP45ylBz5F6ylMONTTzpEAAAAAElFTkSuQmCC";var Ob=(0,e.createContext)(),Pb=(0,e.createContext)(),Db=function(){var e=C(_().mark((function e(t){var n;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,om(dp(bv,"trips",t));case 3:if(!(n=e.sent).exists()){e.next=6;break}return e.abrupt("return",n.data());case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error getting document: ",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Lb=function(){var e=C(_().mark((function e(t){var n,r,i,a,s;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.tripId,r=t.trackId,i=t.lat,a=t.lng,s=t.zoom,console.log("save map, target: ",r),e.prev=2,e.next=5,hm(dp(bv,"trips",n,"tracks",r),{mapCenter:{lat:i,lng:a},zoom:s});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log("Error saving mapCenter",e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}();const Mb=function(){var t=function(){let{matches:t}=(0,e.useContext)(B),n=t[t.length-1];return n?n.params:{}}().tripId,n=I(ge(),1)[0].get("day"),r=n?n-1:0,i=A(),a=f((function(e){return e.dashboard.isNewTrip})),s=f((function(e){return e.trip})),o=(0,e.useRef)(),l=I((0,e.useState)(null),2),u=l[0],c=l[1],h=I((0,e.useState)(null),2),d=h[0],p=h[1],m=I((0,e.useState)(null),2),g=m[0],v=m[1],y=I((0,e.useState)([]),2),w=y[0],b=y[1],E=I((0,e.useState)([]),2),k=E[0],S=E[1],T=I((0,e.useState)(null),2),C=T[0],N=T[1],R=I((0,e.useState)(null),2),_=R[0],x=R[1],O=I((0,e.useState)(!1),2),P=O[0],D=O[1],L=I((0,e.useState)(null),2),M=L[0],U=L[1],F=s.isFetching?"fetching-data":"display-none",V=s.isPathUpdating?"path-updating":"display-none",j=new Lw({apiKey:"AIzaSyChp1JW3huDyuAiQrt3vb3hvYSQAuQazvA",libraries:["places"]});(0,e.useEffect)((function(){a&&i(Cw())}),[]),(0,e.useEffect)((function(){Db(t).then((function(e){return c(e),Ww(t,r)})).then((function(e){i(sb(e)),j.load().then((function(){var t=e.mapCenter,n=e.zoom,r=new google.maps.Map(o.current,{mapId:"6fe2140f54e6c7b3",mapTypeControl:!1,keyboardShortcuts:!1,center:t,zoom:n}),i=new google.maps.InfoWindow;p(r),v(i);var a=[],s=[];e.pinList.forEach((function(e,t){var n={map:r,position:e.position,icon:xb,label:{text:(t+1).toString(),className:"marker-label",color:"grey",fontWeight:"bold"}},i=new google.maps.Marker(n);a.push(i),s.push(e.position)})),b(a),S(s)}))}))}),[]),(0,e.useEffect)((function(){if(d)return function(){i(ob())}}),[d]),(0,e.useEffect)((function(){if(k&&d){var e=new google.maps.Polyline({path:k,geodesic:!0,strokeColor:"#FF0000",strokeOpacity:.5,strokeWeight:3});N(e),e.setMap(d)}}),[k]),(0,e.useEffect)((function(){if(u){var e=d.getCenter(),n=d.getZoom();if(C.setMap(null),w){var a=Gw(w);a.forEach((function(e){e.setMap(null)})),b(a)}return i($w({tripId:t,trackIndex:r})),function(){Lb({tripId:t,trackId:s.trackId,lat:e.lat(),lng:e.lng(),zoom:n})}}}),[r]),(0,e.useEffect)((function(){d&&(d.setCenter(s.mapCenter),d.setZoom(s.zoom))}),[s.mapCenter,s.zoom]),(0,e.useEffect)((function(){if(d&&s.pinList){C.setMap(null),w&&Gw(w).forEach((function(e){e.setMap(null)}));var e=[],t=[];s.pinList.forEach((function(n,r){var i={map:d,position:n.position,icon:xb,label:{text:(r+1).toString(),className:"marker-label",color:"grey",fontWeight:"bold"}},a=new google.maps.Marker(i);e.push(a),t.push(n.position)})),b(e),S(t)}}),[s.pinList]),(0,e.useEffect)((function(){w&&w.forEach((function(e,t){e.addListener("click",(function(){z(e,t)}))}))}),[w]),(0,e.useEffect)((function(){if(_)return function(){google.maps.event.removeListener(_)}}),[_]);var z=function(e,n){d.panTo(s.pinList[n].position);var r=g.addListener("domready",(function(){document.getElementById("deleteBtn").addEventListener("click",(function(){var e=Gw(s.pinIds);e.splice(n,1);var r=Gw(s.directions),a=n==s.pinList.length?n-1:n;r.splice(a,1),i(tb({tripId:t,trackId:s.trackId,pinId:s.pinIds[n],restPinIds:e,newDirections:r})),g.close()}))}));x(r);var a=new google.maps.places.PlacesService(d),o={placeId:s.pinList[n].id,fields:["photos"]};a.getDetails(o,(function(t,r){if(r===google.maps.places.PlacesServiceStatus.OK){var i,a,o=t.photos?t.photos[0].getUrl():Ab,l=s.pinList[n].name,u=s.pinList[n].address,c=s.pinList[n].id,h=s.pinList[n].type,f=s.pinList[n].rating?s.pinList[n].rating:"",p=s.pinList[n].voteNumber?"(".concat(s.pinList[n].voteNumber," Reviews)"):"";switch(h){case"tourist_attraction":i="Attraction",a=pb;break;case"restaurant":i="Restaurant",a=mb;break;case"cafe":i="Cafe",a=gb;break;case"bar":i="Bar",a=vb;break;case"store":i="Shop",a=yb;break;case"lodging":i="Hotel",a=wb;break;default:i="Others",a=bb}var m=Qw(l,a,i,u,o,f,p,c,"deleteBtn",_w);g.setContent(m),g.open({anchor:e,map:d,shouldFocus:!0,maxWidth:300,minWidth:250})}else console.log("can not get place info")}))};if(u)return e.createElement("div",{className:"trip-container"},e.createElement("div",{className:F}),e.createElement(Pb.Provider,{value:{map:d,infoWindow:g}},e.createElement(Ob.Provider,{value:{pinLatLng:k,pinMarkerList:w}},e.createElement(kb,{tripInfo:u,setIsNoteOpen:D,currentFocusNote:M,setCurrentFocusNote:U,setFocusInfoWindow:x}),e.createElement(Tb,{setFocusInfoWindow:x,setIsNoteOpen:D}),e.createElement(_b,{isNoteOpen:P,setIsNoteOpen:D,currentFocusNote:M,setCurrentFocusNote:U})),e.createElement("div",{className:"map-region"},e.createElement("div",{className:V}),e.createElement("div",{className:"map",ref:o}))),e.createElement(Fw,null))},Ub=function(){var t=f((function(e){return e.user})),n=f((function(e){return e.dashboard.tripList})),r=A(),i=ne(),a=(0,e.useRef)(),s=I((0,e.useState)(null),2),o=s[0],l=s[1],u=I((0,e.useState)(""),2),c=u[0],h=u[1],d=I((0,e.useState)(!1),2),p=d[0],m=d[1],g=I((0,e.useState)(!1),2),v=g[0],y=g[1],w=I((0,e.useState)(!0),2),b=w[0],E=w[1],k=I((0,e.useState)(!1),2),S=k[0],T=k[1],N=v?"user-data-processing":"display-none",R=S?"hamburger-menu":"display-none",x=new Lw({apiKey:"AIzaSyChp1JW3huDyuAiQrt3vb3hvYSQAuQazvA",libraries:["places"]});(0,e.useEffect)((function(){x.load().then((function(e){var t=new e.maps.Map(a.current,{mapId:"6fe2140f54e6c7b3",mapTypeControl:!1,center:{lat:30,lng:5},zoom:2}),r=new e.maps.InfoWindow;n.forEach((function(a,s){var o={map:t,position:a.destinationLatLng,icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABmJLR0QA/wD/AP+gvaeTAAADkklEQVRYhe2XT2gcVRzHP783b3aTzSZtNhZPRSpBkIKgguJBKBatqecFEclFxXoQevTgIQcPHvQmNF6KXiRkK6UHtQcvRUpRFFtKocVS1qhVUckfE3d2/rznIZl2k+zsvtlOu5d+T7M7vDeffb83n/dbuJ87iwDU6/VSWNv/QRiGa6qdfPjFZyeWhw2WRtKLl157u+n75Yf2ryy9815y6dKERHGumWq1f5j//qKALRJQpxdR0D5dqU4cD0TVW/D+hPQa1iVhAm8+fcG220flk4srRQGqW1fGfCnAL6p64F+rs0dkJWoD8gxlf64oOOgA3BOvnguCIPBHKrWfpPpbRM4ljEIAjJE3ll+efrwowG0UL86+dXZsz94jB/+68sPx5OqTkyrfNmR8Ejyf5bWVQCfxqXExVxCHPZmYT6XR/KPbrW21jOPojOfpI5dVrbqRKCbz4UEcgudT0uWRMDavIsbtlRG1Csx3u6U6P2ijv4rjiMCvTP9JqWUGLHPJ1yQI7ttEZrLubAM8uzDfbLc2fi6PVrwf1b4bLZsTMI7AGrSvEQVtq/qPARB72M5Ml/sCwqZu/HKZ79S+YN16+QC3IAXB15rQumxAAMYYN886ARajG/C1xiBErlUQupZ5F2Cnbq5L9eaguin5PgDtLmuQQegG2Gg0wrD137lSZYwL3oO/r5ucZbYGkgjP02itCFEYpzrbR+0rjzzcFxBu6YbLqlbdcF6Bzgk2V9HXJayFUBzniOMXnACL1A1A4GyD3WXuCli0bmKrCF1+ZBfdZK59kboBCNzm2KWb7M1RoG4AQut4suzQTSZg0boBaDmt4vZ92POpaXcz/vfSxx8l354ewyS5ICempvDUseWVtUOJMZtfSUJJTB9Gc0AWmk3Y0c3sTNrd3JTRx6qL14/lggPgBrbOKeUd/DrBHAJYt4q9YlG9DkGrZoAT0GsPcls3nl966vDs7FR+QJAGiTHxu2w1XgZhzfTEA27vw56Anbrx4vLzgwAC1BavnVfC62LtrwAxilXrEWZ3s8+luun7eqZ/psDOAAuDQk4tXjsJnMw7rv8ZtKUbK3J0bm5ugHPvztL3galuRkZGHzh/demJewHVmb6And0NSmW25ncrTiVLuxuhe1N5N+MEWIRuBo0TYFG6GSTOb2Xa3Wzp5p7FXRtD0o3zg4alG2fAYekmV6mGoZtcgGLMmTgKPhdPvhnGsXc/g+R/AXu9In0Iq/0AAAAASUVORK5CYII="},l=new e.maps.Marker(o);l.addListener("mouseover",(function(){r.setContent("\n            <div style='color: #134161; font-size: 18px; font-weight: bold'>".concat(n[s].tripName,"<div>\n          ")),r.open({anchor:l,map:t,shouldFocus:!0})})),l.addListener("mouseout",(function(){return r.close()})),l.addListener("click",(function(){i("/trip/".concat(n[s].tripId))}))}))}))}),[]),(0,e.useEffect)((function(){t.avatar&&("default"==t.avatar?l(Bw):pg(mg(Av,t.avatar)).then((function(e){l(e)})).catch((function(e){console.log("Something goes wrong",e)})))}),[t.avatar]),(0,e.useEffect)((function(){E(!c)}),[c]),(0,e.useEffect)((function(){p||(h(""),E(!0))}),[p]);var O=function(){window.localStorage.removeItem("userId"),window.localStorage.removeItem("username"),window.localStorage.removeItem("email"),signOut(yv),r(ow({userId:null,username:null,email:null}))},P=function(){var e=C(_().mark((function e(n){return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),y(!0),!c){e.next=10;break}return e.next=5,hm(dp(bv,"user",t.userId),{name:c});case 5:r(uw(c)),y(!1),m(!1),e.next=13;break;case 10:return y(!1),m(!1),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return e.createElement("div",null,e.createElement("div",{className:N}),e.createElement("nav",{className:"profile-nav"},e.createElement("div",null,e.createElement(me,{to:"/dashboard"},"My Trips")),e.createElement("div",null,e.createElement(me,{to:"/profile"},"Profile")),e.createElement("div",null,e.createElement(me,{to:"/home"},"Home")),e.createElement("button",{className:"profile-sign-out-btn",onClick:O},"Sign Out")),e.createElement("img",{src:Vw,className:"profile-hamburger",onClick:function(){return T((function(e){return!e}))}}),e.createElement("div",{className:R},e.createElement(me,{to:"/dashboard"},e.createElement("div",{className:"nav-btn"},e.createElement("img",{src:jw}),e.createElement("div",null,"My Trips"))),e.createElement("div",{className:"nav-btn"},e.createElement("img",{src:zw}),e.createElement("div",{onClick:function(){return T(!1)}},"Profile")),e.createElement(me,{to:"/home"},e.createElement("div",{className:"nav-btn"},e.createElement("img",{src:qw}),e.createElement("div",null,"Home"))),e.createElement("div",{className:"nav-btn",onClick:O},e.createElement("img",{src:Hw}),e.createElement("div",null,"Sign Out"))),e.createElement("div",{className:"profile-container"},e.createElement("div",{className:"profile-user"},e.createElement("div",{className:"profile-avatar"},e.createElement("div",{style:{backgroundImage:"url(".concat(o,")")}})),e.createElement("div",{className:"profile-username"},t.username),e.createElement("button",{onClick:function(){return m(!0)}},e.createElement("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAABsUlEQVRIidWUv2sTYRjHP897QsiY2SGjCBba7qKOQkCaEuiS7RLJ4Cydkv4NGZK8uS1TCZgMWQu24uTSoUoLVXDUUSihw/u+Dr0Lb6yJvVwc+l3unueFz+feH/fCf45kBdTr9SawA0yste0oin744yojvAW04nJfKfWlVqu9XIsghjeBA631prW2KCKfRGTiS1ZaogTunHvf7/dfJP1KpRIUCoUjYEMp9bjb7f5MPQPvyxGR53ENwHA4NEEQvAYKxpg3kHKJfLiXpi/pdDoXwGcRKaUSLIDfksTPJ8AY7rgH/4D7OQaecbPxrTsJUsCTtLTWB0mxVJAVvlSwDvhCwbrgfxWsE35LEIbhU6XUSQr47LQsytx/oJQqA5cisgd8zQr/UyDcXLujXq93mMvltoGjLPA5QRiG20DROTcGaLfbv6bT6SvgbFX4nEAptQNMReQ06Q0GgysRebsqHOCB914G8sCoWq2W8/n8lnOu5JzbjceXnpZFEYBGo/HIGHPu9a+BHPAdGFlr30VR9CEtfDYDY8yu1/sGTICh1voj4FYBzwlE5KFzbj8IglF8n9+f/Aa0B7GsbCx2BgAAAABJRU5ErkJggg=="}),"Edit")),e.createElement("div",{className:"profile-map"},e.createElement("div",{ref:a}))),e.createElement(Fw,null),p?e.createElement("div",{className:"profile-modal-background"},e.createElement("div",{className:"profile-modal"},e.createElement("div",{className:"profile-modal-title"},"Edit Your Profile"),e.createElement("div",{onClick:function(){return m(!1)},className:"close-btn"},""),e.createElement("form",{onSubmit:P},e.createElement("div",{className:"profile-avatar"},e.createElement("div",{style:{backgroundImage:"url(".concat(o,")")}}),e.createElement("label",{htmlFor:"avatar-img"},e.createElement("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAAEa0lEQVRIibWXWWxUZRTHf+dOZ7DQO0s7tbZkKgVpFBTQIGIhuCSKvNCIsaRoSAgao9EiNNEYHkCjKGIhKNEHjYkEBBRCSiQNLok2FHFBMCy10LK10HWcOzNNW0h6jw9d0s7CDKH+3+Z/znd+3/3y3XPPCGlIVR2dVvc8MexSUUqAyYBvMBwCzgta128b1bk+84iI9KeqKTcKNjdrZqYZXgWyBshNZ5NAB0hVb9T8JBCQ3psGBy2rTGEzyMQ0gbFqFnRNjte7N1HQiDVUVTpD4fWK7L4FKEBAkW+6rMgHqhrHGfXEqmp0hSO7BMpuARgnhT1+j3uZiNhD3qidBMPR98YaCiCwNBiOvBPjDUItq0yRPamKnDh9lta2rlFe/h1+Zk0vTrVUBX02x+vdNwweuL2RBiAwMrOtI8j2vQeZNb2YJx+Zyw+1v1H12Y6EVStffp4nFjyUin3lek9PcUFBQY8AdFnWWyAbRqYEQ2E6Ov+l79p1DIdBONLNx5/vorsn8RuSNT6TihfLyc/zD3vZXjc5Pk9Mprzp97o/FFV1BMORVka8p4d//5sNW7/Etm0SaWpRgLsmBVCg8WIzjReaE+YZhsHaVSuYN2fWSLs9x+OemNFldc8XGd0c/jxxJiE0P8/PG68s557iolH+6YbzbPp0O20dQUSEl5Yv4cChWq62dfLHifpYcF4oFH04A8MuRUcDEkH92V42r1+N0+Vk6xe7OHrsFAAls2ewonwxVetXU7F2E6FwFI+ZhSvDmbSWGnapMdh7U2rlslKyxmeyZt0Wan46QsiKELIiHPzxMJXrtuCeMJ6V5aXYts3GbV9xseVq0lqqUmIw0PBvqHEuJ/MfnEn1oV+43NIaF7/U0sqB72uZP3cmLqcr9VMIUwwg9trFyZ/jw+ly0tB0KWlOQ9MlXE4XuX5vajB443poIvX1XQPANCckzTGzBmI9vX3plMQAwqmSgqEwzVfaWfRYCQ6HIy7ucDh46vESLre0ErIi6XAtA2hKJ3Pn/hqmTi7k1ZVljHM5h/1xLicVLyxlalGAHftq0imFKo0ZgtYpMjdV8s91xygsyGfZkoXMnjGNv07WIyI8cN/d5Pg87NhbQ+3R42mBRbQuo982qg1DK9NZsP3b7zh+qoHFCxcwc9rAR+HM2QscOFTLqX8a04ICiGFUZ+T6zCPBcKQDuH0oMKmwIOmik/XnOFl/Lm1I0Z1xtdqzTfNohoj0d1mRKtCNQ5GnFz1KQZ6fkBVNG5BI2T6TOfffO8pTlU0iYgvABdXbzHCkASi8JVJKSUtv1CwOBKTXACgS6RO0EmK79phKUSqGJs/hBjIwDcr7/xtVedfvc+8f+p1o2PtaYOlYQgV2Z3vczyUd9kTE9nvc5aq8zdgcu4JsjIUObiaxgpb1jCJbiJnDbkKXUXl95PGmBYaB254Vjr42ePHy0gS2K/JRt8fcViSS9ItxQ/CQVNUIhaIlatilqlKCMIWRf9qUJhGtE8Oo9pnmr7HHmkj/AZy7o83sA7YXAAAAAElFTkSuQmCC"})),e.createElement("input",{type:"file",id:"avatar-img",accept:"image/*",onChange:function(e){y(!0);var n=e.target.files[0];return function(e,t,n){return function(e,t,n){e._throwIfRoot("uploadBytes");const r=rg(e.storage,e._location,Zm(),new Gm(t,!0),n);return e.storage.makeRequestWithTokens(r,ag).then((t=>({metadata:t,ref:e})))}(e=Ve(e),t,void 0)}(mg(Av,"avatar/".concat(t.userId,"/").concat(n.name)),n).then((function(e){hm(dp(bv,"user",t.userId),{avatar:e.ref.fullPath}),r(lw(e.ref.fullPath)),E(!1),y(!1)})).catch((function(e){return console.log("Something goes wrong",e)})),!1}})),e.createElement("div",{className:"profile-modal-input"},e.createElement("label",{htmlFor:"username"},"Username"),e.createElement("input",{type:"text",id:"username",placeholder:"New username",value:c,onChange:function(e){e.target.value?h(e.target.value):h("")}})),e.createElement("input",{type:"submit",value:"Save",disabled:b})))):e.createElement("div",null))};var Fb=function(){var e=C(_().mark((function e(t,n,r){return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,cm(dp(bv,"user",t),{name:n,email:r,tripId:[],FirstEntryTime:mm(),avatar:"default"});case 3:console.log("create new user successfully"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Error adding document: ",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n,r){return e.apply(this,arguments)}}();const Bb=function(){var t,n=f((function(e){return e.user.userId})),r=I((0,e.useState)(!0),2),i=r[0],a=r[1],s=A();return(0,e.useEffect)((function(){var e=setTimeout((function(){a(!1)}),3e3);return function(){clearTimeout(e)}}),[]),(0,e.useEffect)((function(){var e=window.localStorage.getItem("userId"),t=window.localStorage.getItem("username"),n=window.localStorage.getItem("email");e&&t&&n&&s(ow({userId:e,username:t,email:n}))}),[]),(0,e.useEffect)((function(){!function(e,t,n,r){Ve(e).onAuthStateChanged((function(e){e&&om(dp(bv,"user",e.uid)).then((function(t){t.exists()?s(ow({userId:e.uid,username:t.data().name,email:e.email})):(Fb(e.uid,e.displayName,e.email),s(ow({userId:e.uid,username:e.displayName,email:e.email})))}))}),void 0,void 0)}(yv)}),[]),(0,e.useEffect)((function(){n&&s(iw(n))}),[n]),t=n?e.createElement(e.Fragment,null,e.createElement(ae,{path:"/",element:e.createElement(Kw,null)}),e.createElement(ae,{path:"/dashboard",element:e.createElement(Kw,null)}),e.createElement(ae,{path:"/trip/:tripId",element:e.createElement(Mb,null)}),e.createElement(ae,{path:"/profile",element:e.createElement(Ub,null)})):e.createElement(e.Fragment,null,e.createElement(ae,{path:"/",element:e.createElement(ww,null)}),e.createElement(ae,{path:"/dashboard",element:e.createElement(ie,{to:"/"})}),e.createElement(ae,{path:"/trip/:tripId",element:e.createElement(ie,{to:"/"})}),e.createElement(ae,{path:"/profile",element:e.createElement(ie,{to:"/"})})),i?e.createElement(hw,null):e.createElement("div",null,e.createElement(fe,null,e.createElement(oe,null,t,e.createElement(ae,{path:"/home",element:e.createElement(ww,null)}),e.createElement(ae,{path:"*",element:e.createElement("main",{style:{padding:"1rem"}},e.createElement("p",null,"There's nothing here!"))}))))},Vb=function(e){var t,n=function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new Wy);return n&&(function(e){return"boolean"==typeof e}(n)?r.push(Py):r.push(Py.withExtraArgument(n.extraArgument))),r}(e)},r=e||{},i=r.reducer,a=void 0===i?void 0:i,s=r.middleware,o=void 0===s?n():s,l=r.devTools,u=void 0===l||l,c=r.preloadedState,h=void 0===c?void 0:c,d=r.enhancers,f=void 0===d?void 0:d;if("function"==typeof a)t=a;else{if(!function(e){if("object"!=typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];"function"==typeof e[i]&&(n[i]=e[i])}var a,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:Ty.INIT}))throw new Error(ky(12));if(void 0===n(void 0,{type:Ty.PROBE_UNKNOWN_ACTION()}))throw new Error(ky(13))}))}(n)}catch(e){a=e}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},o=0;o<s.length;o++){var l=s[o],u=n[l],c=e[l],h=u(c,t);if(void 0===h)throw t&&t.type,new Error(ky(14));i[l]=h,r=r||h!==c}return(r=r||s.length!==Object.keys(e).length)?i:e}}(a)}var p=o;"function"==typeof p&&(p=p(n));var m=_y.apply(void 0,p),g=Ry;u&&(g=Gy(Hy({trace:!1},"object"==typeof u&&u)));var v=[m];return Array.isArray(f)?v=My([m],f):"function"==typeof f&&(v=f(v)),Ny(t,h,g.apply(void 0,v))}({reducer:{user:cw,dashboard:Nw,trip:lb}});var jb=document.getElementById("root");(0,t.s)(jb).render(e.createElement(v,{store:Vb},e.createElement(Bb,null)))})()})();